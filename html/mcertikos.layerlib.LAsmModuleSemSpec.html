<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>mcertikos.layerlib.LAsmModuleSemSpec</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library mcertikos.layerlib.LAsmModuleSemSpec</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coqlib</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Maps</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.ASTExtra.html#"><span class="id" title="library">ASTExtra</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Integers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Floats</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Values</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Memory</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Events</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Globalenvs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Smallstep</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">AsmX</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Conventions</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Machregs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.AuxLemma.html#"><span class="id" title="library">AuxLemma</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.CommonTactic.html#"><span class="id" title="library">CommonTactic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.logic.PTreeModules</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.logic.PTreeSemantics</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compcertx.MemWithData</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compcertx.Stencil</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compcertx.MakeProgram</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compat.CompatData</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compat.CompatPrimSem</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compat.CompatLayers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compat.CompatExternalCalls</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">CompCertBuiltins</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#"><span class="id" title="library">LAsm</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.MemoryExtra.html#"><span class="id" title="library">MemoryExtra</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSem.html#"><span class="id" title="library">LAsmModuleSem</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="WITHMEM"><span class="id" title="section">WITHMEM</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hstencil</span>: <span class="id" title="class">Stencil</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hmem</span>: <span class="id" title="class">Mem.MemoryModel</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hmwd</span>: <span class="id" title="class">UseMemWithData</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#WITHMEM.mem"><span class="id" title="variable">mem</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">make_program_ops</span>: !<span class="id" title="class">MakeProgramOps</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#function"><span class="id" title="record">function</span></a> <span class="id" title="inductive">Ctypes.type</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#fundef"><span class="id" title="definition">fundef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">make_program_prf</span>: !<span class="id" title="class">MakeProgram</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#function"><span class="id" title="record">function</span></a> <span class="id" title="inductive">Ctypes.type</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#fundef"><span class="id" title="definition">fundef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="asm_primitive_le"><span class="id" title="inductive">asm_primitive_le</span></a> {<span class="id" title="var">D</span>}: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Relations.Relation_Definitions.html#relation"><span class="id" title="definition">relation</span></a> (<span class="id" title="definition">compatsem</span> <span class="id" title="var">D</span>) :=<br/>
&nbsp;&nbsp;| <a name="asm_primitive_le_sextcall"><span class="id" title="constructor">asm_primitive_le_sextcall</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (σ1 σ2: <span class="id" title="record">sprimcall_primsem</span> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">SEM</span>: <span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span>: <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#WITHMEM.stencil"><span class="id" title="variable">stencil</span></a>) <span class="id" title="var">rs</span> <span class="id" title="var">rs&acute;</span> <span class="id" title="var">m</span> <span class="id" title="var">m&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">sprimcall_primsem_step</span> <span class="id" title="var">D</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs"><span class="id" title="variable">rs</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs&acute;"><span class="id" title="variable">rs&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">sprimcall_valid</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.PArith.BinPos.html#0af097a55db0240a031a15b1e23ba4ca"><span class="id" title="notation">≤</span></a> <span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m&acute;"><span class="id" title="variable">m&acute;</span></a>)%<span class="id" title="var">positive</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">f&acute;</span> <span class="id" title="var">m0&acute;</span> <span class="id" title="var">rs0&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">sprimcall_primsem_step</span> <span class="id" title="var">D</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs"><span class="id" title="variable">rs</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs0&acute;"><span class="id" title="variable">rs0&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m0&acute;"><span class="id" title="variable">m0&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="definition">inject_incr</span> (<span class="id" title="definition">Mem.flat_inj</span> (<span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m&acute;"><span class="id" title="variable">m&acute;</span></a>)) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#f&acute;"><span class="id" title="variable">f&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="method">Memtype.Mem.inject</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#f&acute;"><span class="id" title="variable">f&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m0&acute;"><span class="id" title="variable">m0&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> (<span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.PArith.BinPos.html#0af097a55db0240a031a15b1e23ba4ca"><span class="id" title="notation">≤</span></a> <span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m0&acute;"><span class="id" title="variable">m0&acute;</span></a>)%<span class="id" title="var">positive</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">Val.lessdef</span> (<span class="id" title="definition">Pregmap.get</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs&acute;"><span class="id" title="variable">rs&acute;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">Pregmap.get</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs0&acute;"><span class="id" title="variable">rs0&acute;</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hsig</span>: <span class="id" title="projection">sprimcall_sig</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="projection">sprimcall_sig</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hvalid</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>, <span class="id" title="projection">sprimcall_valid</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> → <span class="id" title="projection">sprimcall_valid</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hname</span>: <span class="id" title="inductive">option_le</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<span class="id" title="projection">sprimcall_name</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>) (<span class="id" title="projection">sprimcall_name</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">INV</span>: <span class="id" title="definition">isError</span> (<span class="id" title="projection">sprimcall_invs</span> <span class="id" title="var">D</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_primitive_le"><span class="id" title="inductive">asm_primitive_le</span></a> (<span class="id" title="definition">compatsem_inr</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>) (<span class="id" title="definition">compatsem_inr</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#a4d9266a5be6c0504292c8910a50c288"><span class="id" title="variable">σ2</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="asm_spec_le"><span class="id" title="record">asm_spec_le</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">L1</span> <span class="id" title="var">L2</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D"><span class="id" title="variable">D</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="asm_spec_le_primitive"><span class="id" title="projection">asm_spec_le_primitive</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">res_le</span> (<span class="id" title="inductive">option_le</span> (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_primitive_le"><span class="id" title="inductive">asm_primitive_le</span></a>)) (<span class="id" title="method">get_layer_primitive</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L1"><span class="id" title="variable">L1</span></a>) (<span class="id" title="method">get_layer_primitive</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L2"><span class="id" title="variable">L2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="asm_spec_le_globalvars"><span class="id" title="projection">asm_spec_le_globalvars</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">res_le</span> (<span class="id" title="inductive">option_le</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<span class="id" title="method">get_layer_globalvar</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L1"><span class="id" title="variable">L1</span></a>) (<span class="id" title="method">get_layer_globalvar</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L2"><span class="id" title="variable">L2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="asm_spec_le_load"><span class="id" title="projection">asm_spec_le_load</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">res_le</span> (<span class="id" title="inductive">option_le</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<span class="id" title="projection">cl_exec_load</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L1"><span class="id" title="variable">L1</span></a>) (<span class="id" title="projection">cl_exec_load</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L2"><span class="id" title="variable">L2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="asm_spec_le_store"><span class="id" title="projection">asm_spec_le_store</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">res_le</span> (<span class="id" title="inductive">option_le</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) (<span class="id" title="projection">cl_exec_store</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L1"><span class="id" title="variable">L1</span></a>) (<span class="id" title="projection">cl_exec_store</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L2"><span class="id" title="variable">L2</span></a>)<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">extcall_invariants_defined_dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">primcall_invariants_defined_dec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">prim_valid_dec</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="asm_sem_intro"><span class="id" title="lemma">asm_sem_intro</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">i</span>: <span class="id" title="definition">ident</span>) (<span class="id" title="var">f</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#function"><span class="id" title="record">function</span></a>) (<span class="id" title="var">L</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D"><span class="id" title="variable">D</span></a>) (σ: <span class="id" title="record">sprimcall_primsem</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D"><span class="id" title="variable">D</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">rs</span> <span class="id" title="var">rs&acute;</span> <span class="id" title="var">m</span> <span class="id" title="var">m&acute;</span> <span class="id" title="var">p</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">sprimcall_primsem_step</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs"><span class="id" title="variable">rs</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs&acute;"><span class="id" title="variable">rs&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">make_program</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">ret</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#p"><span class="id" title="variable">p</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.PArith.BinPos.html#0af097a55db0240a031a15b1e23ba4ca"><span class="id" title="notation">≤</span></a> <span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m&acute;"><span class="id" title="variable">m&acute;</span></a>)%<span class="id" title="var">positive</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">f&acute;</span> <span class="id" title="var">m0&acute;</span> <span class="id" title="var">rs0&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LAsmModuleSemDef.html#lasm_step"><span class="id" title="inductive">lasm_step</span></a> (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs"><span class="id" title="variable">rs</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs0&acute;"><span class="id" title="variable">rs0&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m0&acute;"><span class="id" title="variable">m0&acute;</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="definition">inject_incr</span> (<span class="id" title="definition">Mem.flat_inj</span> (<span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m&acute;"><span class="id" title="variable">m&acute;</span></a>)) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#f&acute;"><span class="id" title="variable">f&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="method">Memtype.Mem.inject</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#f&acute;"><span class="id" title="variable">f&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m0&acute;"><span class="id" title="variable">m0&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> (<span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.PArith.BinPos.html#0af097a55db0240a031a15b1e23ba4ca"><span class="id" title="notation">≤</span></a> <span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#m0&acute;"><span class="id" title="variable">m0&acute;</span></a>)%<span class="id" title="var">positive</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="inductive">Val.lessdef</span> (<span class="id" title="definition">Pregmap.get</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs&acute;"><span class="id" title="variable">rs&acute;</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">Pregmap.get</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs0&acute;"><span class="id" title="variable">rs0&acute;</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LAsm.html#fn_sig"><span class="id" title="projection">fn_sig</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="projection">sprimcall_sig</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <span class="id" title="var">s</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <span class="id" title="definition">Decision.decide</span> (<span class="id" title="class">ExtcallInvariantsDefined</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L"><span class="id" title="variable">L</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">Decision.decide</span> (<span class="id" title="class">PrimcallInvariantsDefined</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L"><span class="id" title="variable">L</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">Decision.decide</span> (<span class="id" title="class">LayerNamesMatch</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L"><span class="id" title="variable">L</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">Decision.decide</span> (<span class="id" title="definition">get_layer_prim_valid</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#s"><span class="id" title="variable">s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemDef.html#accessors_weak_defined"><span class="id" title="definition">accessors_weak_defined</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="method">make_program</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">OK</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Error</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> → <span class="id" title="projection">sprimcall_valid</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">isError</span> (<span class="id" title="projection">sprimcall_invs</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">Hname</span>: <span class="id" title="inductive">option_le</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> (<span class="id" title="projection">sprimcall_name</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">NOCONFLICT</span>: <span class="id" title="method">get_layer_primitive</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_spec_le"><span class="id" title="record">asm_spec_le</span></a> (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">compatsem_inr</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a>) (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#f"><span class="id" title="variable">f</span></a><span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L"><span class="id" title="variable">L</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Coqlib.peq</span> <span class="id" title="var">i0</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_layer_primitive_mapsto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="method">get_module_function_mapsto</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">MODULE</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="lemma">compat_get_semof_primitive</span> <span class="id" title="var">i</span> (<span class="id" title="var">i</span> <span class="id" title="notation">↦</span> <span class="id" title="var">f</span>) <span class="id" title="var">L</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hsemof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H</span>: ?<span class="id" title="var">y1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">?</span></a><span class="id" title="var">y2</span> |-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?<span class="id" title="var">R</span> ?<span class="id" title="var">x</span> ?<span class="id" title="var">y3</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">y3</span> <span class="id" title="keyword">with</span> <span class="id" title="var">y2</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_module_function_mapsto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">semof_function</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monad_norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Decision.decide</span> (<span class="id" title="class">ExtcallInvariantsDefined</span> <span class="id" title="var">L</span>)); <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Decision.decide</span> (<span class="id" title="class">PrimcallInvariantsDefined</span> <span class="id" title="var">L</span>)); <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Decision.decide</span> (<span class="id" title="class">LayerNamesMatch</span> <span class="id" title="var">D</span> <span class="id" title="var">L</span>)); <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Decision.decide</span> (<span class="id" title="definition">get_layer_prim_valid</span> <span class="id" title="var">L</span> <span class="id" title="var">s</span>)); <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">caseEq</span> (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemDef.html#accessors_weak_defined"><span class="id" title="definition">accessors_weak_defined</span></a> <span class="id" title="var">L</span>); <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">make_program</span> <span class="id" title="var">s</span> (<span class="id" title="var">i</span> <span class="id" title="notation">↦</span> <span class="id" title="var">f</span>) <span class="id" title="var">L</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hmp</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">esplit</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_layer_primitive_mapsto_other_primitive</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">lower_bound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_layer_globalvar_mapsto_primitive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="inductive">res_le</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ?<span class="id" title="var">x</span> ⇒ <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span> <span class="id" title="keyword">as</span>  [ [ ? | ] | ?]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#WITHMEM"><span class="id" title="section">WITHMEM</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="WITHMEMX"><span class="id" title="section">WITHMEMX</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hstencil</span>: <span class="id" title="class">Stencil</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hmem</span>: <span class="id" title="class">Mem.MemoryModelX</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hmwd</span>: <span class="id" title="class">UseMemWithData</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#WITHMEMX.mem"><span class="id" title="variable">mem</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">make_program_ops</span>: !<span class="id" title="class">MakeProgramOps</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#function"><span class="id" title="record">function</span></a> <span class="id" title="inductive">Ctypes.type</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#fundef"><span class="id" title="definition">fundef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">make_program_prf</span>: !<span class="id" title="class">MakeProgram</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#function"><span class="id" title="record">function</span></a> <span class="id" title="inductive">Ctypes.type</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#fundef"><span class="id" title="definition">fundef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#unit"><span class="id" title="inductive">unit</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="val_inject_lessdef_compose"><span class="id" title="lemma">val_inject_lessdef_compose</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">j</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span>, <span class="id" title="inductive">val_inject</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#v2"><span class="id" title="variable">v2</span></a> → <span class="id" title="keyword">∀</span> <span class="id" title="var">v3</span>, <span class="id" title="inductive">Val.lessdef</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#v2"><span class="id" title="variable">v2</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#v3"><span class="id" title="variable">v3</span></a> → <span class="id" title="inductive">val_inject</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#v1"><span class="id" title="variable">v1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#v3"><span class="id" title="variable">v3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="asm_primitive_le_compose"><span class="id" title="lemma">asm_primitive_le_compose</span></a> {<span class="id" title="var">D1</span>: <span class="id" title="record">compatdata</span>} {<span class="id" title="var">D2</span>: <span class="id" title="record">compatdata</span>} {<span class="id" title="var">R</span>: <span class="id" title="class">compatrel</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D2"><span class="id" title="variable">D2</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x0</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">compatsim</span> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#R"><span class="id" title="variable">R</span></a>) (<span class="id" title="definition">compatsem_inr</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x0"><span class="id" title="variable">x0</span></a>) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x1"><span class="id" title="variable">x1</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_primitive_le"><span class="id" title="inductive">asm_primitive_le</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x2"><span class="id" title="variable">x2</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">compatsim</span> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#R"><span class="id" title="variable">R</span></a>) (<span class="id" title="definition">compatsem_inr</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x0"><span class="id" title="variable">x0</span></a>) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x2"><span class="id" title="variable">x2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">sprimcall_sim_step</span>; <span class="id" title="tactic">eauto</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hvalid</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f&acute;</span>[<span class="id" title="var">rs2&acute;</span>[<span class="id" title="var">m2&acute;</span>[<span class="id" title="var">d2&acute;</span>[<span class="id" title="var">Hstep</span> <span class="id" title="var">Hmatch</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SEM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hnextblock&acute;</span> [<span class="id" title="var">f&acute;&acute;</span>[<span class="id" title="var">m2&acute;&acute;</span>[<span class="id" title="var">rs2&acute;&acute;</span>[<span class="id" title="var">Hstep&acute;</span>[<span class="id" title="var">Hincr</span>[<span class="id" title="var">Hinject</span>[<span class="id" title="var">Hnextblock</span> <span class="id" title="var">Hles</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m2&acute;&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ASM_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">inv_inject_neutral</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lift_unfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinject</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinject</span> <span class="id" title="var">Heq</span>]. <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hmatch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">match_extcall_states</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">COMPOSE</span>: <span class="id" title="definition">compose_meminj</span> <span class="id" title="var">f&acute;</span> <span class="id" title="var">f&acute;&acute;</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">f&acute;</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" title="lemma">FunctionalExtensionality.functional_extensionality</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">compose_meminj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f&acute;</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [ [<span class="id" title="var">y</span> <span class="id" title="keyword">delta</span>] | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqx</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="method">Mem.valid_block_inject_2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">Mem.valid_block</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">f&acute;&acute;</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> 0%<span class="id" title="var">Z</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hincr</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Mem.flat_inj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">plt</span> <span class="id" title="var">y</span> (<span class="id" title="method">Mem.nextblock</span> <span class="id" title="var">m2&acute;</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>. <span class="id" title="var">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}    <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">refine_split&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hstep&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">COMPOSE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.inject_compose</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">COMPOSE</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="method">match_compose</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">inject_incr_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.AuxLemma.html#flat_inj_inject_incr"><span class="id" title="lemma">flat_inj_inject_incr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#val_inject_lessdef_compose"><span class="id" title="lemma">val_inject_lessdef_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">INV</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i1</span> <span class="id" title="var">INV</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="asm_spec_compose"><span class="id" title="lemma">asm_spec_compose</span></a> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">R</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">L1</span> <span class="id" title="var">L2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">cl_sim</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D2"><span class="id" title="variable">D2</span></a> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">compatsem_inr</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L1"><span class="id" title="variable">L1</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_spec_le"><span class="id" title="record">asm_spec_le</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L2"><span class="id" title="variable">L2</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">cl_sim</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D2"><span class="id" title="variable">D2</span></a> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">compatsem_inr</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L2"><span class="id" title="variable">L2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">cl_sim_layer_pointwise</span> <span class="id" title="keyword">in</span> <span class="id" title="var">cl_sim_layer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl_sim_layer</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cl_sim_layer_prim</span> <span class="id" title="var">cl_sim_layer_var</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">constructor</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">cl_sim_layer_pointwise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">peq</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">specialize</span> (<span class="id" title="var">cl_sim_layer_prim</span> <span class="id" title="var">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_layer_primitive_mapsto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_layer_primitive_mapsto</span> <span class="id" title="keyword">in</span> <span class="id" title="var">cl_sim_layer_prim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">asm_spec_le_primitive0</span> <span class="id" title="var">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">asm_spec_le_primitive0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">cl_sim_layer_prim</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_primitive_le_compose"><span class="id" title="lemma">asm_primitive_le_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">specialize</span> (<span class="id" title="var">cl_sim_layer_prim</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_layer_primitive_mapsto_other_primitive</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">asm_spec_le_primitive0</span> <span class="id" title="var">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">asm_spec_le_primitive0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">asm_spec_le_load0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">asm_spec_le_store0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="val_list_inject_lessdef_compose"><span class="id" title="lemma">val_list_inject_lessdef_compose</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">j</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> (<span class="id" title="var">rs2</span>: <span class="id" title="definition">regset</span>), <span class="id" title="inductive">val_list_inject</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#v1"><span class="id" title="variable">v1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs2"><span class="id" title="variable">rs2</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#v2"><span class="id" title="variable">v2</span></a>) → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">rs3</span>, (<span class="id" title="keyword">∀</span> <span class="id" title="var">r</span>, <span class="id" title="inductive">Val.lessdef</span> (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs2"><span class="id" title="variable">rs2</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#r"><span class="id" title="variable">r</span></a>) (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs3"><span class="id" title="variable">rs3</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#r"><span class="id" title="variable">r</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <span class="id" title="inductive">val_list_inject</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#v1"><span class="id" title="variable">v1</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#rs3"><span class="id" title="variable">rs3</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#v2"><span class="id" title="variable">v2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">v1</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">v2</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">v2</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#val_inject_lessdef_compose"><span class="id" title="lemma">val_inject_lessdef_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="asm_primitive_le_compose_inl"><span class="id" title="lemma">asm_primitive_le_compose_inl</span></a> {<span class="id" title="var">D1</span>: <span class="id" title="record">compatdata</span>} {<span class="id" title="var">D2</span>: <span class="id" title="record">compatdata</span>} {<span class="id" title="var">R</span>: <span class="id" title="class">compatrel</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D2"><span class="id" title="variable">D2</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">x0</span> <span class="id" title="var">x1</span> <span class="id" title="var">x2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">compatsim</span> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#R"><span class="id" title="variable">R</span></a>) (<span class="id" title="definition">compatsem_inl</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x0"><span class="id" title="variable">x0</span></a>) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x1"><span class="id" title="variable">x1</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_primitive_le"><span class="id" title="inductive">asm_primitive_le</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x1"><span class="id" title="variable">x1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x2"><span class="id" title="variable">x2</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">compatsim</span> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#R"><span class="id" title="variable">R</span></a>) (<span class="id" title="definition">compatsem_inl</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x0"><span class="id" title="variable">x0</span></a>) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x2"><span class="id" title="variable">x2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">sextcall_sprimcall_sim_step</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i</span>[<span class="id" title="var">name</span> <span class="id" title="var">Hsimstep</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">i</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">name</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hname</span>. <span class="id" title="var">inv</span> <span class="id" title="var">Hname</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">Hsimstep</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hsimstep</span>; <span class="id" title="tactic">eauto</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hvalid</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">f&acute;</span>[<span class="id" title="var">rs2&acute;</span>[<span class="id" title="var">m2&acute;</span>[<span class="id" title="var">d2&acute;</span>[<span class="id" title="var">Hstep</span> <span class="id" title="var">Hmatch</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmatch</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hmatch</span> &amp; <span class="id" title="var">Hincr</span> &amp; <span class="id" title="var">Hval</span> &amp; <span class="id" title="var">Hless</span> &amp; <span class="id" title="var">Hpc</span> &amp; <span class="id" title="var">Hesp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SEM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">Hnextblock&acute;</span> [<span class="id" title="var">f&acute;&acute;</span>[<span class="id" title="var">m2&acute;&acute;</span>[<span class="id" title="var">rs2&acute;&acute;</span>[<span class="id" title="var">Hstep&acute;</span>[<span class="id" title="var">Hincr&acute;</span>[<span class="id" title="var">Hinject</span>[<span class="id" title="var">Hnextblock</span> <span class="id" title="var">Hles</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m2&acute;&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ASM_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">inv_inject_neutral</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="definition">Conventions1.destroyed_at_call</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lift_unfold</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hinject</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hinject</span> <span class="id" title="var">Heq</span>]. <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hmatch</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">COMPOSE</span>: <span class="id" title="definition">compose_meminj</span> <span class="id" title="var">f&acute;</span> <span class="id" title="var">f&acute;&acute;</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">f&acute;</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Logic.FunctionalExtensionality.html#functional_extensionality"><span class="id" title="lemma">FunctionalExtensionality.functional_extensionality</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">compose_meminj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f&acute;</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> [ [<span class="id" title="var">y</span> <span class="id" title="keyword">delta</span>] | ] <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqx</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="method">Mem.valid_block_inject_2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="method">Mem.valid_block</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="var">f&acute;&acute;</span> <span class="id" title="var">y</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> 0%<span class="id" title="var">Z</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">f_equal</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hincr&acute;</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Mem.flat_inj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">plt</span> <span class="id" title="var">y</span> (<span class="id" title="method">Mem.nextblock</span> <span class="id" title="var">m2&acute;</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hlt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">n</span>. <span class="id" title="var">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">refine_split&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hstep&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">COMPOSE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.inject_compose</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">COMPOSE</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="method">match_compose</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">inject_incr_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.AuxLemma.html#"><span class="id" title="library">AuxLemma</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.AuxLemma.html#flat_inj_inject_incr"><span class="id" title="lemma">flat_inj_inject_incr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">xomega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#val_list_inject_lessdef_compose"><span class="id" title="lemma">val_list_inject_lessdef_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Val.lessdef_trans</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hless</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hles</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Val.lessdef_trans</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Val.lessdef_trans</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">INV</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">i1</span> <span class="id" title="var">INV</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="asm_spec_compose_inl"><span class="id" title="lemma">asm_spec_compose_inl</span></a> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">R</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">L1</span> <span class="id" title="var">L2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">cl_sim</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D2"><span class="id" title="variable">D2</span></a> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">compatsem_inl</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L1"><span class="id" title="variable">L1</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_spec_le"><span class="id" title="record">asm_spec_le</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L1"><span class="id" title="variable">L1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L2"><span class="id" title="variable">L2</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">cl_sim</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#D2"><span class="id" title="variable">D2</span></a> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">compatsem_inl</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#L2"><span class="id" title="variable">L2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">cl_sim_layer_pointwise</span> <span class="id" title="keyword">in</span> <span class="id" title="var">cl_sim_layer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">cl_sim_layer</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">cl_sim_layer_prim</span> <span class="id" title="var">cl_sim_layer_var</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">constructor</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="lemma">cl_sim_layer_pointwise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">peq</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">specialize</span> (<span class="id" title="var">cl_sim_layer_prim</span> <span class="id" title="var">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_layer_primitive_mapsto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_layer_primitive_mapsto</span> <span class="id" title="keyword">in</span> <span class="id" title="var">cl_sim_layer_prim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">asm_spec_le_primitive0</span> <span class="id" title="var">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">asm_spec_le_primitive0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">cl_sim_layer_prim</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_primitive_le_compose_inl"><span class="id" title="lemma">asm_primitive_le_compose_inl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">specialize</span> (<span class="id" title="var">cl_sim_layer_prim</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_layer_primitive_mapsto_other_primitive</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">asm_spec_le_primitive0</span> <span class="id" title="var">i0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">asm_spec_le_primitive0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">etransitivity</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">asm_spec_le_load0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">asm_spec_le_store0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#WITHMEMX"><span class="id" title="section">WITHMEMX</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>