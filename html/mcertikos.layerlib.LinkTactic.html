<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>mcertikos.layerlib.LinkTactic</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library mcertikos.layerlib.LinkTactic</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coqlib</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compat.CompatLayers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.logic.Semantics</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#"><span class="id" title="library">CompCertiKOSproof</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">CompatClightSem</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">I64Layer</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">I64LayerAutosim</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#"><span class="id" title="library">LAsmModuleSemSpec</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.LayerCalculusLemma.html#"><span class="id" title="library">LayerCalculusLemma</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Decision</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#"><span class="id" title="library">LAsm</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemTransfer.html#"><span class="id" title="library">LAsmModuleSemTransfer</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="WITHCOMPCERTIKOS"><span class="id" title="section">WITHCOMPCERTIKOS</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">compcertikos_prf</span>: <a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#CompCertiKOS"><span class="id" title="class">CompCertiKOS</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="link_compiler"><span class="id" title="lemma">link_compiler</span></a> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">R</span> <span class="id" title="var">i</span> (<span class="id" title="var">κ</span>: <span class="id" title="record">Clight.function</span>) σ<span class="id" title="var">_spec_high</span> σ<span class="id" title="var">_spec_low</span> <span class="id" title="var">L2</span> <span class="id" title="var">L_impl</span> <span class="id" title="var">M</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#LayerCompilable"><span class="id" title="class">LayerCompilable</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">ModuleOK</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">module_layer_disjoint</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a>) (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.CompCertiKOS.html#transf_module"><span class="id" title="definition">CompCertiKOS.transf_module</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">compatsim</span> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTactic.html#504ced1a63f18648bced2eddc31ab017"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#504ced1a63f18648bced2eddc31ab017"><span class="id" title="variable">_spec_high</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">_spec_low</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <span class="id" title="var">j</span> σ1,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">get_layer_primitive</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">_spec_low</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="definition">compatsem_inl</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>)) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">WB</span> <span class="id" title="var">args</span> <span class="id" title="var">m</span> <span class="id" title="var">res</span> <span class="id" title="var">m&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#WB"><span class="id" title="variable">WB</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#args"><span class="id" title="variable">args</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#res"><span class="id" title="variable">res</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#m"><span class="id" title="variable">m</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">KERNEL_MODE</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">j</span> σ1,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">get_layer_primitive</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">_spec_low</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="definition">compatsem_inl</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a>)) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> <span class="id" title="var">WB</span> <span class="id" title="var">args</span> <span class="id" title="var">m</span> <span class="id" title="var">res</span> <span class="id" title="var">m&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#1cc6be414ab52727f77057b4b030dde0"><span class="id" title="variable">σ1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#WB"><span class="id" title="variable">WB</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#args"><span class="id" title="variable">args</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#res"><span class="id" title="variable">res</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> (<span class="id" title="definition">π</span><span class="id" title="definition">_data</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#m"><span class="id" title="variable">m</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">spec_le</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">_spec_low</span></a>) (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L_impl"><span class="id" title="variable">L_impl</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L_impl"><span class="id" title="variable">L_impl</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">cl_sim</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#504ced1a63f18648bced2eddc31ab017"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#504ced1a63f18648bced2eddc31ab017"><span class="id" title="variable">_spec_high</span></a>) (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a><span class="id" title="notation">〛</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#cl_sim_compiler_layersim_compose"><span class="id" title="lemma">cl_sim_compiler_layersim_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="method">layer_sim_intro</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hlsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#compiler_layersim_spec_le_compose"><span class="id" title="lemma">compiler_layersim_spec_le_compose</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">spec_le_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="notation">〚</span><span class="id" title="var">i</span> <span class="id" title="notation">↦</span> <span class="id" title="var">κ</span><span class="id" title="notation">〛</span> (<span class="id" title="var">L2</span> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">clight_semantics_monotonic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">left_upper_bound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#compiler_correct"><span class="id" title="lemma">compiler_correct</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">right_upper_bound</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="link_assembly"><span class="id" title="lemma">link_assembly</span></a> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">R</span> <span class="id" title="var">i</span> (<span class="id" title="var">κ</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#function"><span class="id" title="record">LAsm.function</span></a>) σ<span class="id" title="var">_spec_high</span> σ<span class="id" title="var">_spec_low</span> <span class="id" title="var">L2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">compatsim</span> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTactic.html#504ced1a63f18648bced2eddc31ab017"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#504ced1a63f18648bced2eddc31ab017"><span class="id" title="variable">_spec_high</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">_spec_low</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_spec_le"><span class="id" title="record">asm_spec_le</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#8544dfa80f3abc837f26ea910fd48d2f"><span class="id" title="variable">_spec_low</span></a>) (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">cl_sim</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#504ced1a63f18648bced2eddc31ab017"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#504ced1a63f18648bced2eddc31ab017"><span class="id" title="variable">_spec_high</span></a>) (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a><span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> σ<span class="id" title="var">_spec_high</span> <span class="id" title="keyword">as</span> [σ<span class="id" title="var">_spec_high</span>|σ<span class="id" title="var">_spec_high</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_spec_compose_inl"><span class="id" title="lemma">asm_spec_compose_inl</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="method">layer_sim_intro</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hlsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_spec_compose"><span class="id" title="lemma">asm_spec_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="method">layer_sim_intro</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hlsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hlsi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
This version can unify against a larger base layer, simliar to
    <span class="inlinecode"><span class="id" title="var">link_compiler</span></span> 
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="link_assembly_le"><span class="id" title="lemma">link_assembly_le</span></a> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">R</span> <span class="id" title="var">i</span> (<span class="id" title="var">κ</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#function"><span class="id" title="record">LAsm.function</span></a>) σ<span class="id" title="var">h</span> σ<span class="id" title="var">l</span> <span class="id" title="var">L2</span> <span class="id" title="var">L_impl</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">compatsim</span> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTactic.html#e645dc02ba4529e7c7ffef8bdb854bd7"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#e645dc02ba4529e7c7ffef8bdb854bd7"><span class="id" title="variable">h</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#2b94c3925dda395e76ee0ab83e6ce525"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#2b94c3925dda395e76ee0ab83e6ce525"><span class="id" title="variable">l</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LAsmModuleSemSpec.html#asm_spec_le"><span class="id" title="record">asm_spec_le</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#2b94c3925dda395e76ee0ab83e6ce525"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#2b94c3925dda395e76ee0ab83e6ce525"><span class="id" title="variable">l</span></a>) (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a> <span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L_impl"><span class="id" title="variable">L_impl</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L_impl"><span class="id" title="variable">L_impl</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">cl_sim</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#e645dc02ba4529e7c7ffef8bdb854bd7"><span class="id" title="variable">σ</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#e645dc02ba4529e7c7ffef8bdb854bd7"><span class="id" title="variable">h</span></a>) (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a><span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="record">cl_sim</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="class">compatrel</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">R</span>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="abbreviation">sim</span> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="class">compatrel</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">R</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#link_assembly"><span class="id" title="lemma">link_assembly</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="cl_le_intro"><span class="id" title="lemma">cl_le_intro</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">D</span> (<span class="id" title="var">L</span> <span class="id" title="var">L&acute;</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L&acute;"><span class="id" title="variable">L&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">cl_sim</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="method">id</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L&acute;"><span class="id" title="variable">L&acute;</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="layer_link_newglbl_impl_comm"><span class="id" title="lemma">layer_link_newglbl_impl_comm</span></a> {<span class="id" title="var">D1</span>: <span class="id" title="record">compatdata</span>} {<span class="id" title="var">D2</span>: <span class="id" title="record">compatdata</span>} {<span class="id" title="var">R</span>: <span class="id" title="class">compatrel</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">Lvar</span> <span class="id" title="var">d</span> <span class="id" title="var">prim</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">cl_sim</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTactic.html#prim"><span class="id" title="variable">prim</span></a> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="notation">〛</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#Lvar"><span class="id" title="variable">Lvar</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a>)) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#Lvar"><span class="id" title="variable">Lvar</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="constructor">freerg_inj</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#prim"><span class="id" title="variable">prim</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">LayerLogicImpl.logic_intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="instance">cl_le_sim_compat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#cl_le_intro"><span class="id" title="lemma">cl_le_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="method">oplus_le_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="method">Semantics.lang_semof_sim_monotonic</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="definition">commutativity</span> (<span class="id" title="var">A</span> := <span class="id" title="record">compatlayer</span> <span class="id" title="var">D2</span>) (<span class="id" title="var">R</span> := <span class="id" title="notation">(≤)</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="layer_link_new_glbl_right"><span class="id" title="lemma">layer_link_new_glbl_right</span></a> {<span class="id" title="var">D1</span> <span class="id" title="var">D2</span>} {<span class="id" title="var">R</span>: <span class="id" title="inductive">freerg</span> <span class="id" title="class">compatrel</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">Lvar</span> <span class="id" title="var">d</span> <span class="id" title="var">prim</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">cl_sim</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#prim"><span class="id" title="variable">prim</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#Lvar"><span class="id" title="variable">Lvar</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#Lvar"><span class="id" title="variable">Lvar</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#prim"><span class="id" title="variable">prim</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">LayerLogicImpl.logic_intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="instance">cl_le_sim_compat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#cl_le_intro"><span class="id" title="lemma">cl_le_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="method">oplus_comm_le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="method">oplus_le_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="method">oplus_comm_le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">oplus_le_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="layer_link_new_glbl_both"><span class="id" title="lemma">layer_link_new_glbl_both</span></a> {<span class="id" title="var">D1</span> <span class="id" title="var">D2</span>} {<span class="id" title="var">R</span>: <span class="id" title="inductive">freerg</span> <span class="id" title="class">compatrel</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">L</span> <span class="id" title="var">d</span> <span class="id" title="var">prim</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="abbreviation">sim</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#prim"><span class="id" title="variable">prim</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#prim"><span class="id" title="variable">prim</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">LayerLogicImpl.logic_intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="instance">cl_le_sim_compat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#cl_le_intro"><span class="id" title="lemma">cl_le_intro</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="method">oplus_comm_le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">etransitivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">apply</span> <span class="id" title="method">oplus_le_left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="link_cfunction_intro"><span class="id" title="lemma">link_cfunction_intro</span></a> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">R</span> <span class="id" title="var">L</span> (<span class="id" title="var">M</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">module</span></a>) <span class="id" title="var">prim</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">cl_sim</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a> (<span class="id" title="constructor">freerg_inj</span> <span class="id" title="class">compatrel</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTactic.html#prim"><span class="id" title="variable">prim</span></a> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">〛</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>)) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="constructor">freerg_inj</span> <span class="id" title="class">compatrel</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#prim"><span class="id" title="variable">prim</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="lemma">Language.conseq_le_left</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="definition">L64</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">L</span>)); <span class="id" title="tactic">try</span> <span class="id" title="var">le_oplus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#layer_link_newglbl_impl_comm"><span class="id" title="lemma">layer_link_newglbl_impl_comm</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="conseq_le_left_join"><span class="id" title="lemma">conseq_le_left_join</span></a> {<span class="id" title="var">D1</span> <span class="id" title="var">D2</span>} (<span class="id" title="var">R</span>: <span class="id" title="inductive">freerg</span> <span class="id" title="class">compatrel</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a>) <span class="id" title="var">M</span> <span class="id" title="var">L1</span> <span class="id" title="var">L2</span> <span class="id" title="var">L3</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L1"><span class="id" title="variable">L1</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L3"><span class="id" title="variable">L3</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L1"><span class="id" title="variable">L1</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L3"><span class="id" title="variable">L3</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Language.conseq_le_left</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LayerCalculusLemma.html#le_left"><span class="id" title="lemma">le_left</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="le_assoc_comm"><span class="id" title="lemma">le_assoc_comm</span></a> {<span class="id" title="var">D</span>: <span class="id" title="record">compatdata</span> } (<span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D"><span class="id" title="variable">D</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L3"><span class="id" title="variable">L3</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L4"><span class="id" title="variable">L4</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L3"><span class="id" title="variable">L3</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L4"><span class="id" title="variable">L4</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="keyword">associativity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="conseq_le_assoc_comm"><span class="id" title="lemma">conseq_le_assoc_comm</span></a> {<span class="id" title="var">D1</span> <span class="id" title="var">D2</span>} (<span class="id" title="var">R</span>: <span class="id" title="inductive">freerg</span> <span class="id" title="class">compatrel</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a>) (<span class="id" title="var">L1</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D2"><span class="id" title="variable">D2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">L2</span> <span class="id" title="var">L3</span> <span class="id" title="var">L4</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D1"><span class="id" title="variable">D1</span></a>) <span class="id" title="var">M</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L1"><span class="id" title="variable">L1</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#L3"><span class="id" title="variable">L3</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L4"><span class="id" title="variable">L4</span></a><span class="id" title="notation">)</span><span class="id" title="notation">)</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L1"><span class="id" title="variable">L1</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <span class="id" title="notation">(</span><span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L3"><span class="id" title="variable">L3</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L4"><span class="id" title="variable">L4</span></a><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Language.conseq_le_right</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#le_assoc_comm"><span class="id" title="lemma">le_assoc_comm</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="layer_le_trans"><span class="id" title="lemma">layer_le_trans</span></a> `{<span class="id" title="var">D</span>: <span class="id" title="record">compatdata</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">LT</span> <span class="id" title="var">LL</span> <span class="id" title="var">LH</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D"><span class="id" title="variable">D</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LT"><span class="id" title="variable">LT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LH"><span class="id" title="variable">LH</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LH"><span class="id" title="variable">LH</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">left_upper_bound</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compcertx.MakeProgram</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_program_oplus_right"><span class="id" title="lemma">make_program_oplus_right</span></a> `{<span class="id" title="var">D</span>: <span class="id" title="record">compatdata</span>} {<span class="id" title="var">L</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D"><span class="id" title="variable">D</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">s</span> (<span class="id" title="var">CTXT</span> <span class="id" title="var">M</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">module</span></a>) <span class="id" title="var">pl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">make_program</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#CTXT"><span class="id" title="variable">CTXT</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#pl"><span class="id" title="variable">pl</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">ModuleOK</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="class">ModuleOK</span> (<span class="id" title="var">CTXT</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">M</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="method">make_program_module_ok</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="instance">module_ok_antitonic</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="definition">right_upper_bound</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="transf_module_variable_none"><span class="id" title="lemma">transf_module_variable_none</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> <span class="id" title="var">id</span> (<span class="id" title="var">f</span>: <span class="id" title="record">Clight.function</span>) <span class="id" title="var">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.CompCertiKOS.html#transf_module"><span class="id" title="definition">CompCertiKOS.transf_module</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#id"><span class="id" title="variable">id</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">ret</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#x"><span class="id" title="variable">x</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">get_module_variable</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.layerlib.CompCertiKOS.html#get_module_variable_transf"><span class="id" title="lemma">CompCertiKOS.get_module_variable_transf</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span>:=<span class="id" title="var">i</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_normalize_in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="transfer_variable_compose"><span class="id" title="lemma">transfer_variable_compose</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">DL</span> <span class="id" title="var">DH</span> (<span class="id" title="var">LL</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#DL"><span class="id" title="variable">DL</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(τ: <span class="id" title="record">AST.globvar</span> <span class="id" title="inductive">Ctypes.type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">M</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">LAsm.module</span></a>) </div>

<div class="doc">
important to specify this type, otherwise it defaults to Clight module, and apply loops forever 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">LH</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#DH"><span class="id" title="variable">DH</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">OK_Le</span>: <span class="id" title="notation">(</span><span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">〛</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>) <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">≤</span> <span class="id" title="notation">(</span><span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a><span class="id" title="notation">)</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LH"><span class="id" title="variable">LH</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LH"><span class="id" title="variable">LH</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="method">oplus</span> <span class="id" title="method">semof</span> <span class="id" title="instance">ptree_layer_ops</span> <span class="id" title="method">simRR</span> <span class="id" title="method">id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">OK_Le</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="transfer_variable_le"><span class="id" title="lemma">transfer_variable_le</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">DL</span> (<span class="id" title="var">LL</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#DL"><span class="id" title="variable">DL</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(τ: <span class="id" title="record">AST.globvar</span> <span class="id" title="inductive">Ctypes.type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">M</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">LAsm.module</span></a>) </div>

<div class="doc">
important to specify this type, otherwise it defaults to Clight module, and apply loops forever 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">LOK_L</span>: <span class="id" title="class">LayerOK</span> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">〛</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>) <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">LOK_L&acute;</span>: <span class="id" title="class">LayerOK</span> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">〛</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>) <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">≤</span> <span class="id" title="notation">(</span><span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="method">mapsto</span> <span class="id" title="method">oplus</span> <span class="id" title="method">semof</span> <span class="id" title="instance">compatlayer_ops</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">cl_le_layer_pointwise</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">LOK_L</span> <span class="id" title="keyword">as</span> <span class="id" title="var">LOK_L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">LOK_L</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">PrimOK</span> <span class="id" title="var">VarOK</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">get_layer_primitive</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ <span class="id" title="notation">〛</span> <span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">LL</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">primH</span>; [| <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOK</span>: <span class="id" title="definition">isOK</span> (<span class="id" title="method">get_layer_primitive</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ <span class="id" title="notation">〛</span> <span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">LL</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="lemma">get_layer_primitive_isOK</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">LOK</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">HOK1</span> <span class="id" title="var">HOK2</span>]. <span class="id" title="tactic">clear</span> <span class="id" title="var">LOK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HOK1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o1</span> <span class="id" title="var">HOK1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HOK2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o2</span> <span class="id" title="var">HOK2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="method">get_layer_primitive_oplus</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ <span class="id" title="notation">〛</span> <span class="id" title="var">LL</span>) <span class="id" title="var">LL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">primH</span>, <span class="id" title="var">HOK1</span>, <span class="id" title="var">HOK2</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Transparent</span> <span class="id" title="method">oplus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HW</span>: <span class="id" title="method">get_layer_primitive</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">〛</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <span class="id" title="notation">⊕</span> <span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>; <span class="id" title="var">inv_monad</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="lemma">get_layer_primitive_isOK</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">PrimOK</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">PrimOK1</span> <span class="id" title="var">PrimOK2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prim1</span>: <span class="id" title="method">get_layer_primitive</span> <span class="id" title="var">i</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">c</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_primitive_left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_primitive_right</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HW</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Opaque</span> <span class="id" title="method">mapsto</span> <span class="id" title="method">semof</span> <span class="id" title="instance">compatlayer_ops</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hle</span>. <span class="id" title="var">inv_monad</span> <span class="id" title="var">Hle</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="method">oplus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="lemma">get_layer_primitive_isOK</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">PrimOK</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">PrimOK1</span> <span class="id" title="var">PrimOK2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prim1</span>: <span class="id" title="method">get_layer_primitive</span> <span class="id" title="var">i</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_primitive_none</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_layer_normalize</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_layer_primitive_oplus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">prim1</span>, <span class="id" title="definition">id_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_semof_primitive</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_semof_primitive</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HOK1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_module_function_oplus</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HOK1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_module_function_mapsto_variable</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HOK1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="definition">id_right</span> (<span class="id" title="method">get_module_function</span> <span class="id" title="var">i</span> <span class="id" title="var">M</span>)) <span class="id" title="keyword">in</span> <span class="id" title="var">HOK1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">semof_function</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">get_module_function</span> <span class="id" title="var">i</span> <span class="id" title="var">M</span>) <span class="id" title="keyword">as</span> [[|]|]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monad_norm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HOK1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemTransfer.html#LAsm_transfer_variable"><span class="id" title="lemma">LAsm_transfer_variable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Transparent</span> <span class="id" title="method">oplus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hle</span>. <span class="id" title="var">inv_monad</span> <span class="id" title="var">Hle</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Transparent</span> <span class="id" title="method">oplus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">o2</span>; <span class="id" title="var">inv_monad</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="method">oplus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HW</span>: <span class="id" title="method">get_layer_primitive</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">〛</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <span class="id" title="notation">⊕</span> <span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="lemma">get_layer_primitive_isOK</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">PrimOK</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">PrimOK1</span> <span class="id" title="var">PrimOK2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prim1</span>: <span class="id" title="method">get_layer_primitive</span> <span class="id" title="var">i</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_primitive_none</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_layer_normalize</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_primitive_none</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PrimOK1</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">PrimOK1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_semof_primitive</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HOK1</span>, <span class="id" title="var">PrimOK1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_module_function_oplus</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HOK1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_module_function_mapsto_variable</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HOK1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HOK1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">semof_function</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">get_module_function</span> <span class="id" title="var">i</span> <span class="id" title="var">M</span>) <span class="id" title="keyword">as</span> [[|]|]; <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Opaque</span> <span class="id" title="instance">compatlayer_ops</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×. <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">module</span></a>, <a class="idref" href="mcertikos.layerlib.LAsm.html#module_ops"><span class="id" title="instance">module_ops</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HW</span>. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">LOK_L</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">PrimOK</span> <span class="id" title="var">VarOK</span> <span class="id" title="var">Hor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="method">get_layer_globalvar_oplus</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ <span class="id" title="notation">〛</span> <span class="id" title="var">LL</span>) <span class="id" title="var">LL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">get_layer_globalvar</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ <span class="id" title="notation">〛</span> <span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">LL</span>)) <span class="id" title="var">eqn</span>: <span class="id" title="var">varH</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span>; [| <span class="id" title="tactic">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOK</span>: <span class="id" title="definition">isOK</span> (<span class="id" title="method">get_layer_globalvar</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ <span class="id" title="notation">〛</span> <span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">LL</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="lemma">get_layer_globalvar_isOK</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">LOK</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>  [<span class="id" title="var">HOK1</span> <span class="id" title="var">HOK2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HOK1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o1</span> <span class="id" title="var">HOK1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HOK2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">o2</span> <span class="id" title="var">HOK2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HOK1</span>, <span class="id" title="var">HOK2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Transparent</span> <span class="id" title="method">oplus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>; <span class="id" title="var">inv_monad</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="lemma">get_layer_globalvar_isOK</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">VarOK</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">PrimOK1</span> <span class="id" title="var">PrimOK2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">prim1</span>: <span class="id" title="method">get_layer_globalvar</span> <span class="id" title="var">i</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">g0</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <span class="id" title="var">v</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">peq</span> <span class="id" title="var">i</span> <span class="id" title="var">v</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="method">get_layer_globalvar_oplus</span> <span class="id" title="var">v</span> <span class="id" title="var">LL</span> (<span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PrimOK2</span> <span class="id" title="keyword">as</span> [? <span class="id" title="var">PrimOK2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">get_layer_globalvar_mapsto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">PrimOK2</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">HOK2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span>. <span class="id" title="var">inv_monad</span> <span class="id" title="var">Hle</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>; [| <span class="id" title="tactic">assumption</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_globalvar_left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">prim1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">prim1</span> <span class="id" title="var">Hneq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HW</span>: <span class="id" title="method">get_layer_globalvar</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">〛</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <span class="id" title="notation">⊕</span> <span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">g0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_globalvar_right</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">module</span></a>, <a class="idref" href="mcertikos.layerlib.LAsm.html#module_ops"><span class="id" title="instance">module_ops</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HW</span> |-*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HW</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">AST.ident</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HW</span> |-*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="instance">compatlayer_ops</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>; <span class="id" title="var">inv_monad</span> <span class="id" title="var">Hle</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="lemma">get_layer_globalvar_isOK</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">VarOK</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">PrimOK1</span> <span class="id" title="var">PrimOK2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">LOK_L&acute;</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">PrimOK&acute;</span> <span class="id" title="var">VarOK&acute;</span> <span class="id" title="var">HF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">varH</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="method">oplus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HF</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">HF</span>|<span class="id" title="var">HF</span>]; <span class="id" title="var">inv</span> <span class="id" title="var">HF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="lemma">get_layer_primitive_cancel</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ <span class="id" title="notation">〛</span> <span class="id" title="var">LL</span>) <span class="id" title="var">LL</span> <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">LNone</span> <span class="id" title="var">MNone</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hmo_none</span>: <span class="id" title="method">get_module_function</span> <span class="id" title="var">i</span> (<span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="lemma">compat_get_semof_primitive</span> <span class="id" title="keyword">in</span> <span class="id" title="var">MNone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_normalize_in</span> <span class="id" title="var">MNone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">get_module_function</span> <span class="id" title="var">i</span> (<span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ)) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hmo_none</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_normalize_in</span> <span class="id" title="var">Hmo_none</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmo_none</span> <span class="id" title="keyword">in</span> <span class="id" title="var">MNone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">get_module_normalize_in</span> <span class="id" title="var">Hmo_none</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmo_none</span> <span class="id" title="keyword">in</span> <span class="id" title="var">MNone</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hmo_none</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hmo_none&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">get_module_function_cancel</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hmo_none</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmo_none</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmo</span> <span class="id" title="var">Hmo&acute;</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hprim</span>:<span class="id" title="method">get_layer_primitive</span> <span class="id" title="var">i</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">get_layer_primitive_isOK</span> <span class="id" title="keyword">in</span> <span class="id" title="var">PrimOK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PrimOK</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">PrimOK</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_primitive_none</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_layer_normalize</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HM</span>: <span class="id" title="method">get_module_variable</span> <span class="id" title="var">i</span> (<span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_layer_normalize_in</span> <span class="id" title="var">varH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="method">get_semof_globalvar</span> <span class="id" title="var">i</span> (<span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <span class="id" title="var">LL</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">varH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HOK2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">varH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span> <span class="id" title="keyword">in</span> <span class="id" title="var">varH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">peq</span> <span class="id" title="var">i</span> <span class="id" title="var">v</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Heq</span> : <span class="id" title="var">g</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> τ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_module_varible_OK_Some_right</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_normalize</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HW</span>: <span class="id" title="method">get_layer_globalvar</span> <span class="id" title="var">v</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">〛</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <span class="id" title="notation">⊕</span> <span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> τ)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_globalvar_right</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_globalvar_right</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_layer_normalize</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">module</span></a>, <a class="idref" href="mcertikos.layerlib.LAsm.html#module_ops"><span class="id" title="instance">module_ops</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HW</span> |-*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HW</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">AST.ident</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HW</span> |-*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HW</span>: <span class="id" title="method">get_layer_globalvar</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">〛</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <span class="id" title="notation">⊕</span> <span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_globalvar_left</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HW</span>: <span class="id" title="method">get_module_variable</span> <span class="id" title="var">i</span> <span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">g</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hm</span>: <span class="id" title="method">get_module_variable</span> <span class="id" title="var">i</span> (<span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_normalize</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="method">get_module_variable_oplus</span> <span class="id" title="var">i</span> <span class="id" title="var">M</span> (<span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HM</span>, <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Transparent</span> <span class="id" title="method">oplus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">get_module_variable</span> <span class="id" title="var">i</span> <span class="id" title="var">M</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">inv_monad</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">get_semof_globalvar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">module</span></a>, <a class="idref" href="mcertikos.layerlib.LAsm.html#module_ops"><span class="id" title="instance">module_ops</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HW</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HW</span> |- ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">AST.ident</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HW</span> |- × .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}              <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">HW</span>: <span class="id" title="definition">isOKNone</span> (<span class="id" title="method">get_layer_globalvar</span> <span class="id" title="var">i</span> (<span class="id" title="notation">〚</span><span class="id" title="var">M</span> <span class="id" title="notation">〛</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <span class="id" title="notation">⊕</span> <span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">o2</span>; <span class="id" title="var">inv_monad</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hor</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hor</span> | <span class="id" title="var">Hor</span>]; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_primitive_cancel</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hor</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hprim1</span> <span class="id" title="var">Hprim2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">Hprim1</span> <span class="id" title="keyword">as</span> <span class="id" title="var">Hprim1&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_primitive_cancel</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hprim1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprim1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">Hprim1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">LOK_L&acute;</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">PrimOK&acute;</span> <span class="id" title="var">VarOK&acute;</span> <span class="id" title="var">Hor&acute;</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">get_layer_primitive_isOK</span> <span class="id" title="keyword">in</span> <span class="id" title="var">PrimOK&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">PrimOK&acute;</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">PrimOK&acute;</span> <span class="id" title="var">_</span>].<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hmo</span>: <span class="id" title="method">get_module_function</span> <span class="id" title="var">i</span> (<span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">get_module_function</span> <span class="id" title="var">i</span> (<span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ)) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hmo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">specialize</span> (<span class="id" title="method">get_module_function_oplus</span> <span class="id" title="var">i</span> <span class="id" title="var">M</span> (<span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="method">get_module_function</span> <span class="id" title="var">i</span> (<span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_normalize</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">get_module_function</span> <span class="id" title="var">i</span> <span class="id" title="var">M</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hmo&acute;</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">inv_monad</span> <span class="id" title="var">Hle</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="method">get_semof_primitive</span> <span class="id" title="var">i</span> <span class="id" title="var">M</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hprim2&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hprim2&acute;</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hprim2</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hprim2&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmo&acute;</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hprim2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">get_module_normalize_in</span> <span class="id" title="var">Hmo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="definition">id_right</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hmo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="method">get_semof_primitive</span> <span class="id" title="var">i</span> <span class="id" title="var">M</span> (<span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ)) <span class="id" title="keyword">as</span> <span class="id" title="var">Hprim2&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hprim2&acute;</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hprim2</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hprim2&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmo</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hprim2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hmo&acute;</span>: <span class="id" title="method">get_module_variable</span> <span class="id" title="var">i</span> (<span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">get_module_variable</span> <span class="id" title="var">i</span> (<span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ)) <span class="id" title="var">eqn</span>: <span class="id" title="var">Hmo&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; [|<span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="method">get_semof_globalvar</span> <span class="id" title="var">i</span> (<span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <span class="id" title="var">LL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HOK1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="method">get_semof_globalvar</span> <span class="id" title="var">i</span> (<span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ) <span class="id" title="var">LL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HOK1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_module_function_cancel</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hmo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmo</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmo</span> <span class="id" title="var">Hmo&acute;&acute;</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_module_variable_cancel</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hmo&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmo&acute;</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hmo1</span> <span class="id" title="var">Hmo2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">peq</span> <span class="id" title="var">i</span> <span class="id" title="var">v</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_normalize_in</span> <span class="id" title="var">Hmo1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hmo1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="lemma">get_layer_globalvar_isOK</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">VarOK</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">VarOK&acute;&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">VarOK&acute;&acute;</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">VarOK&acute;&acute;</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_globalvar_none</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_layer_globalvar_none</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HW</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">Local</span> <span class="id" title="keyword">Transparent</span> <span class="id" title="method">semof</span> <span class="id" title="method">mapsto</span> <span class="id" title="method">oplus</span> <span class="id" title="instance">compatlayer_ops</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="projection">cl_exec_load</span> <span class="id" title="var">LL</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">monad_norm</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="projection">cl_exec_store</span> <span class="id" title="var">LL</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">monad_norm</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="transfer_variable"><span class="id" title="lemma">transfer_variable</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">DL</span> <span class="id" title="var">DH</span> (<span class="id" title="var">LL</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#DL"><span class="id" title="variable">DL</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(τ: <span class="id" title="record">AST.globvar</span> <span class="id" title="inductive">Ctypes.type</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">M</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">LAsm.module</span></a>) </div>

<div class="doc">
important to specify this type, otherwise it defaults to Clight module, and apply loops forever 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">LH</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#DH"><span class="id" title="variable">DH</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">LOK_L</span>: <span class="id" title="class">LayerOK</span> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">〛</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>) <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">LOK_L&acute;</span>: <span class="id" title="class">LayerOK</span> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LH"><span class="id" title="variable">LH</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><span class="id" title="notation">)</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LH"><span class="id" title="variable">LH</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#transfer_variable_compose"><span class="id" title="lemma">transfer_variable_compose</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#transfer_variable_le"><span class="id" title="lemma">transfer_variable_le</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="transfer_variable_L64"><span class="id" title="lemma">transfer_variable_L64</span></a> (<span class="id" title="var">DL</span> <span class="id" title="var">DH</span>: <span class="id" title="record">compatdata</span>) <span class="id" title="var">LL</span> <span class="id" title="var">v</span> τ (<span class="id" title="var">R</span>: <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#DH"><span class="id" title="variable">DH</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#DL"><span class="id" title="variable">DL</span></a>) <span class="id" title="var">M</span> <span class="id" title="var">LH</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">LayerOK</span> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">〛</span> (<span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) <span class="id" title="notation">⊕</span> <span class="id" title="notation">((</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span><span class="id" title="notation">)</span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">LayerOK</span> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <span class="id" title="notation">〛</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) <span class="id" title="notation">⊕</span> <span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span><span class="id" title="notation">)</span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LH"><span class="id" title="variable">LH</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTactic.html#R"><span class="id" title="variable">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#LH"><span class="id" title="variable">LH</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hok1</span> <span class="id" title="var">Hok2</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#transfer_variable"><span class="id" title="lemma">transfer_variable</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="instance">layer_ok_antitonic</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="var">Hok1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="notation">(</span><span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span><span class="id" title="notation">)</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ <span class="id" title="notation">≤</span> <span class="id" title="notation">(</span><span class="id" title="var">LL</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> τ<span class="id" title="notation">)</span> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">le_oplus</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_monotonicity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Language.conseq_le_left</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">le_oplus</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="module_le_left"><span class="id" title="lemma">module_le_left</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">L</span> <span class="id" title="var">L1</span> <span class="id" title="var">L2</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">module</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L1"><span class="id" title="variable">L1</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">≤</span> <span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#L1"><span class="id" title="variable">L1</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">left_upper_bound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="module_le_right"><span class="id" title="lemma">module_le_right</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">L</span> <span class="id" title="var">L1</span> <span class="id" title="var">L2</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">module</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">≤</span> <span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#L1"><span class="id" title="variable">L1</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L2"><span class="id" title="variable">L2</span></a><span class="id" title="notation">)</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="definition">right_upper_bound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSem.html#"><span class="id" title="library">LAsmModuleSem</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.LayerCalculusLemma.html#"><span class="id" title="library">LayerCalculusLemma</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="LayerOK_impl_subst"><span class="id" title="lemma">LayerOK_impl_subst</span></a> `{<span class="id" title="var">D</span>: <span class="id" title="record">compatdata</span>} {<span class="id" title="var">M</span> <span class="id" title="var">M&acute;</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">module</span></a>} {<span class="id" title="var">L</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#D"><span class="id" title="variable">D</span></a>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">LayerOK</span> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTactic.html#M&acute;"><span class="id" title="variable">M&acute;</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#M"><span class="id" title="variable">M</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">LayerOK</span> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTactic.html#M&acute;"><span class="id" title="variable">M&acute;</span></a> <span class="id" title="notation">〛</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#L"><span class="id" title="variable">L</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="instance">layer_ok_antitonic</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_monotonic</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#WITHCOMPCERTIKOS"><span class="id" title="section">WITHCOMPCERTIKOS</span></a>.<br/>

<br/>
</div>

<div class="doc">
Thanks to this hint we don't need to modify the code that uses
  <span class="inlinecode"><span class="id" title="var">link_compiler</span></span>. We may want to push it back to CompatLayers if we
  want to adopt that approach for good. 
</div>
<div class="code">
<span class="id" title="keyword">Hint Extern</span> 10 (<span class="id" title="definition">module_layer_disjoint</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) ⇒ <span class="id" title="var">decision</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">link_nextblock</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Hprim</span>: <span class="id" title="method">get_layer_primitive</span> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> <span class="id" title="notation">↦</span> <span class="id" title="var">_</span> ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="method">Mem.nextblock</span> ?<span class="id" title="var">m&acute;</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">Mem.nextblock</span> ?<span class="id" title="var">m</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">get_layer_primitive_OK_eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hprim</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hprim</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Hstep</span>: <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">m&acute;</span> |- <span class="id" title="var">_</span> ⇒  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hstep</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Hstore</span>: <span class="id" title="method">Mem.store</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">fm</span> |- <span class="id" title="method">Mem.nextblock</span> ?<span class="id" title="var">fm</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="method">Mem.nextblock_store</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hstore</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="method">Mem.nextblock</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="method">lift</span>; <span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">link_kernel_mode</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Hprim</span>: <span class="id" title="method">get_layer_primitive</span> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> <span class="id" title="notation">↦</span> <span class="id" title="var">_</span> ) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="method">kernel_mode</span> (<span class="id" title="definition">π</span><span class="id" title="definition">_data</span> ?<span class="id" title="var">m</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">get_layer_primitive_OK_eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hprim</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hprim</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Hstep</span>: <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hstep</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">hcomp_tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">Language.hcomp_rule</span>; [<span class="id" title="var">decision</span> | | ].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">transfer_variables</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">L1</span> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(?</span></a><span class="id" title="var">R</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">?</span></a><span class="id" title="var">M</span> <span class="id" title="notation">⊕</span> <span class="id" title="notation">?</span><span class="id" title="var">vi</span> <span class="id" title="notation">↦</span> <span class="id" title="notation">?</span><span class="id" title="var">vt</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <span class="id" title="notation">?</span><span class="id" title="var">L2</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#transfer_variable_L64"><span class="id" title="lemma">transfer_variable_L64</span></a>; [<span class="id" title="tactic">assumption</span> .. | <span class="id" title="var">transfer_variables</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">layer_link_split_tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> <span class="id" title="notation">⊕</span> <span class="id" title="notation">∅</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span> <span class="id" title="lemma">LayerLogicImpl.vdash_oplus_empty</span>; <span class="id" title="var">layer_link_split_tac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> <span class="id" title="notation">⊢</span> <span class="id" title="var">_</span> <span class="id" title="notation">:</span> <span class="id" title="var">_</span> <span class="id" title="notation">⊕</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">hcomp_tac</span>; <span class="id" title="var">layer_link_split_tac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span> <span class="id" title="notation">⊢</span> <span class="id" title="var">_</span> <span class="id" title="notation">:</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#link_cfunction_intro"><span class="id" title="lemma">link_cfunction_intro</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#layer_link_newglbl_impl_comm"><span class="id" title="lemma">layer_link_newglbl_impl_comm</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Prove the simulation for a single C function, using the provided
  refinement and code proofs. 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">link_cfunction</span> <span class="id" title="var">refthm</span> <span class="id" title="var">codethm</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#link_compiler"><span class="id" title="lemma">link_compiler</span></a>;<br/>
&nbsp;&nbsp;[ <span class="id" title="var">Decision.decision</span> | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Decision.decision</span> | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Decision.decision</span> | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span> | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">refthm</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">link_nextblock</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">link_kernel_mode</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">codethm</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">le_oplus</span> ]. 
<br/>
</div>

<div class="doc">
Similar tactic for assembly functions: 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">link_asmfunction</span> <span class="id" title="var">refthm</span> <span class="id" title="var">codethm</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#link_assembly_le"><span class="id" title="lemma">link_assembly_le</span></a>;<br/>
&nbsp;&nbsp;[ <span class="id" title="tactic">eapply</span> <span class="id" title="var">refthm</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">codethm</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">le_oplus</span> ].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">code_correct_tac</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span> ; <span class="id" title="var">decision</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_monad_rewrite</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="var">type</span> <span class="id" title="var">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> <span class="id" title="var">C</span>[<span class="id" title="constructor">Errors.OK</span> ?<span class="id" title="var">x</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="constructor">OK</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">with</span> (<span class="id" title="method">ret</span> (<span class="id" title="var">M</span>:=<span class="id" title="inductive">res</span>) <span class="id" title="var">x</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> <span class="id" title="var">C</span>[@<span class="id" title="definition">Errors.bind</span> ?<span class="id" title="var">A</span> ?<span class="id" title="var">B</span> ?<span class="id" title="var">ra</span> ?<span class="id" title="var">f</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<span class="id" title="definition">Errors.bind</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">ra</span> <span class="id" title="var">f</span>) <span class="id" title="keyword">with</span> (<span class="id" title="method">bind</span> (<span class="id" title="var">M</span>:=<span class="id" title="inductive">res</span>) (<span class="id" title="var">A</span>:=<span class="id" title="var">A</span>) (<span class="id" title="var">B</span>:=<span class="id" title="var">B</span>) <span class="id" title="var">f</span> <span class="id" title="var">ra</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span> <span class="id" title="var">C</span>[<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">x</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">with</span> (<span class="id" title="method">ret</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_monad_destruct</span> <span class="id" title="var">H</span>:=<br/>
&nbsp;&nbsp;<span class="id" title="var">lazymatch</span> <span class="id" title="var">type</span> <span class="id" title="var">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="method">ret</span> ?<span class="id" title="var">mb</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">bind</span> ?<span class="id" title="var">f</span> ?<span class="id" title="var">ma</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_monad_destruct</span> <span class="id" title="var">H</span><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| @<span class="id" title="method">bind</span> ?<span class="id" title="var">M</span> ?<span class="id" title="var">Mfmap</span> ?<span class="id" title="var">Mops</span> ?<span class="id" title="var">A</span> ?<span class="id" title="var">B</span> ?<span class="id" title="var">f</span> ?<span class="id" title="var">ma</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">ret</span> ?<span class="id" title="var">mb</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H1</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H2</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<span class="id" title="lemma">monad_inv_bind</span> <span class="id" title="var">M</span> <span class="id" title="var">Mfmap</span> <span class="id" title="var">Mops</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> <span class="id" title="var">f</span> <span class="id" title="var">ma</span> <span class="id" title="var">mb</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [? [<span class="id" title="var">H1</span> <span class="id" title="var">H2</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">H2</span> <span class="id" title="var">into</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_monad_destruct</span> <span class="id" title="var">H</span><br/>
<br/>
<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_monad&acute;</span> <span class="id" title="var">H</span>:=<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_monad_rewrite</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_monad_destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">transf_none</span> <span class="id" title="var">i</span>:=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="mcertikos.layerlib.CompCertiKOS.html#transf_module"><span class="id" title="definition">CompCertiKOS.transf_module</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">ret</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">apply</span> (<a class="idref" href="mcertikos.layerlib.LinkTactic.html#transf_module_variable_none"><span class="id" title="lemma">transf_module_variable_none</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_module_variable_isOK_split_tac</span> <span class="id" title="var">H</span>:=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">HT1</span> := <span class="id" title="tactic">fresh</span> "HOK" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">HT2</span> := <span class="id" title="tactic">fresh</span> "HOK" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">get_module_variable_isOK</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">HT1</span> <span class="id" title="var">HT2</span>].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">get_module_variable_relfexivity</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H0</span>: <span class="id" title="definition">isOK</span> (<span class="id" title="method">get_module_variable</span> ?<span class="id" title="var">id</span> (?<span class="id" title="var">a</span> <span class="id" title="notation">⊕</span> <span class="id" title="notation">?</span><span class="id" title="var">b</span>)) |- <span class="id" title="method">get_module_variable</span> ?<span class="id" title="var">id</span> (?<span class="id" title="var">a</span> <span class="id" title="notation">⊕</span> <span class="id" title="notation">?</span><span class="id" title="var">b</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒ <span class="id" title="keyword">match</span> <span class="id" title="var">a</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">id</span>] ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_variable_isOK_split_tac</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_module_variable_left</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">b</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="keyword">context</span>[<span class="id" title="var">id</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_variable_isOK_split_tac</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_module_variable_right</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_variable_isOK_split_tac</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">get_module_variable_none</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">get_module_normalize</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>