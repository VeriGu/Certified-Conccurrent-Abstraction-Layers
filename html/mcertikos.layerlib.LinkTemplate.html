<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>mcertikos.layerlib.LinkTemplate</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library mcertikos.layerlib.LinkTemplate</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#"><span class="id" title="library">LinkSourceTemplate</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">MakeProgram</span>.<br/>

<br/>
<span class="id" title="keyword">Global</span>&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="method">Structures.semof</span>.<br/>
<span class="id" title="keyword">Global</span>&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="method">Structures.oplus</span>.<br/>
<span class="id" title="keyword">Global</span>&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="method">Structures.emptyset</span>.<br/>
<span class="id" title="keyword">Global</span>&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSem.html#lasm_semantics_ops"><span class="id" title="instance">LAsmModuleSem.lasm_semantics_ops</span></a>.<br/>
<span class="id" title="keyword">Global</span>&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#module_ops"><span class="id" title="instance">LAsm.module_ops</span></a>.<br/>
<span class="id" title="keyword">Global</span>&nbsp;<span class="id" title="keyword">Opaque</span> <span class="id" title="instance">compatlayer_ops</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="WITHCOMPCERTIKOS"><span class="id" title="section">WITHCOMPCERTIKOS</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">compcertikos_prf</span>: <a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#CompCertiKOS"><span class="id" title="class">CompCertiKOS</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">real_params_prf</span> : <a class="idref" href="mcertikos.clib.RealParams.html#RealParams"><span class="id" title="class">RealParams</span></a>}.<br/>

<br/>
</div>

<div class="doc">
Because backward_simulation is in <span class="inlinecode"><span class="id" title="keyword">Type</span></span>, we need to stay in <span class="inlinecode"><span class="id" title="keyword">Type</span></span> as well. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="link_impl_inverted_add_cfunction"><span class="id" title="definition">link_impl_inverted_add_cfunction</span></a> (<span class="id" title="var">P</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">LAsm.module</span></a> → <span class="id" title="keyword">Type</span>) <span class="id" title="var">f</span> <span class="id" title="var">M</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">{</span></a> <span class="id" title="var">Mf</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">LAsm.module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">&amp;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> (<a class="idref" href="mcertikos.layerlib.CompCertiKOS.html#transf_module"><span class="id" title="definition">CompCertiKOS.transf_module</span></a> (<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#lcf_id"><span class="id" title="projection">lcf_id</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#f"><span class="id" title="variable">f</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#lcf_fun"><span class="id" title="projection">lcf_fun</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#f"><span class="id" title="variable">f</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">ret</span> <span class="id" title="var">Mf</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#P"><span class="id" title="variable">P</span></a> (<span class="id" title="var">Mf</span> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Specif.html#50b5d8dd6be4fba768e35617e518ad76"><span class="id" title="notation">}</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="link_impl_inverted_add_gvars"><span class="id" title="definition">link_impl_inverted_add_gvars</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">vs</span> (<span class="id" title="var">M</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">LAsm.module</span></a>) <span class="id" title="var">L</span> <span class="id" title="var">P0</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="class">LayerOK</span> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a><span class="id" title="notation">〛</span> (<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl_add_gvar_specs"><span class="id" title="definition">link_impl_add_gvar_specs</span></a> (<span class="id" title="var">LDATA</span>:=<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#vs"><span class="id" title="variable">vs</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) <span class="id" title="notation">⊕</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl_add_gvar_specs"><span class="id" title="definition">link_impl_add_gvar_specs</span></a> (<span class="id" title="var">LDATA</span>:=<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#vs"><span class="id" title="variable">vs</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span><span class="id" title="notation">)</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#vs"><span class="id" title="variable">vs</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#P0"><span class="id" title="variable">P0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="var">vs</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted_add_gvars"><span class="id" title="definition">link_impl_inverted_add_gvars</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#vs"><span class="id" title="variable">vs</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#lgv_id"><span class="id" title="projection">lgv_id</span></a> <span class="id" title="var">v</span> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#lgv_type"><span class="id" title="projection">lgv_type</span></a> <span class="id" title="var">v</span>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#P0"><span class="id" title="variable">P0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="link_impl_inverted_base"><span class="id" title="definition">link_impl_inverted_base</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">lm</span> (<span class="id" title="var">ll</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">M</span> <span class="id" title="var">Mc</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted_add_gvars"><span class="id" title="definition">link_impl_inverted_add_gvars</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#lm_gvar"><span class="id" title="projection">lm_gvar</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#Mc"><span class="id" title="variable">Mc</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl_asm"><span class="id" title="definition">link_impl_asm</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ll"><span class="id" title="variable">ll</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="class">LayerOK</span> (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a><span class="id" title="notation">〛</span> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ll"><span class="id" title="variable">ll</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ll"><span class="id" title="variable">ll</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl_add_gvar_defs"><span class="id" title="definition">link_impl_add_gvar_defs</span></a> (<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#lm_gvar"><span class="id" title="projection">lm_gvar</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a>) (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#Mc"><span class="id" title="variable">Mc</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl_asm"><span class="id" title="definition">link_impl_asm</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a>) <span class="id" title="notation">⊕</span> <span class="id" title="notation">∅</span>)).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="link_impl_inverted"><span class="id" title="definition">link_impl_inverted</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">lm</span>: <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_module"><span class="id" title="record">link_module</span></a>) (<span class="id" title="var">ll</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">M</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted_add_cfunction"><span class="id" title="definition">link_impl_inverted_add_cfunction</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#lm_cfun"><span class="id" title="projection">lm_cfun</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted_base"><span class="id" title="definition">link_impl_inverted_base</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ll"><span class="id" title="variable">ll</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∅</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="link_impl_imply_add_cfunction"><span class="id" title="lemma">link_impl_imply_add_cfunction</span></a> (<span class="id" title="var">P</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">LAsm.module</span></a> → <span class="id" title="keyword">Type</span>) <span class="id" title="var">f</span> <span class="id" title="var">M</span> <span class="id" title="var">M&acute;</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_add_cfunction"><span class="id" title="definition">link_add_cfunction</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#f"><span class="id" title="variable">f</span></a> (<span class="id" title="method">ret</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">ret</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M&acute;"><span class="id" title="variable">M&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M&acute;"><span class="id" title="variable">M&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted_add_cfunction"><span class="id" title="definition">link_impl_inverted_add_cfunction</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HfM</span> <span class="id" title="var">HM&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_add_cfunction"><span class="id" title="definition">link_add_cfunction</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HfM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_monad</span> <span class="id" title="var">HfM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="link_impl_imply_fold_add_cfunction"><span class="id" title="lemma">link_impl_imply_fold_add_cfunction</span></a> <span class="id" title="var">P</span> <span class="id" title="var">fs</span> <span class="id" title="var">M</span> <span class="id" title="var">M&acute;</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_add_cfunction"><span class="id" title="definition">link_add_cfunction</span></a> (<span class="id" title="method">ret</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#fs"><span class="id" title="variable">fs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">ret</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M&acute;"><span class="id" title="variable">M&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M&acute;"><span class="id" title="variable">M&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted_add_cfunction"><span class="id" title="definition">link_impl_inverted_add_cfunction</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#fs"><span class="id" title="variable">fs</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">P</span> <span class="id" title="var">M</span> <span class="id" title="var">M&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">fs</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">f</span> <span class="id" title="var">fs</span> <span class="id" title="var">IHfs</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">M</span> <span class="id" title="var">M&acute;</span> <span class="id" title="var">HfM</span> <span class="id" title="var">HM&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHfs</span> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted_add_cfunction"><span class="id" title="definition">link_impl_inverted_add_cfunction</span></a> <span class="id" title="var">P</span> <span class="id" title="var">f</span>) <span class="id" title="var">M</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#fold_right"><span class="id" title="definition">fold_right</span></a> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_add_cfunction"><span class="id" title="definition">link_add_cfunction</span></a> (<span class="id" title="method">ret</span> <span class="id" title="var">M</span>) <span class="id" title="var">fs</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">now</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">HfM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHfs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_imply_add_cfunction"><span class="id" title="lemma">link_impl_imply_add_cfunction</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="link_impl_imply_add_gvars"><span class="id" title="lemma">link_impl_imply_add_gvars</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">vs</span> <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">P0</span> <span class="id" title="var">M&acute;</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl_add_gvars"><span class="id" title="definition">link_impl_add_gvars</span></a> (<span class="id" title="var">LDATA</span>:=<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#vs"><span class="id" title="variable">vs</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">ret</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M&acute;"><span class="id" title="variable">M&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#P0"><span class="id" title="variable">P0</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted_add_gvars"><span class="id" title="definition">link_impl_inverted_add_gvars</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#vs"><span class="id" title="variable">vs</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#P0"><span class="id" title="variable">P0</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">M</span> <span class="id" title="var">M&acute;</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vs</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">M&acute;</span> <span class="id" title="var">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv_monad</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv_monad</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="link_impl_imply_gvar"><span class="id" title="lemma">link_impl_imply_gvar</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">lm</span>: <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_module"><span class="id" title="record">link_module</span></a>) (<span class="id" title="var">ll</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">M</span> <span class="id" title="var">M&acute;</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl_gvar"><span class="id" title="definition">link_impl_gvar</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ll"><span class="id" title="variable">ll</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">ret</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M&acute;"><span class="id" title="variable">M&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M&acute;"><span class="id" title="variable">M&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl_add_gvar_defs"><span class="id" title="definition">link_impl_add_gvar_defs</span></a> (<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#lm_gvar"><span class="id" title="projection">lm_gvar</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl_gvar"><span class="id" title="definition">link_impl_gvar</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#lm_gvar"><span class="id" title="projection">lm_gvar</span></a> <span class="id" title="var">lm</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">lm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">vs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">M</span> <span class="id" title="var">M&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">vs</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">v</span> <span class="id" title="var">vs</span> <span class="id" title="var">IHvs</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">M&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_monad</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_monad</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="link_impl_imply"><span class="id" title="lemma">link_impl_imply</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">lm</span>: <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_module"><span class="id" title="record">link_module</span></a>) (<span class="id" title="var">ll</span>: <span class="id" title="record">compatlayer</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">M</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl"><span class="id" title="definition">link_impl</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ll"><span class="id" title="variable">ll</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted"><span class="id" title="definition">link_impl_inverted</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ll"><span class="id" title="variable">ll</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl"><span class="id" title="definition">link_impl</span></a>, <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl_c"><span class="id" title="definition">link_impl_c</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_monad</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted"><span class="id" title="definition">link_impl_inverted</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_imply_fold_add_cfunction"><span class="id" title="lemma">link_impl_imply_fold_add_cfunction</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted_base"><span class="id" title="definition">link_impl_inverted_base</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_imply_add_gvars"><span class="id" title="lemma">link_impl_imply_add_gvars</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_imply_gvar"><span class="id" title="lemma">link_impl_imply_gvar</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab36"></a><h1 class="section">Types of typical linking theorems</h1>

<div class="paragraph"> </div>

 A linking file typically proves 3 lemmas: <span class="inlinecode"><span class="id" title="var">init_correct</span></span>,
    <span class="inlinecode"><span class="id" title="var">cl_backward_simulation</span></span>, and <span class="inlinecode"><span class="id" title="var">make_program_exists</span></span>, as well as an
    auxiliary lemma <span class="inlinecode"><span class="id" title="var">link_correct_aux</span></span> use for proving the last two.
    It is convenient to compute the type of those theorems
    systematically from the linking module and the two adjascent layer
    interfaces. Additionally, the tactics further down can help with
    the proofs themselves. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">DL</span> <span class="id" title="var">DH</span>: <span class="id" title="keyword">Type</span>} `{<span class="id" title="class">CompatData</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#DL"><span class="id" title="variable">DL</span></a>} `{<span class="id" title="class">CompatData</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#DH"><span class="id" title="variable">DH</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{!<span class="id" title="class">CompatRelOps</span> (<span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DH"><span class="id" title="variable">DH</span></a>) (<span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DL"><span class="id" title="variable">DL</span></a>)} `{!<span class="id" title="class">CompatRel</span> (<span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DH"><span class="id" title="variable">DH</span></a>) (<span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DL"><span class="id" title="variable">DL</span></a>)}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="init_correct_type"><span class="id" title="definition">init_correct_type</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">LL</span> <span class="id" title="var">LH</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">M</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">LAsm.module</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl"><span class="id" title="definition">link_impl</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LL"><span class="id" title="variable">LL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">ModuleOK</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">cl_init_sim</span> (<span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DH"><span class="id" title="variable">DH</span></a>) (<span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DL"><span class="id" title="variable">DL</span></a>) (<span class="id" title="definition">crel</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DH"><span class="id" title="variable">DH</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DL"><span class="id" title="variable">DL</span></a>) (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LH"><span class="id" title="variable">LH</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="link_correct_aux_type"><span class="id" title="definition">link_correct_aux_type</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">LL</span> <span class="id" title="var">LH</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">M</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">LAsm.module</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl"><span class="id" title="definition">link_impl</span></a> (<span class="id" title="var">LDATA</span> := <span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DL"><span class="id" title="variable">DL</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LL"><span class="id" title="variable">LL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="definition">crel</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DH"><span class="id" title="variable">DH</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DL"><span class="id" title="variable">DL</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LH"><span class="id" title="variable">LH</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="cl_backward_simulation_type"><span class="id" title="definition">cl_backward_simulation_type</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">LL</span> <span class="id" title="var">LH</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> `{!<a class="idref" href="mcertikos.layerlib.LAsm.html#AccessorsDefined"><span class="id" title="class">LAsm.AccessorsDefined</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`{!<a class="idref" href="mcertikos.layerlib.LAsm.html#AccessorsDefined"><span class="id" title="class">LAsm.AccessorsDefined</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LH"><span class="id" title="variable">LH</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>)} ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span>: <a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#stencil"><span class="id" title="method">stencil</span></a>) (<span class="id" title="var">CTXT</span> <span class="id" title="var">M</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">LAsm.module</span></a>) <span class="id" title="var">pl</span> <span class="id" title="var">ph</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">builtin_idents_norepet_prf</span>: <span class="id" title="class">CompCertBuiltins.BuiltinIdentsNorepet</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl"><span class="id" title="definition">link_impl</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LL"><span class="id" title="variable">LL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">make_program</span> (<span class="id" title="var">D</span> := <span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DH"><span class="id" title="variable">DH</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#CTXT"><span class="id" title="variable">CTXT</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LH"><span class="id" title="variable">LH</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ph"><span class="id" title="variable">ph</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">make_program</span> (<span class="id" title="var">D</span> := <span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DL"><span class="id" title="variable">DL</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#CTXT"><span class="id" title="variable">CTXT</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a>) (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#pl"><span class="id" title="variable">pl</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">backward_simulation</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.layerlib.LAsm.html#semantics"><span class="id" title="definition">LAsm.semantics</span></a> (<span class="id" title="var">lcfg_ops</span> := <a class="idref" href="mcertikos.layerlib.LAsmModuleSemDef.html#LC"><span class="id" title="instance">LC</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LH"><span class="id" title="variable">LH</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>)) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ph"><span class="id" title="variable">ph</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.layerlib.LAsm.html#semantics"><span class="id" title="definition">LAsm.semantics</span></a> (<span class="id" title="var">lcfg_ops</span> := <a class="idref" href="mcertikos.layerlib.LAsmModuleSemDef.html#LC"><span class="id" title="instance">LC</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>)) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#pl"><span class="id" title="variable">pl</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="make_program_exist_type"><span class="id" title="definition">make_program_exist_type</span></a> <span class="id" title="var">lm</span> <span class="id" title="var">LL</span> <span class="id" title="var">LH</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">s</span>: <a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#stencil"><span class="id" title="method">stencil</span></a>) (<span class="id" title="var">CTXT</span> <span class="id" title="var">M</span>: <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">LAsm.module</span></a>) <span class="id" title="var">pl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl"><span class="id" title="definition">link_impl</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#lm"><span class="id" title="variable">lm</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LL"><span class="id" title="variable">LL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">make_program</span> (<span class="id" title="var">D</span> := <span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DL"><span class="id" title="variable">DL</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#CTXT"><span class="id" title="variable">CTXT</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a>) (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LL"><span class="id" title="variable">LL</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#pl"><span class="id" title="variable">pl</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">ph</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <span class="id" title="method">make_program</span> (<span class="id" title="var">D</span> := <span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS.DH"><span class="id" title="variable">DH</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#CTXT"><span class="id" title="variable">CTXT</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#LH"><span class="id" title="variable">LH</span></a> <span class="id" title="notation">⊕</span> <span class="id" title="definition">L64</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ph"><span class="id" title="variable">ph</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#WITHCOMPCERTIKOS"><span class="id" title="section">WITHCOMPCERTIKOS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_impl_inverted</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">lazymatch</span> <span class="id" title="var">type</span> <span class="id" title="var">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted_add_cfunction"><span class="id" title="definition">link_impl_inverted_add_cfunction</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">M</span> := <span class="id" title="tactic">fresh</span> "M" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">HM</span> := <span class="id" title="tactic">fresh</span> "H" <span class="id" title="var">M</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H&acute;</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">M</span> &amp; <span class="id" title="var">HM</span> &amp; <span class="id" title="var">H&acute;</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HM</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_impl_inverted</span> <span class="id" title="var">H&acute;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#prod"><span class="id" title="inductive">prod</span></a> (<span class="id" title="class">LayerOK</span> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hok</span> := <span class="id" title="tactic">fresh</span> "Hok" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H&acute;</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hok</span> <span class="id" title="var">H&acute;</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_impl_inverted</span> <span class="id" title="var">H&acute;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_link_impl</span> <span class="id" title="var">HM</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_imply"><span class="id" title="lemma">link_impl_imply</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HM</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted"><span class="id" title="definition">link_impl_inverted</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HM</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#link_impl_inverted_base"><span class="id" title="definition">link_impl_inverted_base</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HM</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LinkSourceTemplate.html#link_impl_asm"><span class="id" title="definition">link_impl_asm</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HM</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">HM</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">destruct_impl_inverted</span> <span class="id" title="var">HM</span>.<br/>

<br/>
</div>

<div class="doc">
Commonly used in FooGenLink.v: 
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">Coqlib</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">Integers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">Maps</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">AST</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">Globalenvs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.flatmem.FlatMemory.html#"><span class="id" title="library">FlatMemory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">Decision</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#"><span class="id" title="library">LAsm</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSem.html#"><span class="id" title="library">LAsmModuleSem</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemMakeProgram.html#"><span class="id" title="library">LAsmModuleSemMakeProgram</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.layerlib.LayerCalculusLemma.html#"><span class="id" title="library">LayerCalculusLemma</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#"><span class="id" title="library">LinkTactic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.layerlib.Soundness.html#"><span class="id" title="library">Soundness</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <span class="id" title="library">CompatExternalCalls</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab37"></a><h1 class="section">Characterization of initial memory</h1>

<div class="paragraph"> </div>

 This is a modified version of Compcert's <span class="inlinecode"><span class="id" title="var">init_mem_characterization</span></span>:
  initial data created by <span class="inlinecode"><span class="id" title="var">Init_space</span></span> should contain zeros. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="INITMEM"><span class="id" title="section">INITMEM</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">compcertikos_prf</span>: <a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#CompCertiKOS"><span class="id" title="class">CompCertiKOS</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">real_params_prf</span> : <a class="idref" href="mcertikos.clib.RealParams.html#RealParams"><span class="id" title="class">RealParams</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="init_data_list_size_pos"><span class="id" title="lemma">init_data_list_size_pos</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">il</span>, <span class="id" title="definition">Genv.init_data_list_size</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#il"><span class="id" title="variable">il</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#162be8364124d2d389b2e8a3fc881ab2"><span class="id" title="notation">≥</span></a> 0.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">il</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span>:= <span class="id" title="lemma">Genv.init_data_size_pos</span> <span class="id" title="var">a</span>); <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="load_init_space_zeros"><span class="id" title="definition">load_init_space_zeros</span></a> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">p</span> (<span class="id" title="var">il</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <span class="id" title="inductive">AST.init_data</span>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#il"><span class="id" title="variable">il</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Init_space</span> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">il&acute;</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">n</span> → <span class="id" title="method">Mem.load</span> <span class="id" title="constructor">Mint8unsigned</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="definition">Vzero</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#load_init_space_zeros"><span class="id" title="definition">load_init_space_zeros</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Zmax"><span class="id" title="abbreviation">Zmax</span></a> <span class="id" title="var">n</span> 0) <span class="id" title="var">il&acute;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Remark</span> <a name="load_init_space_zeros_invariant"><span class="id" title="lemma">load_init_space_zeros_invariant</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m&acute;</span> <span class="id" title="var">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <span class="id" title="var">chunk</span> <span class="id" title="var">ofs</span>, <span class="id" title="method">Mem.load</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#chunk"><span class="id" title="variable">chunk</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">Mem.load</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#chunk"><span class="id" title="variable">chunk</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ofs"><span class="id" title="variable">ofs</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">il</span> <span class="id" title="var">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#load_init_space_zeros"><span class="id" title="definition">load_init_space_zeros</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#il"><span class="id" title="variable">il</span></a> → <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#load_init_space_zeros"><span class="id" title="definition">load_init_space_zeros</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#il"><span class="id" title="variable">il</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">il</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">Hm</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#proj1"><span class="id" title="lemma">proj1</span></a> <span class="id" title="var">Hm</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHil</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#proj2"><span class="id" title="lemma">proj2</span></a> <span class="id" title="var">Hm</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="store_zeros_charact"><span class="id" title="lemma">store_zeros_charact</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">p</span> <span class="id" title="var">n</span> <span class="id" title="var">m&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="lemma">store_zeros</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#n"><span class="id" title="variable">n</span></a> → <span class="id" title="method">Mem.load</span> <span class="id" title="constructor">Mint8unsigned</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="definition">Vzero</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">p</span> <span class="id" title="var">n</span> <span class="id" title="var">m&acute;</span> <span class="id" title="var">Hsz</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">functional</span> <span class="id" title="tactic">induction</span> (<span class="id" title="lemma">store_zeros</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">p</span> <span class="id" title="var">n</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hcases</span>: <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">p</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+(</span></a><span class="id" title="var">n</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#239a40728d107295b3cb2c790f57f9e9"><span class="id" title="notation">-</span></a>1<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">)</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcases</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi&acute;</span>|<span class="id" title="var">Hi&acute;</span>]; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hsz&acute;</span>:= <span class="id" title="lemma">Genv.store_zeros_outside</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hsz&acute;</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hsz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="method">Mem.load_store_same</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">e0</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hsz</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="init_space_zeros_charact"><span class="id" title="lemma">init_space_zeros_charact</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">ge</span> <span class="id" title="var">b</span> <span class="id" title="var">il</span> <span class="id" title="var">m</span> <span class="id" title="var">p</span> <span class="id" title="var">m&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <span class="id" title="definition">Genv.init_data_list_size</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#il"><span class="id" title="variable">il</span></a> → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">Mem.load</span> <span class="id" title="constructor">Mint8unsigned</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="definition">Vzero</span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.store_init_data_list</span>(<span class="id" title="var">F</span>:=<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#F"><span class="id" title="variable">F</span></a>)(<span class="id" title="var">V</span>:=<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#V"><span class="id" title="variable">V</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#il"><span class="id" title="variable">il</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#load_init_space_zeros"><span class="id" title="definition">load_init_space_zeros</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#il"><span class="id" title="variable">il</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">il</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">p</span> <span class="id" title="var">m&acute;</span> <span class="id" title="var">Hz</span> <span class="id" title="var">Hstore</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hstore</span>; <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hout</span>:= <span class="id" title="lemma">Genv.store_init_data_list_outside</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hzpos</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.max"><span class="id" title="definition">Z.max</span></a> <span class="id" title="var">z</span> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#162be8364124d2d389b2e8a3fc881ab2"><span class="id" title="notation">≥</span></a> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.max"><span class="id" title="definition">Z.max</span></a>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hneg</span>:= <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.Zorder.html#Zlt_neg_0"><span class="id" title="lemma">Zlt_neg_0</span></a> <span class="id" title="var">p0</span>); <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> (<span class="id" title="var">Hout</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hstore</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Hz</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H2</span>:= <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#init_data_list_size_pos"><span class="id" title="lemma">init_data_list_size_pos</span></a> <span class="id" title="var">il</span>); <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHil</span> <span class="id" title="var">m</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">apply</span> <span class="id" title="var">Hz</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.max"><span class="id" title="definition">Z.max</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hpos</span>:= <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.Zorder.html#Zle_0_pos"><span class="id" title="lemma">Zle_0_pos</span></a> <span class="id" title="var">p0</span>); <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="variables_initialized&acute;"><span class="id" title="definition">variables_initialized&acute;</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} (<span class="id" title="var">ge</span> <span class="id" title="var">g</span>: <span class="id" title="record">Genv.t</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#V"><span class="id" title="variable">V</span></a>) (<span class="id" title="var">m</span>: <a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#mem"><span class="id" title="method">mem</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">b</span> <span class="id" title="var">gv</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.find_var_info</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#g"><span class="id" title="variable">g</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Mem.range_perm</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> 0 (<span class="id" title="definition">Genv.init_data_list_size</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_init</span>)) <span class="id" title="constructor">Cur</span> (<span class="id" title="definition">Genv.perm_globvar</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">ofs</span> <span class="id" title="var">k</span> <span class="id" title="var">p</span>, <span class="id" title="method">Mem.perm</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">Genv.init_data_list_size</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_init</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="inductive">perm_order</span> (<span class="id" title="definition">Genv.perm_globvar</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_volatile</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> → <span class="id" title="definition">Genv.load_store_init_data</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> 0 <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_init</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_volatile</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> → <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#load_init_space_zeros"><span class="id" title="definition">load_init_space_zeros</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> 0 <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_init</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="alloc_global_initialized&acute;"><span class="id" title="lemma">alloc_global_initialized&acute;</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">ge</span> <span class="id" title="var">ge&acute;</span> <span class="id" title="var">m</span> <span class="id" title="var">id</span> <span class="id" title="var">g</span> <span class="id" title="var">m&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">Genv.genv_next</span>(<span class="id" title="var">F</span>:=<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#F"><span class="id" title="variable">F</span></a>)(<span class="id" title="var">V</span>:=<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#V"><span class="id" title="variable">V</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge&acute;"><span class="id" title="variable">ge&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.alloc_global</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#id"><span class="id" title="variable">id</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#variables_initialized&acute;"><span class="id" title="definition">variables_initialized&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge&acute;"><span class="id" title="variable">ge&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.functions_initialized</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge&acute;"><span class="id" title="variable">ge&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#variables_initialized&acute;"><span class="id" title="definition">variables_initialized&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge"><span class="id" title="variable">ge</span></a> (<span class="id" title="definition">Genv.add_global</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge&acute;"><span class="id" title="variable">ge&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#id"><span class="id" title="variable">id</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="definition">Genv.functions_initialized</span> (<span class="id" title="definition">Genv.add_global</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge&acute;"><span class="id" title="variable">ge&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#id"><span class="id" title="variable">id</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="projection">Genv.genv_next</span> (<span class="id" title="definition">Genv.add_global</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge&acute;"><span class="id" title="variable">ge&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#id"><span class="id" title="variable">id</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#g"><span class="id" title="variable">g</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="lemma">Genv.alloc_global_nextblock</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">NB</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">f</span>|<span class="id" title="var">v</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Genv.find_var_info</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B</span> [<span class="id" title="var">C</span> <span class="id" title="var">Hisz</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">D</span>: <span class="id" title="method">Mem.valid_block</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">exploit</span> <span class="id" title="projection">Genv.genv_vars_range</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">erewrite</span> &lt;- <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">B</span>. <span class="id" title="var">erewrite</span> <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Genv.load_store_init_data_invariant</span> <span class="id" title="keyword">with</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Genv.load_alloc_global</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#load_init_space_zeros_invariant"><span class="id" title="lemma">load_init_space_zeros_invariant</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Genv.load_alloc_global</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Genv.find_var_info</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">PTree.gsspec</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">peq</span> <span class="id" title="var">b</span> (<span class="id" title="projection">Genv.genv_next</span> <span class="id" title="var">ge&acute;</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">init</span> := <span class="id" title="projection">gvar_init</span> <span class="id" title="var">gv</span>) <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">sz</span> := <span class="id" title="definition">Genv.init_data_list_size</span> <span class="id" title="var">init</span>) <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">Mem.alloc</span> <span class="id" title="var">m</span> 0 <span class="id" title="var">sz</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">m1</span> <span class="id" title="var">b&acute;</span>] <span class="id" title="var">eqn</span>:?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="lemma">store_zeros</span> <span class="id" title="var">m1</span> <span class="id" title="var">b&acute;</span> 0 <span class="id" title="var">sz</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">m2</span>|] <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Genv.store_init_data_list</span> <span class="id" title="var">ge</span> <span class="id" title="var">m2</span> <span class="id" title="var">b&acute;</span> 0 <span class="id" title="var">init</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">m3</span>|] <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="method">Mem.alloc_result</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">RES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="projection">Genv.genv_next</span> <span class="id" title="var">ge&acute;</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">b&acute;</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.perm_drop_1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="var">ofs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">sz</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.perm_alloc_3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="lemma">Genv.store_zeros_perm</span>; [<span class="id" title="tactic">idtac</span>|<span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <span class="id" title="lemma">Genv.store_init_data_list_perm</span>; [<span class="id" title="tactic">idtac</span>|<span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.perm_drop_4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.perm_drop_2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Genv.load_store_init_data_invariant</span> <span class="id" title="keyword">with</span> <span class="id" title="var">m3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.load_drop</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Genv.perm_globvar</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="projection">gvar_readonly</span> <span class="id" title="var">gv</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Genv.store_init_data_list_charact</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#load_init_space_zeros_invariant"><span class="id" title="lemma">load_init_space_zeros_invariant</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">m3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.load_drop</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Genv.perm_globvar</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="projection">gvar_readonly</span> <span class="id" title="var">gv</span>); <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">mem</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#init_space_zeros_charact"><span class="id" title="lemma">init_space_zeros_charact</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#store_zeros_charact"><span class="id" title="lemma">store_zeros_charact</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B</span> [<span class="id" title="var">C</span> <span class="id" title="var">Hisz</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">D</span>: <span class="id" title="method">Mem.valid_block</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">exploit</span> <span class="id" title="projection">Genv.genv_vars_range</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">erewrite</span> &lt;- <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">B</span>. <span class="id" title="var">erewrite</span> <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Genv.load_store_init_data_invariant</span> <span class="id" title="keyword">with</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Genv.load_alloc_global</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#load_init_space_zeros_invariant"><span class="id" title="lemma">load_init_space_zeros_invariant</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Genv.load_alloc_global</span>; <span class="id" title="tactic">eauto</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">CompCertX</span>:<span class="id" title="var">test</span>-<span class="id" title="var">compcert</span>-<span class="id" title="var">void</span>-<span class="id" title="var">symbols</span></span> case none 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Genv.find_var_info</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> [<span class="id" title="var">B</span> [<span class="id" title="var">C</span> <span class="id" title="var">Hisz</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">D</span>: <span class="id" title="method">Mem.valid_block</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">exploit</span> <span class="id" title="projection">Genv.genv_vars_range</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">erewrite</span> &lt;- <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">B</span>. <span class="id" title="var">erewrite</span> <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="lemma">Genv.load_store_init_data_invariant</span> <span class="id" title="keyword">with</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Genv.load_alloc_global</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#load_init_space_zeros_invariant"><span class="id" title="lemma">load_init_space_zeros_invariant</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="lemma">Genv.load_alloc_global</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">g</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">f</span>|<span class="id" title="var">v</span>]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Genv.find_funct_ptr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">PTree.gsspec</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">peq</span> <span class="id" title="var">b</span> (<span class="id" title="projection">Genv.genv_next</span> <span class="id" title="var">ge&acute;</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="method">Mem.alloc</span> <span class="id" title="var">m</span> 0 1) <span class="id" title="keyword">as</span> [<span class="id" title="var">m1</span> <span class="id" title="var">b&acute;</span>] <span class="id" title="var">eqn</span>:?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="method">Mem.alloc_result</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intro</span> <span class="id" title="var">RES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="projection">Genv.genv_next</span> <span class="id" title="var">ge&acute;</span>) <span class="id" title="keyword">with</span> <span class="id" title="var">b&acute;</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.perm_drop_1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="var">ofs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.perm_alloc_3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.perm_drop_4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">omega</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="method">Mem.perm_drop_2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> <span class="id" title="var">B</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">D</span>: <span class="id" title="method">Mem.valid_block</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">exploit</span> <span class="id" title="projection">Genv.genv_funs_range</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">erewrite</span> &lt;- <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">B</span>. <span class="id" title="var">erewrite</span> <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Genv.find_funct_ptr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> <span class="id" title="var">B</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">D</span>: <span class="id" title="method">Mem.valid_block</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">exploit</span> <span class="id" title="projection">Genv.genv_funs_range</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">erewrite</span> &lt;- <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">B</span>. <span class="id" title="var">erewrite</span> <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">CompCertX</span>:<span class="id" title="var">test</span>-<span class="id" title="var">compcert</span>-<span class="id" title="var">void</span>-<span class="id" title="var">symbols</span></span> case none 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Genv.find_funct_ptr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">A</span> <span class="id" title="var">B</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">D</span>: <span class="id" title="method">Mem.valid_block</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>. <span class="id" title="var">exploit</span> <span class="id" title="projection">Genv.genv_funs_range</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="var">erewrite</span> &lt;- <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">B</span>. <span class="id" title="var">erewrite</span> <span class="id" title="lemma">Genv.alloc_global_perm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NB</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="alloc_globals_initialized&acute;"><span class="id" title="lemma">alloc_globals_initialized&acute;</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">ge</span> : <span class="id" title="record">Genv.t</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">gl</span> <span class="id" title="var">ge&acute;</span> <span class="id" title="var">m</span> <span class="id" title="var">m&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="projection">Genv.genv_next</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge&acute;"><span class="id" title="variable">ge&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">Mem.nextblock</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.alloc_globals</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gl"><span class="id" title="variable">gl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#variables_initialized&acute;"><span class="id" title="definition">variables_initialized&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge&acute;"><span class="id" title="variable">ge&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.functions_initialized</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge&acute;"><span class="id" title="variable">ge&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#variables_initialized&acute;"><span class="id" title="definition">variables_initialized&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge"><span class="id" title="variable">ge</span></a> (<span class="id" title="definition">Genv.add_globals</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge&acute;"><span class="id" title="variable">ge&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gl"><span class="id" title="variable">gl</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.functions_initialized</span> (<span class="id" title="definition">Genv.add_globals</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ge&acute;"><span class="id" title="variable">ge&acute;</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gl"><span class="id" title="variable">gl</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m&acute;"><span class="id" title="variable">m&acute;</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">gl</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">id</span> <span class="id" title="var">g</span>]. <span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Genv.alloc_global</span> <span class="id" title="var">ge</span> <span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">id</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">g</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <span class="id" title="keyword">as</span> [<span class="id" title="var">m1</span>|] <span class="id" title="var">eqn</span>:?; <span class="id" title="tactic">try</span> <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#alloc_global_initialized&acute;"><span class="id" title="lemma">alloc_global_initialized&acute;</span></a>(<span class="id" title="var">F</span>:=<span class="id" title="var">F</span>)(<span class="id" title="var">V</span>:=<span class="id" title="var">V</span>)); <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> [<span class="id" title="var">P</span> [<span class="id" title="var">Q</span> <span class="id" title="var">R</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHgl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="init_mem_characterization&acute;"><span class="id" title="lemma">init_mem_characterization&acute;</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span> <span class="id" title="var">gv</span> <span class="id" title="var">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.find_var_info</span> (<span class="id" title="definition">Genv.globalenv</span>(<span class="id" title="var">F</span>:=<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#F"><span class="id" title="variable">F</span></a>)(<span class="id" title="var">V</span>:=<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#V"><span class="id" title="variable">V</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.init_mem</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Mem.range_perm</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> 0 (<span class="id" title="definition">Genv.init_data_list_size</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_init</span>)) <span class="id" title="constructor">Cur</span> (<span class="id" title="definition">Genv.perm_globvar</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">ofs</span> <span class="id" title="var">k</span> <span class="id" title="var">p</span>, <span class="id" title="method">Mem.perm</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <span class="id" title="definition">Genv.init_data_list_size</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_init</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="inductive">perm_order</span> (<span class="id" title="definition">Genv.perm_globvar</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_volatile</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> → <span class="id" title="definition">Genv.load_store_init_data</span> (<span class="id" title="definition">Genv.globalenv</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> 0 <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_init</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_volatile</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> → <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#load_init_space_zeros"><span class="id" title="definition">load_init_space_zeros</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> 0 <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#gv"><span class="id" title="variable">gv</span></a>.(<span class="id" title="projection">gvar_init</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#alloc_globals_initialized&acute;"><span class="id" title="lemma">alloc_globals_initialized&acute;</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="method">Mem.nextblock_empty</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Genv.find_var_info</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">PTree.gempty</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Genv.find_funct_ptr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">PTree.gempty</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="zero_bytes"><span class="id" title="lemma">zero_bytes</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">i</span> <span class="id" title="var">bytes</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">Mem.loadbytes</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i"><span class="id" title="variable">i</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#bytes"><span class="id" title="variable">bytes</span></a> → <span class="id" title="definition">decode_val</span> <span class="id" title="constructor">Mint8unsigned</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#bytes"><span class="id" title="variable">bytes</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">Vzero</span> → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#bytes"><span class="id" title="variable">bytes</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">Byte</span> <span class="id" title="definition">Byte.zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">i</span> <span class="id" title="var">bytes</span> <span class="id" title="var">Hlb</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hmax</span>:= <a class="idref" href="mcertikos.clib.RealParams.html#max_unsigned_val"><span class="id" title="lemma">max_unsigned_val</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlength</span>:= <span class="id" title="method">Mem.loadbytes_length</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">byte</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <span class="id" title="var">bytes</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#byte"><span class="id" title="variable">byte</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">bytes</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hlength</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">bytes</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">m0</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">byte</span>]; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">decode_val</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">byte</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">byte</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="lemma">decode_encode_int_1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">decode_int</span>, <span class="id" title="definition">encode_int</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">rev_if_be_involutive</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">rev_if_be</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> (<span class="id" title="keyword">if</span> <span class="id" title="definition">Archi.big_endian</span> <span class="id" title="keyword">then</span> <span class="id" title="var">byte</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="keyword">else</span> <span class="id" title="var">byte</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <span class="id" title="keyword">with</span> (<span class="id" title="var">byte</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrange</span>:= <span class="id" title="lemma">Byte.unsigned_range</span> <span class="id" title="var">byte</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hmod</span>: <span class="id" title="definition">Byte.modulus</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 256) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Byte.unsigned_repr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.add_0_r"><span class="id" title="lemma">Z.add_0_r</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.repr_unsigned</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">Vzero</span>, <span class="id" title="definition">Int.zero</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="definition">Int.repr</span> (<span class="id" title="definition">Byte.unsigned</span> <span class="id" title="var">byte</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">Int.repr</span> 0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>, <span class="id" title="constructor">Vint</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">Vint</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i2"><span class="id" title="variable">i2</span></a> → <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i2"><span class="id" title="variable">i2</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">Hi</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span>:= <span class="id" title="definition">Int.unsigned</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> 2 <span class="id" title="lemma">Int.unsigned_repr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#f_equal"><span class="id" title="lemma">f_equal</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">f</span>:= <span class="id" title="definition">Byte.repr</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Byte.repr_unsigned</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.add_0_r"><span class="id" title="lemma">Z.add_0_r</span></a>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="definition">Byte.max_unsigned</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 255) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="definition">Archi.big_endian</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdec</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="load_four_bytes_zero"><span class="id" title="lemma">load_four_bytes_zero</span></a> : <span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">p</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#22aee23095fa75a48e17ac5311892ed3"><span class="id" title="notation">(</span></a>4 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#22aee23095fa75a48e17ac5311892ed3"><span class="id" title="notation">|</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#22aee23095fa75a48e17ac5311892ed3"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> 4 → <span class="id" title="method">Mem.load</span> <span class="id" title="constructor">Mint8unsigned</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="definition">Vzero</span>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">Mem.load</span> <span class="id" title="constructor">Mint32</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="definition">Vzero</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">m</span> <span class="id" title="var">b</span> <span class="id" title="var">p</span> <span class="id" title="var">Hdiv</span> <span class="id" title="var">Hbytes</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H0</span>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> 4) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H1</span>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> 4) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H2</span>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> 4) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H3</span>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> 3 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> 4) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hl0</span>:= <span class="id" title="var">Hbytes</span> 0 <span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hl1</span>:= <span class="id" title="var">Hbytes</span> 1 <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hl2</span>:= <span class="id" title="var">Hbytes</span> 2 <span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hl3</span>:= <span class="id" title="var">Hbytes</span> 3 <span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">Mem.load_loadbytes</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hl0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hl0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">bytes0</span> [<span class="id" title="var">Hlb0</span> <span class="id" title="var">Hdec0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">Mem.load_loadbytes</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hl1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hl1</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">bytes1</span> [<span class="id" title="var">Hlb1</span> <span class="id" title="var">Hdec1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">Mem.load_loadbytes</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hl2</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hl2</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">bytes2</span> [<span class="id" title="var">Hlb2</span> <span class="id" title="var">Hdec2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">Mem.load_loadbytes</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hl3</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hl3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">bytes3</span> [<span class="id" title="var">Hlb3</span> <span class="id" title="var">Hdec3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">bytes0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">Byte</span> <span class="id" title="definition">Byte.zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#zero_bytes"><span class="id" title="lemma">zero_bytes</span></a> <span class="id" title="var">m</span> <span class="id" title="var">b</span> (<span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>0)); <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">bytes1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">Byte</span> <span class="id" title="definition">Byte.zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#zero_bytes"><span class="id" title="lemma">zero_bytes</span></a> <span class="id" title="var">m</span> <span class="id" title="var">b</span> (<span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>1)); <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">bytes2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">Byte</span> <span class="id" title="definition">Byte.zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#zero_bytes"><span class="id" title="lemma">zero_bytes</span></a> <span class="id" title="var">m</span> <span class="id" title="var">b</span> (<span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>2)); <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">bytes3</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">Byte</span> <span class="id" title="definition">Byte.zero</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">apply</span> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#zero_bytes"><span class="id" title="lemma">zero_bytes</span></a> <span class="id" title="var">m</span> <span class="id" title="var">b</span> (<span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a>3)); <span class="id" title="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hchunk</span>: <span class="id" title="definition">size_chunk</span> <span class="id" title="constructor">Mint8unsigned</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#162be8364124d2d389b2e8a3fc881ab2"><span class="id" title="notation">≥</span></a> 0) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">omega</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.add_0_r"><span class="id" title="lemma">Z.add_0_r</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hlb0</span>; <span class="id" title="tactic">unfold</span> <span class="id" title="definition">size_chunk</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlb01</span>:= <span class="id" title="method">Mem.loadbytes_concat</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlb0</span> <span class="id" title="var">Hlb1</span> <span class="id" title="var">Hchunk</span> <span class="id" title="var">Hchunk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hlb01</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlb012</span>:= <span class="id" title="method">Mem.loadbytes_concat</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlb01</span> <span class="id" title="var">Hlb2</span> <span class="id" title="var">Hchunk</span> <span class="id" title="var">Hchunk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hlb012</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hlb</span>:= <span class="id" title="method">Mem.loadbytes_concat</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hlb012</span> <span class="id" title="var">Hlb3</span> <span class="id" title="var">Hchunk</span> <span class="id" title="var">Hchunk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hlb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> 4 <span class="id" title="keyword">with</span> (<span class="id" title="definition">size_chunk</span> <span class="id" title="constructor">Mint32</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">Hlb</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">Mem.loadbytes_load</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hlb</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#INITMEM"><span class="id" title="section">INITMEM</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab38"></a><h1 class="section">Proof templates for linking theorems</h1>

<div class="paragraph"> </div>

<a name="lab39"></a><h2 class="section">Proof template for <span class="inlinecode"><span class="id" title="var">link_correct</span></span></h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">link_correct_aux_fresh</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id" title="var">LL</span> <span class="id" title="notation">⊢</span> <span class="id" title="var">_</span> <span class="id" title="notation">:</span> <span class="id" title="notation">?</span><span class="id" title="var">LH</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">LinkTactic.transfer_variables</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfold_layer</span> <span class="id" title="var">LH</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> <span class="id" title="notation">⊢</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">_</span> <span class="id" title="notation">⊕</span> <span class="id" title="notation">∅</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="notation">:</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">LayerLogicImpl.vdash_oplus_empty</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">hcomp_tac</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">layer_link_split_tac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">link_correct_aux_passthrough</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#layer_link_new_glbl_both"><span class="id" title="lemma">layer_link_new_glbl_both</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="method">oplus_sim_monotonic</span>; [ | <span class="id" title="tactic">apply</span> <span class="id" title="lemma">L64_auto_sim</span>].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">link_correct_aux</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">M</span> := <span class="id" title="tactic">fresh</span> "M" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">HM</span> := <span class="id" title="tactic">fresh</span> "H" <span class="id" title="var">M</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">M</span> <span class="id" title="var">HM</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_link_impl</span> <span class="id" title="var">HM</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#conseq_le_assoc_comm"><span class="id" title="lemma">conseq_le_assoc_comm</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="var">hcomp_tac</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">link_correct_aux_fresh</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">link_correct_aux_passthrough</span>].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">cl_backward_simulation</span> <span class="id" title="var">init_correct</span> <span class="id" title="var">lc</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ? ? ? ? <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.Soundness.html#soundness"><span class="id" title="lemma">soundness</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="var">decision</span>;<br/>
&nbsp;&nbsp;[ <span class="id" title="tactic">eapply</span> <span class="id" title="var">lc</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">eauto</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">init_correct</span>; [ | <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LinkTactic.html#make_program_oplus_right"><span class="id" title="lemma">make_program_oplus_right</span></a>]; <span class="id" title="var">eassumption</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_link_impl</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">assumption</span> ].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">make_program_exists</span> <span class="id" title="var">lc</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hmkp</span> := <span class="id" title="tactic">fresh</span> "Hmkp" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ? ? <span class="id" title="var">H</span> <span class="id" title="var">Hmkp</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">lc</span>; [<span class="id" title="var">eassumption</span> | ];<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_link_impl</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.SoundnessAux.html#make_program_vertical&acute;"><span class="id" title="lemma">make_program_vertical&acute;</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hmkp</span>; [ | <span class="id" title="var">eassumption</span>];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmkp</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.layerlib.LAsmModuleSemMakeProgram.html#make_program_sim_monotonic_exists"><span class="id" title="lemma">make_program_sim_monotonic_exists</span></a>;<br/>
&nbsp;&nbsp;[ | <span class="id" title="var">eassumption</span> | <span class="id" title="var">eassumption</span>];<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab40"></a><h2 class="section">Proof template for <span class="inlinecode"><span class="id" title="var">init_correct</span></span></h2>

<div class="paragraph"> </div>

 A number of premises of <span class="inlinecode"><span class="id" title="var">cl_init_sim_intro</span></span> have a <span class="inlinecode"><span class="id" title="var">In</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode"><span class="id" title="var">new_glbl</span></span> guard.
  We destruct it so as to get subgoals where i is actually a concrete value. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_In</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">solve</span> [ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> ]) || (<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; [<span class="id" title="tactic">subst</span> | <span class="id" title="var">destruct_In</span> <span class="id" title="var">H</span>]).<br/>

<br/>
</div>

<div class="doc">
We also need a similar tactic to split up <span class="inlinecode">¬</span> <span class="inlinecode"><span class="id" title="var">In</span></span> <span class="inlinecode"><span class="id" title="var">new_glbl</span></span> into
  individual inequalities. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="expand_not_in"><span class="id" title="lemma">expand_not_in</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">x</span> <span class="id" title="var">x0</span>: <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">xs</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#x"><span class="id" title="variable">x</span></a> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#x0"><span class="id" title="variable">x0</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="mcertikos.layerlib.LinkTemplate.html#xs"><span class="id" title="variable">xs</span></a>) → <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#x0"><span class="id" title="variable">x0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#xs"><span class="id" title="variable">xs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hx</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_not_In</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">type</span> <span class="id" title="var">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#611abc97cba304de784fa909dbdea1fa"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> ?<span class="id" title="var">i</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hi</span> := <span class="id" title="tactic">fresh</span> "H" <span class="id" title="var">i</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#expand_not_in"><span class="id" title="lemma">expand_not_in</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hi</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">Hi</span> <span class="id" title="var">H</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_not_In</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Using a <span class="inlinecode"><span class="id" title="var">get_module_variable</span></span> equality, we can unify the value
  associated to the identifier in the module with the one stated by
  the inequality. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="get_module_variable_le_ok"><span class="id" title="lemma">get_module_variable_le_ok</span></a> (<span class="id" title="var">i</span>: <span class="id" title="definition">AST.ident</span>) (τ: <span class="id" title="record">AST.globvar</span> <span class="id" title="inductive">Ctypes.type</span>) <span class="id" title="var">M</span>:<br/>
&nbsp;&nbsp;<span class="id" title="class">ModuleOK</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> →<br/>
&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <span class="id" title="notation">≤</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> →<br/>
&nbsp;&nbsp;<span class="id" title="method">get_module_variable</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HM</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="method">get_module_variable_monotonic</span> <span class="id" title="var">i</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">get_module_normalize_in</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">HM</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HM</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">_</span> <span class="id" title="var">HMiOK</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hi</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">HMiOK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_get_module_variable</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">lazymatch</span> <span class="id" title="var">type</span> <span class="id" title="var">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> <span class="id" title="method">get_module_variable</span> ?<span class="id" title="var">i</span> ?<span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">vi</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lazymatch</span> <span class="id" title="var">M</span> <span class="id" title="keyword">with</span> <span class="id" title="keyword">context</span> [<span class="id" title="var">i</span> <span class="id" title="notation">↦</span> <span class="id" title="notation">?</span><span class="id" title="var">vi&acute;</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#get_module_variable_le_ok"><span class="id" title="lemma">get_module_variable_le_ok</span></a> <span class="id" title="var">i</span> <span class="id" title="var">vi&acute;</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; [|<span class="id" title="var">eassumption</span>|<span class="id" title="var">le_oplus</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Given a hypothesis involing a term of the form
  <span class="inlinecode"><span class="id" title="var">get_module_variable</span></span> <span class="inlinecode"><span class="id" title="var">M</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span>, where M can involve compiled modules,
  we can exploit <span class="inlinecode"><span class="id" title="var">transf_module</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">ret</span></span> <span class="inlinecode"><span class="id" title="var">_</span></span> hypotheses from the context
  to boil it down further than <span class="inlinecode"><span class="id" title="var">get_module_normalize_in</span></span> would on its
  own, allowing us to use <span class="inlinecode"><span class="id" title="tactic">discriminate</span></span> in some circumstances. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">simpl_get_compiled_variable</span> <span class="id" title="var">H</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">lazymatch</span> <span class="id" title="var">type</span> <span class="id" title="var">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="method">get_module_variable</span> ?<span class="id" title="var">i</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">transf_none</span> <span class="id" title="var">i</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_normalize_in</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#module"><span class="id" title="definition">module</span></a> <span class="id" title="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Hv</span>: <span class="id" title="method">get_module_variable</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hv</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
With this in our toolbox, we can tackle the init_correct subgoal
  of the form:

<div class="paragraph"> </div>

    <span class="inlinecode"><span class="id" title="keyword">∀</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode"><span class="id" title="var">vi</span>,</span>
      <span class="inlinecode"><span class="id" title="var">get_module_variable</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode"><span class="id" title="var">M</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">OK</span></span> <span class="inlinecode">(<span class="id" title="var">Some</span></span> <span class="inlinecode"><span class="id" title="var">vi</span>)</span> <span class="inlinecode">→</span>
      <span class="inlinecode"><span class="id" title="var">InitMem.Genv.init_data_list_valid</span></span> <span class="inlinecode"><span class="id" title="var">ge</span></span> <span class="inlinecode">0</span> <span class="inlinecode">(<span class="id" title="var">gvar_init</span></span> <span class="inlinecode"><span class="id" title="var">vi</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">true</span></span>.

<div class="paragraph"> </div>

  There are two cases: If <span class="inlinecode"><span class="id" title="var">i</span></span> is actually a global variable
  declared in the module, we use <span class="inlinecode"><span class="id" title="var">destruct_In</span></span> tactic to do a case
  analysis on which variable it is, and recover the corresponding,
  concrete value of <span class="inlinecode"><span class="id" title="var">vi</span></span>. The rest is computation. On the other hand,
  if <span class="inlinecode"><span class="id" title="var">i</span></span> is not actually declared, we can massage a contradiction out
  of the <span class="inlinecode"><span class="id" title="var">get_module_variable</span></span> hypothesis using <span class="inlinecode"><span class="id" title="var">destruct_not_In</span></span> and
  <span class="inlinecode"><span class="id" title="var">simpl_get_compiled_variable</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">init_correct_data_list_valid</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">lazymatch</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">Hvi</span>: <span class="id" title="method">get_module_variable</span> ?<span class="id" title="var">i</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> ?<span class="id" title="var">vi</span>) |-<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">InitMem.Genv.init_data_list_valid</span> ?<span class="id" title="var">ge</span> <span class="id" title="var">_</span> (<span class="id" title="projection">AST.gvar_init</span> ?<span class="id" title="var">vi</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">decide</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">i</span> <span class="id" title="method">new_glbl</span>)) <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="var">destruct_In</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_get_module_variable</span> <span class="id" title="var">Hvi</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">destruct_not_In</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">simpl_get_compiled_variable</span> <span class="id" title="var">Hvi</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">discriminate</span> <span class="id" title="var">Hvi</span> ]<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Do introductions, splitting up <span class="inlinecode"><span class="id" title="var">In</span></span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode"><span class="id" title="var">new_glbl</span></span> guards into subcases. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">init_correct_glbl_intros</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> → <span class="id" title="var">_</span>  ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destruct_In</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">init_correct_glbl_intros</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">init_correct_glbl_intros</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Extract all that we need out of a <span class="inlinecode"><span class="id" title="var">Genv.init_mem</span></span> hypothesis. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="inv_init_mem"><span class="id" title="lemma">inv_init_mem</span></a> `{<a class="idref" href="mcertikos.layerlib.CompCertiKOSproof.html#CompCertiKOS"><span class="id" title="class">CompCertiKOS</span></a>} <span class="id" title="var">D</span> <span class="id" title="var">s</span> <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">m</span>:<br/>
&nbsp;&nbsp;<span class="id" title="var">p</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="method">make_program</span> (<span class="id" title="var">D</span>:=<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#D"><span class="id" title="variable">D</span></a>) <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#L"><span class="id" title="variable">L</span></a><span class="id" title="notation">;</span> <span class="id" title="method">ret</span> (<span class="id" title="definition">Genv.init_mem</span> <span class="id" title="var">p</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a>) →<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">make_globalenv</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="method">ret</span> (<span class="id" title="definition">Genv.globalenv</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.init_mem</span> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#m"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_monad</span> <span class="id" title="var">Hm</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="lemma">make_program_make_globalenv</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">inv_init_mem</span> <span class="id" title="var">Hmpi</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">p</span> := <span class="id" title="tactic">fresh</span> "p" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hm</span> := <span class="id" title="tactic">fresh</span> "Hm" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hge</span> := <span class="id" title="tactic">fresh</span> "Hge" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hs</span> := <span class="id" title="tactic">fresh</span> "Hs" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#inv_init_mem"><span class="id" title="lemma">inv_init_mem</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hmpi</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hm</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">p</span> &amp; <span class="id" title="var">Hge</span> &amp; <span class="id" title="var">Hm</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="method">make_globalenv_stencil_matches</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hge</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hs</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_make_globalenv</span> <span class="id" title="var">Hge</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?(<span class="id" title="projection">stencil_matches_symbols</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">Hs</span>) <span class="id" title="keyword">in</span> ×.<br/>

<br/>
</div>

<div class="doc">
Put all of this together 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">init_correct_sim_mem</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hmpi</span> := <span class="id" title="tactic">fresh</span> "Hmpi" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? ? ? <span class="id" title="var">Hmpi</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_init_mem</span> <span class="id" title="var">Hmpi</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">econstructor</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span> <span class="id" title="keyword">using</span> <a class="idref" href="mcertikos.flatmem.FlatMemory.html#FlatMem.flatmem_empty_inj"><span class="id" title="lemma">FlatMem.flatmem_empty_inj</span></a>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="inductive">val_inject</span> <span class="id" title="var">_</span> <span class="id" title="definition">Vzero</span> <span class="id" title="definition">Vzero</span> ⇒ <span class="id" title="tactic">econstructor</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#kctxt_inj"><span class="id" title="definition">kctxt_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">Pregmap.get</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">Maps.ZMap.gi</span>, ?<span class="id" title="lemma">Pregmap.gi</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#uctxt_inj"><span class="id" title="definition">uctxt_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">Pregmap.get</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">Maps.ZMap.gi</span>, ?<span class="id" title="lemma">Pregmap.gi</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCS_inj"><span class="id" title="inductive">VMCS_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">Pregmap.get</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">Maps.ZMap.gi</span>, ?<span class="id" title="lemma">Pregmap.gi</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMX_inj"><span class="id" title="inductive">VMX_inj</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">intro</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">Pregmap.get</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<span class="id" title="lemma">Maps.ZMap.gi</span>, ?<span class="id" title="lemma">Pregmap.gi</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="method">find_symbol</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">init_correct_glbl</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">init_correct_glbl_intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="definition">InitMem.Genv.init_data_list_valid</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">init_correct_data_list_valid</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="definition">isOKNone</span> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="definition">isOKNone</span> (<span class="id" title="method">get_layer_globalvar</span> ?<span class="id" title="var">i</span> <span class="id" title="var">_</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">i</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">decision</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <span class="id" title="keyword">context</span> [?<span class="id" title="var">i</span> <span class="id" title="notation">↦</span> <span class="id" title="notation">?</span><span class="id" title="var">vi</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">vi</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <span class="id" title="method">get_module_variable</span> ?<span class="id" title="var">i</span> ?<span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="constructor">OK</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.LinkTemplate.html#vi"><span class="id" title="variable">vi</span></a>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">vi</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="mcertikos.layerlib.LinkTemplate.html#get_module_variable_le_ok"><span class="id" title="lemma">get_module_variable_le_ok</span></a> <span class="id" title="var">i</span>); [ <span class="id" title="tactic">assumption</span> | <span class="id" title="var">le_oplus</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">init_correct</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">HM</span> := <span class="id" title="tactic">fresh</span> "HM" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> ? <span class="id" title="var">HM</span> ?;<br/>
&nbsp;&nbsp;<span class="id" title="var">inv_link_impl</span> <span class="id" title="var">HM</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="lemma">cl_init_sim_intro</span>; [ <span class="id" title="var">init_correct_sim_mem</span> | <span class="id" title="var">init_correct_glbl</span> .. ].<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>