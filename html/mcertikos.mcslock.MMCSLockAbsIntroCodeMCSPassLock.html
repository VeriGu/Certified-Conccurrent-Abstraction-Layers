<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coqlib</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Maps</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">AST</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Integers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Floats</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Values</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">MemoryX</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">MemWithData</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">EventsX</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Globalenvs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Locations</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#"><span class="id" title="library">LAsm</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Smallstep</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">ClightBigstep</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Cop</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.Zwf.html#"><span class="id" title="library">ZArith.Zwf</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.LoopProof.html#"><span class="id" title="library">LoopProof</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.VCGen.html#"><span class="id" title="library">VCGen</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.RealParams.html#"><span class="id" title="library">RealParams</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compcertx.Stencil</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compcertx.MakeProgram</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compat.CompatLayers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compat.CompatGenSem</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">CompatClightSem</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#"><span class="id" title="library">PrimSemantics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Clight</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#"><span class="id" title="library">CDataTypes</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Ctypes</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.CommonTactic.html#"><span class="id" title="library">CommonTactic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.TacticsForTesting.html#"><span class="id" title="library">TacticsForTesting</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#"><span class="id" title="library">MMCSLockAbsIntroCSource</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#"><span class="id" title="library">MMCSLockAbsIntro</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.mcslock.MCSLockOpGenSpec.html#"><span class="id" title="library">MCSLockOpGenSpec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#"><span class="id" title="library">CalMCSLock</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#"><span class="id" title="library">AbstractDataType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="multi_log_double_update"><span class="id" title="lemma">multi_log_double_update</span></a>: <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">ml1</span> <span class="id" title="var">ml2</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#ml1"><span class="id" title="variable">ml1</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">})</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#ml2"><span class="id" title="variable">ml2</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#ml2"><span class="id" title="variable">ml2</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#update_multi_log"><span class="id" title="definition">update_multi_log</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ikern_remain"><span class="id" title="lemma">ikern_remain</span></a> : <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">ml</span>, <a class="idref" href="mcertikos.objects.AbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#ml"><span class="id" title="variable">ml</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ihost_remain"><span class="id" title="lemma">ihost_remain</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">ml</span>, <a class="idref" href="mcertikos.objects.AbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#ml"><span class="id" title="variable">ml</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="oracle_remain"><span class="id" title="lemma">oracle_remain</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">ml</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#ml"><span class="id" title="variable">ml</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lock_AT_start_val"><span class="id" title="lemma">lock_AT_start_val</span></a>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_AT_start"><span class="id" title="definition">lock_AT_start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ID_AT_range_val"><span class="id" title="lemma">ID_AT_range_val</span></a>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_AT_range"><span class="id" title="definition">ID_AT_range</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_AT_range"><span class="id" title="definition">ID_AT_range</span></a>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lock_TCB_start_val"><span class="id" title="lemma">lock_TCB_start_val</span></a> : <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_TCB_start"><span class="id" title="definition">lock_TCB_start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 1%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_TCB_start"><span class="id" title="definition">lock_TCB_start</span></a>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="num_chan_val"><span class="id" title="lemma">num_chan_val</span></a>: <a class="idref" href="mcertikos.layerlib.Constant.html#num_chan"><span class="id" title="abbreviation">num_chan</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#num_chan"><span class="id" title="abbreviation">num_chan</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="ID_TCB_range_val"><span class="id" title="lemma">ID_TCB_range_val</span></a>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_TCB_range"><span class="id" title="definition">ID_TCB_range</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#num_chan"><span class="id" title="abbreviation">num_chan</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_TCB_range"><span class="id" title="definition">ID_TCB_range</span></a>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lock_TCB_range_val"><span class="id" title="lemma">lock_TCB_range_val</span></a>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_TCB_range"><span class="id" title="definition">lock_TCB_range</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> (<a class="idref" href="mcertikos.layerlib.Constant.html#num_chan"><span class="id" title="abbreviation">num_chan</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_TCB_range"><span class="id" title="definition">lock_TCB_range</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lock_SC_start_val"><span class="id" title="lemma">lock_SC_start_val</span></a>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_SC_start"><span class="id" title="definition">lock_SC_start</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> (<a class="idref" href="mcertikos.layerlib.Constant.html#num_chan"><span class="id" title="abbreviation">num_chan</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_SC_start"><span class="id" title="definition">lock_SC_start</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_TCB_range_val"><span class="id" title="lemma">lock_TCB_range_val</span></a>. <span class="id" title="tactic">reflexivity</span>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="lock_range_val"><span class="id" title="lemma">lock_range_val</span></a>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_range"><span class="id" title="definition">lock_range</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> (<a class="idref" href="mcertikos.layerlib.Constant.html#num_chan"><span class="id" title="abbreviation">num_chan</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#num_chan"><span class="id" title="abbreviation">num_chan</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> 1)%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_range"><span class="id" title="definition">lock_range</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="t_struct_mcs_lock_size"><span class="id" title="lemma">t_struct_mcs_lock_size</span></a>: <br/>
&nbsp;&nbsp;<span class="id" title="definition">sizeof</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#t_struct_mcs_lock"><span class="id" title="abbreviation">t_struct_mcs_lock</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 576%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">align</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="t_struct_mcs_node_size"><span class="id" title="lemma">t_struct_mcs_node_size</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="definition">sizeof</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#t_struct_mcs_node"><span class="id" title="abbreviation">t_struct_mcs_node</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 64%<span class="id" title="var">Z</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">align</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK"><span class="id" title="module">MMCSLOCKABSINTROCODEMCSPASSLOCK</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives"><span class="id" title="section">WithPrimitives</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">real_params</span>: <a class="idref" href="mcertikos.clib.RealParams.html#RealParams"><span class="id" title="class">RealParams</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">mcs_oracle_prop</span>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracleProp.html#MCSOracleProp"><span class="id" title="class">MCSOracleProp</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">memb</span>} `{<span class="id" title="var">Hmemx</span>: <span class="id" title="class">Mem.MemoryModelX</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#memb"><span class="id" title="variable">memb</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hmwd</span>: <span class="id" title="class">UseMemWithData</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.memb"><span class="id" title="variable">memb</span></a>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">wait_time</span>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#WaitTime"><span class="id" title="class">WaitTime</span></a>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.mem"><span class="id" title="variable">mem</span></a> := <span class="id" title="definition">mwd</span> (<span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#RData"><span class="id" title="record">RData</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hstencil</span>: <span class="id" title="class">Stencil</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">make_program_ops</span>: !<span class="id" title="class">MakeProgramOps</span> <span class="id" title="record">Clight.function</span> <span class="id" title="inductive">type</span> <span class="id" title="inductive">Clight.fundef</span> <span class="id" title="inductive">type</span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hmake_program</span>: !<span class="id" title="class">MakeProgram</span> <span class="id" title="record">Clight.function</span> <span class="id" title="inductive">type</span> <span class="id" title="inductive">Clight.fundef</span> <span class="id" title="inductive">type</span>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK"><span class="id" title="section">MCSPASSLOCK</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Let</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.L"><span class="id" title="variable">L</span></a>: <span class="id" title="record">compatlayer</span> (<span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#RData"><span class="id" title="record">RData</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.GlobIdent.html#get_CPU_ID"><span class="id" title="definition">get_CPU_ID</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjMultiprocessor.html#get_CPU_ID_spec"><span class="id" title="definition">get_CPU_ID_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_get_next"><span class="id" title="definition">mcs_get_next</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_get_next_spec"><span class="id" title="definition">mcs_get_next_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_set_busy"><span class="id" title="definition">mcs_set_busy</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_set_busy_spec"><span class="id" title="definition">mcs_set_busy_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_cas_tail"><span class="id" title="definition">mcs_cas_tail</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_cas_tail_spec"><span class="id" title="definition">mcs_cas_tail_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_lock_get_index"><span class="id" title="definition">mcs_lock_get_index</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_lock_get_index_spec"><span class="id" title="definition">mcs_lock_get_index_spec</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Instance</span>: <span class="id" title="class">ExternalCallsOps</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.mem"><span class="id" title="variable">mem</span></a> := <span class="id" title="instance">CompatExternalCalls.compatlayer_extcall_ops</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.L"><span class="id" title="variable">L</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Instance</span>: <span class="id" title="class">CompilerConfigOps</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.mem"><span class="id" title="variable">mem</span></a> := <span class="id" title="instance">CompatExternalCalls.compatlayer_compiler_config_ops</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.L"><span class="id" title="variable">L</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> (<span class="id" title="var">n</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">l</span>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiLog"><span class="id" title="definition">MultiLog</span></a>) (<span class="id" title="var">to</span>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiOracle"><span class="id" title="definition">MultiOracle</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiLog"><span class="id" title="definition">MultiLog</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">S</span> <span class="id" title="var">n&acute;</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l&acute;</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSLOCK"><span class="id" title="constructor">MCSLOCK</span></a> <span class="id" title="var">mcstail</span> <span class="id" title="var">mcsnp</span> <span class="id" title="var">_</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">mcsnp</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> <span class="id" title="var">p</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <span class="id" title="var">n&acute;</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next_value"><span class="id" title="definition">get_current_next_value</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">l</span> : <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiLog"><span class="id" title="definition">MultiLog</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSLOCK"><span class="id" title="constructor">MCSLOCK</span></a> <span class="id" title="var">_</span> <span class="id" title="var">cur_np</span> <span class="id" title="var">_</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">cur_np</span> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">cur_nt</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">cur_nt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next_prop"><span class="id" title="definition">get_current_next_prop</span></a> (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">l</span> : <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiLog"><span class="id" title="definition">MultiLog</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next_value"><span class="id" title="definition">get_current_next_value</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">cur_nt</span> ⇒ <span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> <span class="id" title="var">cur_nt</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWait_implies_CalMCS_RelWaitAux"><span class="id" title="lemma">CalMCS_RelWait_implies_CalMCS_RelWaitAux</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">l&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCS_RelWait"><span class="id" title="definition">CalMCS_RelWait</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">l&acute;&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;&acute;"><span class="id" title="variable">l&acute;&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#SET_BUSY"><span class="id" title="constructor">SET_BUSY</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)::(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;&acute;"><span class="id" title="variable">l&acute;&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;&acute;"><span class="id" title="variable">l&acute;&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next_prop"><span class="id" title="definition">get_current_next_prop</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;&acute;"><span class="id" title="variable">l&acute;&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;&acute;"><span class="id" title="variable">l&acute;&acute;</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">Transparent</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCS_RelWait"><span class="id" title="definition">CalMCS_RelWait</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hdestruct0</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l&acute;&acute;</span>, (<span class="id" title="var">Ha</span>, <span class="id" title="var">Hb</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">l&acute;&acute;</span>; <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next_prop"><span class="id" title="definition">get_current_next_prop</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next_value"><span class="id" title="definition">get_current_next_value</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux_has_prefix"><span class="id" title="lemma">CalMCS_RelWaitAux_has_prefix</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">l&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">l&acute;&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;&acute;"><span class="id" title="variable">l&acute;&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> ( <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> <span class="id" title="var">i</span> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">to</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span>  <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#app_assoc_reverse"><span class="id" title="lemma">app_assoc_reverse</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> <span class="id" title="var">i</span> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">to</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux_implies_some_mcs"><span class="id" title="lemma">CalMCS_RelWaitAux_implies_some_mcs</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">l&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">mlock</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock"><span class="id" title="variable">mlock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; [ <span class="id" title="var">inv</span> <span class="id" title="var">H</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="keyword">Transparent</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSLOCK"><span class="id" title="constructor">MCSLOCK</span></a> <span class="id" title="var">tail</span> <span class="id" title="var">lock_array</span> <span class="id" title="var">bounds</span>); <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCSLock_prefix_has_CalMCSLock_aux"><span class="id" title="lemma">CalMCSLock_prefix_has_CalMCSLock_aux</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">a</span> <span class="id" title="var">l&acute;</span> <span class="id" title="var">mlock</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#a"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock"><span class="id" title="variable">mlock</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">mlock&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock&acute;"><span class="id" title="variable">mlock&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">esplit</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCSLock_prefix_has_CalMCSLock"><span class="id" title="lemma">CalMCSLock_prefix_has_CalMCSLock</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">l&acute;</span> <span class="id" title="var">l</span> <span class="id" title="var">l&acute;&acute;</span> <span class="id" title="var">mlock</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;&acute;"><span class="id" title="variable">l&acute;&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock"><span class="id" title="variable">mlock</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">mlock&acute;&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;&acute;"><span class="id" title="variable">l&acute;&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock&acute;&acute;"><span class="id" title="variable">mlock&acute;&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#app_nil_l"><span class="id" title="lemma">app_nil_l</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">mlock</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">clearAllExceptOne</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">edestruct</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCSLock_prefix_has_CalMCSLock_aux"><span class="id" title="lemma">CalMCSLock_prefix_has_CalMCSLock_aux</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (2:= <span class="id" title="var">H0</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">mlock&acute;</span>, <span class="id" title="var">H1</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCSLock_fun"><span class="id" title="lemma">CalMCSLock_fun</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">mlock</span> <span class="id" title="var">mlock&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock"><span class="id" title="variable">mlock</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock&acute;"><span class="id" title="variable">mlock&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock"><span class="id" title="variable">mlock</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock&acute;"><span class="id" title="variable">mlock&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Fixpoint</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> (<span class="id" title="var">n</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) (<span class="id" title="var">i</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">l</span>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiLog"><span class="id" title="definition">MultiLog</span></a>) (<span class="id" title="var">to</span>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiOracle"><span class="id" title="definition">MultiOracle</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiLog"><span class="id" title="definition">MultiLog</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#n"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">S</span> <span class="id" title="var">n&acute;</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">l&acute;</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSLOCK"><span class="id" title="constructor">MCSLOCK</span></a> <span class="id" title="var">mcstail</span> <span class="id" title="var">mcsnp</span> <span class="id" title="var">_</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">mcsnp</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> <span class="id" title="var">p</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <span class="id" title="var">n&acute;</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxStops"><span class="id" title="lemma">CalMCS_RelWaitAuxStops</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">l&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#a37ed901e2f16b7d06c569763fc8034f"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#a37ed901e2f16b7d06c569763fc8034f"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#k"><span class="id" title="variable">k</span></a>)%<span class="id" title="var">nat</span> → <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">j</span>, (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#j"><span class="id" title="variable">j</span></a>)%<span class="id" title="var">nat</span> → <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; [<span class="id" title="var">inv</span> <span class="id" title="var">H</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">x</span> &amp; <span class="id" title="var">H</span> &amp; <span class="id" title="var">H0</span> &amp; <span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">x</span>); <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">omega</span> | <span class="id" title="tactic">split</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">n0case</span>: <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <span class="id" title="var">n</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Caseeq</span> <span class="id" title="var">n0case</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.Natural.Peano.NPeano.html#Nat.succ_pred"><span class="id" title="lemma">NPeano.Nat.succ_pred</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.Natural.Peano.NPeano.html#Nat.succ_pred"><span class="id" title="lemma">NPeano.Nat.succ_pred</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H3</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> 1%<span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">omega</span> | <span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> ((<span class="id" title="var">n0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">reflexivity</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.Natural.Peano.NPeano.html#Nat.succ_pred"><span class="id" title="lemma">NPeano.Nat.succ_pred</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxToPre"><span class="id" title="lemma">CalMCS_RelWaitAuxToPre</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">l&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; [<span class="id" title="var">inv</span> <span class="id" title="var">H</span> |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxToPreCons"><span class="id" title="lemma">CalMCS_RelWaitAuxToPreCons</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">m&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">l&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">l&acute;&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m&acute;"><span class="id" title="variable">m&acute;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;&acute;"><span class="id" title="variable">l&acute;&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span>(<span class="id" title="var">m&acute;</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="var">esplit</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span>(<span class="id" title="var">m&acute;</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <span class="id" title="var">m&acute;</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Caseeq</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.Natural.Peano.NPeano.html#Nat.succ_pred"><span class="id" title="lemma">NPeano.Nat.succ_pred</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H1</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">m&acute;</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <span class="id" title="var">m&acute;</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Caseeq</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.Natural.Peano.NPeano.html#Nat.succ_pred"><span class="id" title="lemma">NPeano.Nat.succ_pred</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPreInv"><span class="id" title="lemma">CalMCS_RelWaitAuxPreInv</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">l&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> (<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <span class="id" title="var">j</span>, (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">nat</span> → <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#j"><span class="id" title="variable">j</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">l&acute;&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;&acute;"><span class="id" title="variable">l&acute;&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> 1 <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;&acute;"><span class="id" title="variable">l&acute;&acute;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">esplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">esplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct3</span>, <span class="id" title="var">Hdestruct5</span>, <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> (<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">m</span>))%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct3</span>, <span class="id" title="var">Hdestruct5</span>, <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">j</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> (<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">m</span>))%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> (<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">m</span>))%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>, <span class="id" title="var">Hdestruct1</span>, <span class="id" title="var">Hdestruct2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPreNeq"><span class="id" title="lemma">CalMCS_RelWaitAuxPreNeq</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">l&acute;</span> <span class="id" title="var">to</span> <span class="id" title="var">mlock</span> <span class="id" title="var">mcstail</span> <span class="id" title="var">mcsnp</span> <span class="id" title="var">mcsbounds</span> <span class="id" title="var">bs</span> <span class="id" title="var">nt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#19ab5cfd7e4f60fa14f22b576013bd96"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">nat</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock"><span class="id" title="variable">mlock</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock"><span class="id" title="variable">mlock</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSLOCK"><span class="id" title="constructor">MCSLOCK</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mcstail"><span class="id" title="variable">mcstail</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mcsnp"><span class="id" title="variable">mcsnp</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mcsbounds"><span class="id" title="variable">mcsbounds</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mcsnp"><span class="id" title="variable">mcsnp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#bs"><span class="id" title="variable">bs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#nt"><span class="id" title="variable">nt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#nt"><span class="id" title="variable">nt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> (<span class="id" title="var">m</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#19ab5cfd7e4f60fa14f22b576013bd96"><span class="id" title="notation">&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Caseeq</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxEq"><span class="id" title="lemma">CalMCS_RelWaitAuxEq</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">i</span> <span class="id" title="var">l</span> <span class="id" title="var">to</span> <span class="id" title="var">l&acute;</span> <span class="id" title="var">mlock</span> <span class="id" title="var">mcstail</span> <span class="id" title="var">mcsnp</span> <span class="id" title="var">mcsbounds</span> <span class="id" title="var">bs</span> <span class="id" title="var">nt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#to"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l&acute;"><span class="id" title="variable">l&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock"><span class="id" title="variable">mlock</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock"><span class="id" title="variable">mlock</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSLOCK"><span class="id" title="constructor">MCSLOCK</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mcstail"><span class="id" title="variable">mcstail</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mcsnp"><span class="id" title="variable">mcsnp</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mcsbounds"><span class="id" title="variable">mcsbounds</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mcsnp"><span class="id" title="variable">mcsnp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#bs"><span class="id" title="variable">bs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#nt"><span class="id" title="variable">nt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#nt"><span class="id" title="variable">nt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHm</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_pre_log_term_satisfies_hinv"><span class="id" title="lemma">loop_pre_log_term_satisfies_hinv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">adt</span> <span class="id" title="var">lock_index</span> <span class="id" title="var">l</span> <span class="id" title="var">pre_log</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_range"><span class="id" title="definition">lock_range</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#pre_log"><span class="id" title="variable">pre_log</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#pre_log"><span class="id" title="variable">pre_log</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i</span> <span class="id" title="var">lock_index</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="var">l</span>) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> (<span class="id" title="definition">ZMap.get</span> <span class="id" title="var">lock_index</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">adt</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>) <span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_pool_mcs"><span class="id" title="definition">valid_multi_oracle_pool_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_mcs"><span class="id" title="definition">valid_multi_oracle_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a>  (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">lock_index</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">adt</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_pool_mcs"><span class="id" title="definition">valid_multi_oracle_pool_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_mcs"><span class="id" title="definition">valid_multi_oracle_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_pre_log_satisfies_hinv"><span class="id" title="lemma">loop_pre_log_satisfies_hinv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">adt</span> <span class="id" title="var">lock_index</span> <span class="id" title="var">l</span> <span class="id" title="var">pre_log</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_range"><span class="id" title="definition">lock_range</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#pre_log"><span class="id" title="variable">pre_log</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> →                              <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#pre_log"><span class="id" title="variable">pre_log</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAll</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i</span> <span class="id" title="var">lock_index</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<span class="id" title="definition">ZMap.get</span> <span class="id" title="var">lock_index</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">adt</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">lock_index</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">adt</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">lock_index</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">adt</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">pre_log&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_pre_log_term_satisfies_hinv"><span class="id" title="lemma">loop_pre_log_term_satisfies_hinv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heqpre_log&acute;</span>; <span class="id" title="tactic">eauto</span>; [ | <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Heqpre_log&acute;</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hmcs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_CalMCS_RelWaitAuxPre_satisfies_hinv&acute;"><span class="id" title="lemma">loop_CalMCS_RelWaitAuxPre_satisfies_hinv&acute;</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">cur_index</span> <span class="id" title="var">adt</span> <span class="id" title="var">lock_index</span> <span class="id" title="var">l</span> <span class="id" title="var">m0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_range"><span class="id" title="definition">lock_range</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#cur_index"><span class="id" title="variable">cur_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m0"><span class="id" title="variable">m0</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m0"><span class="id" title="variable">m0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">cur_index</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i</span> <span class="id" title="var">lock_index</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdef</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHcur_index</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">adt</span> := <span class="id" title="var">adt</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">ZMap.set</span> <span class="id" title="var">lock_index</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">lock_index</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">adt</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <span class="id" title="var">adt</span>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>)  <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.set2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.multi_log_double_update"><span class="id" title="lemma">multi_log_double_update</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.multi_log_double_update"><span class="id" title="lemma">multi_log_double_update</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i</span> <span class="id" title="var">lock_index</span>); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdef</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_pool_mcs"><span class="id" title="definition">valid_multi_oracle_pool_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_mcs"><span class="id" title="definition">valid_multi_oracle_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span> <span class="id" title="keyword">with</span> (1:= <span class="id" title="var">H1</span>) (<span class="id" title="var">i0</span> := (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>)) <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H5</span>; <span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hmcs</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">tmp_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_prop</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">eauto</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_pool_mcs"><span class="id" title="definition">valid_multi_oracle_pool_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_mcs"><span class="id" title="definition">valid_multi_oracle_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">i</span> := <span class="id" title="var">lock_index</span>) (<span class="id" title="var">i0</span> := (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">adt</span>)) <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_prop</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i</span> <span class="id" title="var">lock_index</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdef</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hmcs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">tmp_prop</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdef</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_CalMCS_RelWaitAuxPre_satisfies_hinv"><span class="id" title="lemma">loop_CalMCS_RelWaitAuxPre_satisfies_hinv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">cur_index</span> <span class="id" title="var">adt</span> <span class="id" title="var">lock_index</span> <span class="id" title="var">l</span> <span class="id" title="var">pre_log</span> <span class="id" title="var">m0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_range"><span class="id" title="definition">lock_range</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#pre_log"><span class="id" title="variable">pre_log</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#l"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> →                              <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#cur_index"><span class="id" title="variable">cur_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#pre_log"><span class="id" title="variable">pre_log</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m0"><span class="id" title="variable">m0</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m0"><span class="id" title="variable">m0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">adt</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <span class="id" title="var">lock_index</span> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <span class="id" title="var">pre_log</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <span class="id" title="var">adt</span>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_pre_log_satisfies_hinv"><span class="id" title="lemma">loop_pre_log_satisfies_hinv</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="definition">ZMap.get</span> <span class="id" title="var">lock_index</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> (<span class="id" title="var">adt</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <span class="id" title="var">lock_index</span> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <span class="id" title="var">pre_log</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <span class="id" title="var">adt</span>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <span class="id" title="var">pre_log</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_CalMCS_RelWaitAuxPre_satisfies_hinv&acute;"><span class="id" title="lemma">loop_CalMCS_RelWaitAuxPre_satisfies_hinv&acute;</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H8</span> <span class="id" title="keyword">with</span> (4:= <span class="id" title="var">H6</span>) (5:= <span class="id" title="var">H7</span>) (6:= <span class="id" title="var">H5</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">assumption</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.set2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.multi_log_double_update"><span class="id" title="lemma">multi_log_double_update</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY"><span class="id" title="section">MCSPASSLOCKBODY</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hwb</span>: <span class="id" title="class">WritableBlockOps</span>}.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> (<a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.sc"><span class="id" title="variable">sc</span></a>: <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.stencil"><span class="id" title="variable">stencil</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variables</span> (<a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a>: <span class="id" title="definition">genv</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.STENCIL_MATCHES"><span class="id" title="variable">STENCIL_MATCHES</span></a>: <span class="id" title="record">stencil_matches</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.sc"><span class="id" title="variable">sc</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a>).<br/>

<br/>
</div>

<div class="doc">
get_curid 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bget_CPU_ID"><span class="id" title="variable">bget_CPU_ID</span></a>: <span class="id" title="definition">block</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.hget_CPU_ID1"><span class="id" title="variable">hget_CPU_ID1</span></a> : <span class="id" title="definition">Genv.find_symbol</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#get_CPU_ID"><span class="id" title="definition">get_CPU_ID</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bget_CPU_ID"><span class="id" title="variable">bget_CPU_ID</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.hget_CPU_ID2"><span class="id" title="variable">hget_CPU_ID2</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.find_funct_ptr</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bget_CPU_ID"><span class="id" title="variable">bget_CPU_ID</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">External</span> (<span class="id" title="constructor">EF_external</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#get_CPU_ID"><span class="id" title="definition">get_CPU_ID</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">signature_of_type</span> <span class="id" title="constructor">Tnil</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tuint"><span class="id" title="abbreviation">tuint</span></a> <span class="id" title="definition">cc_default</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="constructor">Tnil</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tuint"><span class="id" title="abbreviation">tuint</span></a> <span class="id" title="definition">cc_default</span>).<br/>

<br/>
</div>

<div class="doc">
mcs_get_next 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_get_next"><span class="id" title="variable">bmcs_get_next</span></a>: <span class="id" title="definition">block</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.hmcs_get_next1"><span class="id" title="variable">hmcs_get_next1</span></a> : <span class="id" title="definition">Genv.find_symbol</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_get_next"><span class="id" title="definition">mcs_get_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_get_next"><span class="id" title="variable">bmcs_get_next</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.hmcs_get_next2"><span class="id" title="variable">hmcs_get_next2</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.find_funct_ptr</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_get_next"><span class="id" title="variable">bmcs_get_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">External</span> (<span class="id" title="constructor">EF_external</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_get_next"><span class="id" title="definition">mcs_get_next</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">signature_of_type</span> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> <span class="id" title="constructor">Tnil</span>)) <a class="idref" href="mcertikos.clib.CDataTypes.html#tuint"><span class="id" title="abbreviation">tuint</span></a> <span class="id" title="definition">cc_default</span>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> <span class="id" title="constructor">Tnil</span>)) <a class="idref" href="mcertikos.clib.CDataTypes.html#tuint"><span class="id" title="abbreviation">tuint</span></a> <span class="id" title="definition">cc_default</span>).<br/>

<br/>
</div>

<div class="doc">
mcs_set_busy 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_set_busy"><span class="id" title="variable">bmcs_set_busy</span></a>: <span class="id" title="definition">block</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.hmcs_set_busy1"><span class="id" title="variable">hmcs_set_busy1</span></a> : <span class="id" title="definition">Genv.find_symbol</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_set_busy"><span class="id" title="definition">mcs_set_busy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_set_busy"><span class="id" title="variable">bmcs_set_busy</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.hmcs_set_busy2"><span class="id" title="variable">hmcs_set_busy2</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.find_funct_ptr</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_set_busy"><span class="id" title="variable">bmcs_set_busy</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">External</span> (<span class="id" title="constructor">EF_external</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_set_busy"><span class="id" title="definition">mcs_set_busy</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">signature_of_type</span> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> <span class="id" title="constructor">Tnil</span>)) <span class="id" title="constructor">Tvoid</span> <span class="id" title="definition">cc_default</span>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> <span class="id" title="constructor">Tnil</span>)) <span class="id" title="constructor">Tvoid</span> <span class="id" title="definition">cc_default</span>).<br/>

<br/>
</div>

<div class="doc">
mcs_cas_tail 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_cas_tail"><span class="id" title="variable">bmcs_cas_tail</span></a>: <span class="id" title="definition">block</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.hmcs_cas_tail1"><span class="id" title="variable">hmcs_cas_tail1</span></a> : <span class="id" title="definition">Genv.find_symbol</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_cas_tail"><span class="id" title="definition">mcs_cas_tail</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_cas_tail"><span class="id" title="variable">bmcs_cas_tail</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.hmcs_cas_tail2"><span class="id" title="variable">hmcs_cas_tail2</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.find_funct_ptr</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_cas_tail"><span class="id" title="variable">bmcs_cas_tail</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">External</span> (<span class="id" title="constructor">EF_external</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_cas_tail"><span class="id" title="definition">mcs_cas_tail</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">signature_of_type</span> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> <span class="id" title="constructor">Tnil</span>)) <a class="idref" href="mcertikos.clib.CDataTypes.html#tuint"><span class="id" title="abbreviation">tuint</span></a> <span class="id" title="definition">cc_default</span>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> <span class="id" title="constructor">Tnil</span>)) <a class="idref" href="mcertikos.clib.CDataTypes.html#tuint"><span class="id" title="abbreviation">tuint</span></a> <span class="id" title="definition">cc_default</span>).<br/>

<br/>
</div>

<div class="doc">
mcs_lock_get_index 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_lock_get_index"><span class="id" title="variable">bmcs_lock_get_index</span></a>: <span class="id" title="definition">block</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.hmcs_lock_get_index1"><span class="id" title="variable">hmcs_lock_get_index1</span></a> : <span class="id" title="definition">Genv.find_symbol</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_lock_get_index"><span class="id" title="definition">mcs_lock_get_index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_lock_get_index"><span class="id" title="variable">bmcs_lock_get_index</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.hmcs_lock_get_index2"><span class="id" title="variable">hmcs_lock_get_index2</span></a> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">Genv.find_funct_ptr</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.bmcs_lock_get_index"><span class="id" title="variable">bmcs_lock_get_index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">External</span> (<span class="id" title="constructor">EF_external</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#mcs_lock_get_index"><span class="id" title="definition">mcs_lock_get_index</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">signature_of_type</span> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> <span class="id" title="constructor">Tnil</span>)) <a class="idref" href="mcertikos.clib.CDataTypes.html#tuint"><span class="id" title="abbreviation">tuint</span></a> <span class="id" title="definition">cc_default</span>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> (<span class="id" title="constructor">Tcons</span> <a class="idref" href="mcertikos.clib.CDataTypes.html#tint"><span class="id" title="abbreviation">tint</span></a> <span class="id" title="constructor">Tnil</span>)) <a class="idref" href="mcertikos.clib.CDataTypes.html#tuint"><span class="id" title="abbreviation">tuint</span></a> <span class="id" title="definition">cc_default</span>).<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof"><span class="id" title="section">mcs_pass_lock_loop_proof</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.minit"><span class="id" title="variable">minit</span></a>: <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.memb"><span class="id" title="variable">memb</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#RData"><span class="id" title="record">RData</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.cal_time"><span class="id" title="variable">cal_time</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.l"><span class="id" title="variable">l</span></a> : <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiLog"><span class="id" title="definition">MultiLog</span></a>. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.l1"><span class="id" title="variable">l1</span></a>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiLog"><span class="id" title="definition">MultiLog</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Variable</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.current_next"><span class="id" title="variable">current_next</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>. 
<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.iihost"><span class="id" title="variable">iihost</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.iikern"><span class="id" title="variable">iikern</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.hinv"><span class="id" title="variable">hinv</span></a>: <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.cur_id_range"><span class="id" title="variable">cur_id_range</span></a> : 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index_range"><span class="id" title="variable">lock_index_range</span></a> : 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_range"><span class="id" title="definition">lock_range</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Krange"><span class="id" title="variable">Krange</span></a>: (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#432e31800fc09abd260feb634dbbd1af"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#432e31800fc09abd260feb634dbbd1af"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.cal_time"><span class="id" title="variable">cal_time</span></a>)%<span class="id" title="var">nat</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.initlist"><span class="id" title="variable">initlist</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.l"><span class="id" title="variable">l</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.l"><span class="id" title="variable">l</span></a>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.Calculate_MCSPassLock"><span class="id" title="definition">Calculate_MCSPassLock</span></a> (<span class="id" title="var">i</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a> (<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">l&acute;</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a>  (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <span class="id" title="var">l&acute;</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> (<span class="id" title="var">d</span>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#RData"><span class="id" title="record">RData</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <span class="id" title="var">l</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <span class="id" title="var">l</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSLOCK"><span class="id" title="constructor">MCSLOCK</span></a> <span class="id" title="var">_</span> <span class="id" title="var">cur_np</span> <span class="id" title="var">_</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <span class="id" title="var">cur_np</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">cur_nt</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">cur_nt</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.init_current_next"><span class="id" title="variable">init_current_next</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.current_next"><span class="id" title="variable">current_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.CalcWait"><span class="id" title="variable">CalcWait</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.cal_time"><span class="id" title="variable">cal_time</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.l1"><span class="id" title="variable">l1</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Kpre"><span class="id" title="variable">Kpre</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#a37ed901e2f16b7d06c569763fc8034f"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#a37ed901e2f16b7d06c569763fc8034f"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span> → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Klast"><span class="id" title="variable">Klast</span></a>:  <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.l1"><span class="id" title="variable">l1</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Klastpre"><span class="id" title="variable">Klastpre</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">j</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#j"><span class="id" title="variable">j</span></a>)%<span class="id" title="var">nat</span> → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#j"><span class="id" title="variable">j</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.l1"><span class="id" title="variable">l1</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Hypothesis</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.next_at_while_begin"><span class="id" title="variable">next_at_while_begin</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.pass_lock_loop_body_P"><span class="id" title="definition">pass_lock_loop_body_P</span></a> (<span class="id" title="var">le</span>: <span class="id" title="definition">temp_env</span>) (<span class="id" title="var">m</span> : <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.mem"><span class="id" title="variable">mem</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_lock_index"><span class="id" title="definition">_lock_index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_cpuid"><span class="id" title="definition">_cpuid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_current_next"><span class="id" title="definition">_current_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.current_next"><span class="id" title="variable">current_next</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_null_var"><span class="id" title="definition">_null_var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.current_next"><span class="id" title="variable">current_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.minit"><span class="id" title="variable">minit</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.pass_lock_loop_body_Q"><span class="id" title="definition">pass_lock_loop_body_Q</span></a> (<span class="id" title="var">le</span>: <span class="id" title="definition">temp_env</span>) (<span class="id" title="var">m</span> : <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.mem"><span class="id" title="variable">mem</span></a>): <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">d</span> <span class="id" title="var">new_next</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_lock_index"><span class="id" title="definition">_lock_index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_cpuid"><span class="id" title="definition">_cpuid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_current_next"><span class="id" title="definition">_current_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#new_next"><span class="id" title="variable">new_next</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_null_var"><span class="id" title="definition">_null_var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#new_next"><span class="id" title="variable">new_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#new_next"><span class="id" title="variable">new_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.Calculate_MCSPassLock"><span class="id" title="definition">Calculate_MCSPassLock</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.cal_time"><span class="id" title="variable">cal_time</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.minit"><span class="id" title="variable">minit</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log_satisfies_hinv"><span class="id" title="lemma">pre_log_satisfies_hinv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_pre_log_satisfies_hinv"><span class="id" title="lemma">loop_pre_log_satisfies_hinv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre_satisfies_hinv"><span class="id" title="lemma">CalMCS_RelWaitAuxPre_satisfies_hinv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">cur_index</span> <span class="id" title="var">m0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre"><span class="id" title="definition">CalMCS_RelWaitAuxPre</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#cur_index"><span class="id" title="variable">cur_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m0"><span class="id" title="variable">m0</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m0"><span class="id" title="variable">m0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_CalMCS_RelWaitAuxPre_satisfies_hinv"><span class="id" title="lemma">loop_CalMCS_RelWaitAuxPre_satisfies_hinv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.pass_lock_loop_correct_aux"><span class="id" title="lemma">pass_lock_loop_correct_aux</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.clib.LoopProof.html#LoopProofSimpleWhile.t"><span class="id" title="record">LoopProofSimpleWhile.t</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#f_mcs_pass_lock_while_condition"><span class="id" title="definition">f_mcs_pass_lock_while_condition</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#f_mcs_pass_lock_while_body"><span class="id" title="definition">f_mcs_pass_lock_while_body</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> (<span class="id" title="definition">PTree.empty</span> <span class="id" title="var">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pass_lock_loop_body_P"><span class="id" title="definition">pass_lock_loop_body_P</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pass_lock_loop_body_Q"><span class="id" title="definition">pass_lock_loop_body_Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.clib.RealParams.html#max_unsigned_val"><span class="id" title="lemma">max_unsigned_val</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">muval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.clib.LoopProof.html#LoopProofSimpleWhile.make"><span class="id" title="constructor">LoopProofSimpleWhile.make</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">W</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">lt</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">z1</span> <span class="id" title="var">z2</span> ⇒ (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#z2"><span class="id" title="variable">z2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#z1"><span class="id" title="variable">z1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#273beba4f3453dbb29192b3ac740bb71"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#z2"><span class="id" title="variable">z2</span></a>)%<span class="id" title="var">Z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">I</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">le</span> <span class="id" title="var">m</span> <span class="id" title="var">w</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">i</span> <span class="id" title="var">new_next</span> <span class="id" title="var">d&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_lock_index"><span class="id" title="definition">_lock_index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_cpuid"><span class="id" title="definition">_cpuid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>))) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_current_next"><span class="id" title="definition">_current_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#new_next"><span class="id" title="variable">new_next</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <span class="id" title="notation">!</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_null_var"><span class="id" title="definition">_null_var</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#new_next"><span class="id" title="variable">new_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">(</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#new_next"><span class="id" title="variable">new_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a>(0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#432e31800fc09abd260feb634dbbd1af"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#432e31800fc09abd260feb634dbbd1af"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#new_next"><span class="id" title="variable">new_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>  <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#new_next"><span class="id" title="variable">new_next</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.Calculate_MCSPassLock"><span class="id" title="definition">Calculate_MCSPassLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#w"><span class="id" title="variable">w</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#239a40728d107295b3cb2c790f57f9e9"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.minit"><span class="id" title="variable">minit</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.Zwf.html#Zwf_well_founded"><span class="id" title="lemma">Zwf_well_founded</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">le</span> <span class="id" title="var">m</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hle1</span> &amp; <span class="id" title="var">Hle2</span> &amp; <span class="id" title="var">Hle3</span> &amp; <span class="id" title="var">Hle4</span> &amp; <span class="id" title="var">Hc_next</span> &amp; <span class="id" title="var">Hm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>), <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>, <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.init_current_next"><span class="id" title="variable">init_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hle3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.Znat.html#Nat2Z.inj_sub"><span class="id" title="lemma">Nat2Z.inj_sub</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.Natural.Peano.NPeano.html#Nat.sub_0_r"><span class="id" title="lemma">NPeano.Nat.sub_0_r</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">le</span> <span class="id" title="var">m</span> <span class="id" title="var">n</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">cur_index</span> &amp; <span class="id" title="var">new_next</span> &amp; <span class="id" title="var">new_d</span>  &amp; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hle1</span> &amp; <span class="id" title="var">Hle2</span> &amp; <span class="id" title="var">Hle3</span> &amp; <span class="id" title="var">Hle4</span> &amp; <span class="id" title="var">Hc_next</span> &amp; <span class="id" title="var">Hcond</span> &amp; <span class="id" title="var">Hw</span> &amp; <span class="id" title="var">Hm</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Caseeq</span> <span class="id" title="var">Hcond</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">ival</span> &amp; <span class="id" title="var">new</span> &amp; <span class="id" title="var">nd</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hc_next</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hc_next</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hc_next</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> ×.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="var">esplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>; <span class="id" title="tactic">fail</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Int.eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">Int.one</span>, <span class="id" title="definition">Int.zero</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">tmp</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">mcs</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mcs"><span class="id" title="variable">mcs</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<span class="id" title="var">kneq0</span>: <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.Natural.Peano.NPeano.html#Nat.succ_pred"><span class="id" title="lemma">NPeano.Nat.succ_pred</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">kneq0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">kneq0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Klast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Klast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">esplit</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct1</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tmp</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mcs&acute;</span>, <span class="id" title="var">tmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">tmp&acute;</span>: <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">mcs&acute;</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp</span>; <span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">tmp</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">tmp_next</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">tmp_next</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#tmp_next"><span class="id" title="variable">tmp_next</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mcs&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <span class="id" title="var">lock_array0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <span class="id" title="var">lock_array0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tmp_next</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tmp_next</span>, <span class="id" title="var">tmp_next_prop</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="var">esplit</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_get_next_spec"><span class="id" title="definition">mcs_get_next_spec</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ikern_remain"><span class="id" title="lemma">ikern_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ihost_remain"><span class="id" title="lemma">ihost_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.iikern"><span class="id" title="variable">iikern</span></a>, <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.iihost"><span class="id" title="variable">iihost</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">tmp&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= (<span class="id" title="definition">Int.repr</span> <span class="id" title="var">tmp_next</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="var">tmp_next</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <span class="id" title="var">tmp_next</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#5dda7752d319ac2ccefb830f12787952"><span class="id" title="notation">≤</span></a> <span class="id" title="var">tmp_next</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#5dda7752d319ac2ccefb830f12787952"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log_satisfies_hinv"><span class="id" title="lemma">pre_log_satisfies_hinv</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">hinv&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">hinv&acute;</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_pool_mcs"><span class="id" title="definition">valid_multi_oracle_pool_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_mcs"><span class="id" title="definition">valid_multi_oracle_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index_range"><span class="id" title="variable">lock_index_range</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">lock_index_range&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">q</span>:= <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pre_log"><span class="id" title="abbreviation">pre_log</span></a>)  <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span> <span class="id" title="keyword">with</span>  (<span class="id" title="var">i0</span> := (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct6</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mcs&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">tmp&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">lock_index_range&acute;</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct5</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">CPU_ID_range</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>; <span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; [ | <span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.clib.RealParams.html#max_unsigned_val"><span class="id" title="lemma">max_unsigned_val</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">omega</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mcs&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_next_prop</span>; <span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">tmp</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.clib.RealParams.html#max_unsigned_val"><span class="id" title="lemma">max_unsigned_val</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.lock_range_val"><span class="id" title="lemma">lock_range_val</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range</span>; <span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#239a40728d107295b3cb2c790f57f9e9"><span class="id" title="notation">-</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> 1%<span class="id" title="var">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.multi_log_double_update"><span class="id" title="lemma">multi_log_double_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Kcase</span>: (1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Caseeq</span> <span class="id" title="var">Kcase</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">right</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Klast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Klast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Klast"><span class="id" title="variable">Klast</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct6</span>; <span class="id" title="tactic">fail</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct8</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.Calculate_MCSPassLock"><span class="id" title="definition">Calculate_MCSPassLock</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Klast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Klast"><span class="id" title="variable">Klast</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct6</span>; <span class="id" title="tactic">fail</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct8</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">onerange</span>: (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#a37ed901e2f16b7d06c569763fc8034f"><span class="id" title="notation">≤</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#a37ed901e2f16b7d06c569763fc8034f"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Kpre"><span class="id" title="variable">Kpre</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">onerange</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">onerange</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_next_prop</span>; <span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct7</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hdestruct7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct9</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">onerange</span>: (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#a37ed901e2f16b7d06c569763fc8034f"><span class="id" title="notation">≤</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#a37ed901e2f16b7d06c569763fc8034f"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Kpre"><span class="id" title="variable">Kpre</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">onerange</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">onerange</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_next_prop</span>; <span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct7</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hdestruct7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct9</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.Calculate_MCSPassLock"><span class="id" title="definition">Calculate_MCSPassLock</span></a>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">tmp</span>; <span class="id" title="tactic">fail</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.set2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intro</span> <span class="id" title="var">tmp</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">tmp</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">icond</span> <span class="id" title="var">Hcalc</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Caseeq</span> <span class="id" title="var">icond</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (<span class="id" title="var">irange</span> &amp; <span class="id" title="var">neq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.Calculate_MCSPassLock"><span class="id" title="definition">Calculate_MCSPassLock</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcalc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hcalc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">tmp</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">mlock</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a>(<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <span class="id" title="var">m0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">m0</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#mlock"><span class="id" title="variable">mlock</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxToPre"><span class="id" title="lemma">CalMCS_RelWaitAuxToPre</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Klast</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">cur_index</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxToPreCons"><span class="id" title="lemma">CalMCS_RelWaitAuxToPreCons</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Klast</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Klast"><span class="id" title="variable">Klast</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPreInv"><span class="id" title="lemma">CalMCS_RelWaitAuxPreInv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct0</span>; <span class="id" title="var">esplit</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Kpre"><span class="id" title="variable">Kpre</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. }      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tmp</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mcs&acute;</span>, <span class="id" title="var">tmp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">tmp&acute;</span>: <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> (<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <span class="id" title="var">m0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">m0</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">mcs&acute;</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp</span>; <span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">tmp</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">tmp_next</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">tmp_next</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index"><span class="id" title="variable">lock_index</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <span class="id" title="var">m0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">m0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#tmp_next"><span class="id" title="variable">tmp_next</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mcs&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <span class="id" title="var">lock_array</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>) <span class="id" title="var">lock_array</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">tmp_next</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tmp_next</span>, <span class="id" title="var">tmp_next_prop</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="var">esplit</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="definition">Int.eq</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">Int.one</span>, <span class="id" title="definition">Int.zero</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">esplit</span>; <span class="id" title="var">esplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_get_next_spec"><span class="id" title="definition">mcs_get_next_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ikern_remain"><span class="id" title="lemma">ikern_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ihost_remain"><span class="id" title="lemma">ihost_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.iikern"><span class="id" title="variable">iikern</span></a>, <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.iihost"><span class="id" title="variable">iihost</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">tmp&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= (<span class="id" title="definition">Int.repr</span> <span class="id" title="var">tmp_next</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="var">tmp_next</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <span class="id" title="var">tmp_next</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#5dda7752d319ac2ccefb830f12787952"><span class="id" title="notation">≤</span></a> <span class="id" title="var">tmp_next</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#5dda7752d319ac2ccefb830f12787952"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre_satisfies_hinv"><span class="id" title="lemma">CalMCS_RelWaitAuxPre_satisfies_hinv</span></a> <span class="id" title="var">cur_index</span> <span class="id" title="var">m0</span> <span class="id" title="var">Hdestruct</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">hinv&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">hinv&acute;</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_pool_mcs"><span class="id" title="definition">valid_multi_oracle_pool_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_mcs"><span class="id" title="definition">valid_multi_oracle_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index_range"><span class="id" title="variable">lock_index_range</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">lock_index_range&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">q</span>:= <span class="id" title="var">m0</span>)  <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span> <span class="id" title="keyword">with</span>  (<span class="id" title="var">i0</span> := (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.adt"><span class="id" title="variable">adt</span></a>)) <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mcs&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">tmp&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">lock_index_range&acute;</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct3</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">CPU_ID_range</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>; <span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; [ | <span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.clib.RealParams.html#max_unsigned_val"><span class="id" title="lemma">max_unsigned_val</span></a>; <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">omega</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">mcs&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_next_prop</span>; <span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">tmp</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.clib.RealParams.html#max_unsigned_val"><span class="id" title="lemma">max_unsigned_val</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.lock_range_val"><span class="id" title="lemma">lock_range_val</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range</span>; <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#239a40728d107295b3cb2c790f57f9e9"><span class="id" title="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> <span class="id" title="var">cur_index</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#239a40728d107295b3cb2c790f57f9e9"><span class="id" title="notation">-</span></a> 1).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="var">esplit</span>; <span class="id" title="var">esplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">instantiate</span> (1:= (<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">cur_index</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">assert</span> (<span class="id" title="var">icase</span>: (<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">cur_index</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">cur_index</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Caseeq</span> <span class="id" title="var">icase</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">right</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>((<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Klastpre"><span class="id" title="variable">Klastpre</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.l1"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">mcs&acute;</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPreInv"><span class="id" title="lemma">CalMCS_RelWaitAuxPreInv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Kpre"><span class="id" title="variable">Kpre</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxEq"><span class="id" title="lemma">CalMCS_RelWaitAuxEq</span></a> <span class="id" title="keyword">with</span> (1:= <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Klast"><span class="id" title="variable">Klast</span></a>) (2:= <span class="id" title="var">H2</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#a37ed901e2f16b7d06c569763fc8034f"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">cur_index</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#a37ed901e2f16b7d06c569763fc8034f"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Kpre"><span class="id" title="variable">Kpre</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxToPre"><span class="id" title="lemma">CalMCS_RelWaitAuxToPre</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Klast</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">cur_index</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxToPreCons"><span class="id" title="lemma">CalMCS_RelWaitAuxToPreCons</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Klast</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Klast"><span class="id" title="variable">Klast</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">mcs&acute;</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPreInv"><span class="id" title="lemma">CalMCS_RelWaitAuxPreInv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Kpre"><span class="id" title="variable">Kpre</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_next_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPreNeq"><span class="id" title="lemma">CalMCS_RelWaitAuxPreNeq</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;×  <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.Calculate_MCSPassLock"><span class="id" title="definition">Calculate_MCSPassLock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxToPre"><span class="id" title="lemma">CalMCS_RelWaitAuxToPre</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Klast</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <span class="id" title="var">cur_index</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxToPreCons"><span class="id" title="lemma">CalMCS_RelWaitAuxToPreCons</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Klast</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Klast"><span class="id" title="variable">Klast</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPreInv"><span class="id" title="lemma">CalMCS_RelWaitAuxPreInv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Kpre"><span class="id" title="variable">Kpre</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.Znat.html#Nat2Z.inj_succ"><span class="id" title="lemma">Nat2Z.inj_succ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.succ"><span class="id" title="definition">Z.succ</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.set2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">ci_val</span> &amp; <span class="id" title="var">cn_val</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="var">new_next</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.Calculate_MCSPassLock"><span class="id" title="definition">Calculate_MCSPassLock</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcalc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hcalc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hc_next</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hc_next</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxPre_satisfies_hinv"><span class="id" title="lemma">CalMCS_RelWaitAuxPre_satisfies_hinv</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <span class="id" title="var">m0</span> <span class="id" title="var">Hdestruct</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">hinv&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">hinv&acute;</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_pool_mcs"><span class="id" title="definition">valid_multi_oracle_pool_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_mcs"><span class="id" title="definition">valid_multi_oracle_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.lock_index_range"><span class="id" title="variable">lock_index_range</span></a>; <span class="id" title="tactic">intro</span> <span class="id" title="var">lock_index_range&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">q</span>:= <span class="id" title="var">m0</span>)  <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct0</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">lock_index_range&acute;</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct3</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">cn_val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="var">esplit</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pass_lock_loop_body_Q"><span class="id" title="definition">pass_lock_loop_body_Q</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">new_d</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<a class="idref" href="mcertikos.clib.CDataTypes.html#S"><span class="id" title="abbreviation">S</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.cal_time"><span class="id" title="variable">cal_time</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#pred"><span class="id" title="definition">pred</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.cal_time"><span class="id" title="variable">cal_time</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">)</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.Calculate_MCSPassLock"><span class="id" title="definition">Calculate_MCSPassLock</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#9b077c369e19739ef880736ba34623ff"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.K"><span class="id" title="variable">K</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Klastpre"><span class="id" title="variable">Klastpre</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hcalc</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof.Klastpre"><span class="id" title="variable">Klastpre</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.mcs_pass_lock_loop_proof"><span class="id" title="section">mcs_pass_lock_loop_proof</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.mcs_pass_lock_body_correct"><span class="id" title="lemma">mcs_pass_lock_body_correct</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">m</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">env</span> <span class="id" title="var">le</span> <span class="id" title="var">index</span> <span class="id" title="var">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#env"><span class="id" title="variable">env</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">PTree.empty</span> <span class="id" title="var">_</span> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">PTree.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_lock_id"><span class="id" title="definition">_lock_id</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#index"><span class="id" title="variable">index</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">PTree.get</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_offset"><span class="id" title="definition">_offset</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">Vint</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#ofs"><span class="id" title="variable">ofs</span></a>) →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_pass_lock_spec"><span class="id" title="definition">mcs_pass_lock_spec</span></a> (<span class="id" title="definition">Int.unsigned</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#index"><span class="id" title="variable">index</span></a>) (<span class="id" title="definition">Int.unsigned</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#ofs"><span class="id" title="variable">ofs</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">le&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.clib.CDataTypes.html#exec_stmt"><span class="id" title="definition">exec_stmt</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY.ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#env"><span class="id" title="variable">env</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le"><span class="id" title="variable">le</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d"><span class="id" title="variable">d</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>: <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.mem"><span class="id" title="variable">mem</span></a>) <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#f_mcs_pass_lock_body"><span class="id" title="definition">f_mcs_pass_lock_body</span></a> <span class="id" title="definition">E0</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#le&acute;"><span class="id" title="variable">le&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<span class="id" title="constructor">Out_return</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.clib.RealParams.html#max_unsigned_val"><span class="id" title="lemma">max_unsigned_val</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">muval</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.lock_AT_start_val"><span class="id" title="lemma">lock_AT_start_val</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">lat_val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ID_AT_range_val"><span class="id" title="lemma">ID_AT_range_val</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">iar_val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.lock_TCB_start_val"><span class="id" title="lemma">lock_TCB_start_val</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">lts_val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ID_TCB_range_val"><span class="id" title="lemma">ID_TCB_range_val</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">itr_val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.num_chan_val"><span class="id" title="lemma">num_chan_val</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">nc_val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.lock_TCB_range_val"><span class="id" title="lemma">lock_TCB_range_val</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">ltr_val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.lock_SC_start_val"><span class="id" title="lemma">lock_SC_start_val</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">lss_val</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.lock_range_val"><span class="id" title="lemma">lock_range_val</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">lr_val</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.t_struct_mcs_lock_size"><span class="id" title="lemma">t_struct_mcs_lock_size</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">t_st_ml_size</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.t_struct_mcs_node_size"><span class="id" title="lemma">t_struct_mcs_node_size</span></a>; <span class="id" title="tactic">intros</span> <span class="id" title="var">t_st_mn_size</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#f_mcs_pass_lock_body"><span class="id" title="definition">f_mcs_pass_lock_body</span></a>; <span class="id" title="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_pass_lock_spec"><span class="id" title="definition">mcs_pass_lock_spec</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">H2a</span> &amp; <span class="id" title="var">H2b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#index2Z"><span class="id" title="definition">index2Z</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">index</span>) (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">ofs</span>)) <span class="id" title="keyword">as</span> <span class="id" title="var">lock_index</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lock_index</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">fail</span>).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.add"><span class="id" title="definition">Z.add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.mul"><span class="id" title="definition">Z.mul</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lock_index_range</span>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="var">z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_range"><span class="id" title="definition">lock_range</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">clearAllExceptTwo</span> <span class="id" title="var">Heqlock_index</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.lock_range_val"><span class="id" title="lemma">lock_range_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lock_id_val</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">index</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_AT"><span class="id" title="abbreviation">ID_AT</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">index</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_TCB"><span class="id" title="abbreviation">ID_TCB</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">index</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_SC"><span class="id" title="abbreviation">ID_SC</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#index2Z"><span class="id" title="definition">index2Z</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heqlock_index</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#index_range"><span class="id" title="definition">index_range</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">index</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqlock_index</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqlock_index</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">tauto</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">inversion</span> <span class="id" title="var">Heqlock_index</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lock_id_val</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">lock_id_val</span> | [<span class="id" title="var">lock_id_val</span> | <span class="id" title="var">lock_id_val</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">lock_id_val</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heqlock_index</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#index2Z"><span class="id" title="definition">index2Z</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Heqlock_index</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="var">subdestruct</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Heqlock_index</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.lock_range_val"><span class="id" title="lemma">lock_range_val</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_AT_range"><span class="id" title="definition">ID_AT_range</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_TCB_range"><span class="id" title="definition">ID_TCB_range</span></a>, <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_AT_range"><span class="id" title="definition">ID_AT_range</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#lock_TCB_range"><span class="id" title="definition">lock_TCB_range</span></a>, <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_SC_range"><span class="id" title="definition">ID_SC_range</span></a>, <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_AT_range"><span class="id" title="definition">ID_AT_range</span></a>, <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#ID_TCB_range"><span class="id" title="definition">ID_TCB_range</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Heqlock_index</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">cid_range</span>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">inv</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">omega</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Transparent</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.add"><span class="id" title="definition">Z.add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.mul"><span class="id" title="definition">Z.mul</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCS_RelWait"><span class="id" title="definition">CalMCS_RelWait</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">esplit</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_lock_get_index_spec"><span class="id" title="definition">mcs_lock_get_index_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="definition">Int.repr</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>, <span class="id" title="var">Heqlock_index</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjMultiprocessor.html#get_CPU_ID_spec"><span class="id" title="definition">get_CPU_ID_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="definition">Int.repr</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_cas_tail_spec"><span class="id" title="definition">mcs_cas_tail_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">zeq_true</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="definition">Int.one</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.clib.CLemmas.html#repr_one"><span class="id" title="lemma">repr_one</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(1:= <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_cas_res"><span class="id" title="definition">_cas_res</span></a> (<span class="id" title="constructor">Vint</span> <span class="id" title="definition">Int.one</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_cpuid"><span class="id" title="definition">_cpuid</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_lock_index"><span class="id" title="definition">_lock_index</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <span class="id" title="var">z</span>)) <span class="id" title="var">le</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">CalMCS_RelWait_Prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWait_implies_CalMCS_RelWaitAux"><span class="id" title="lemma">CalMCS_RelWait_implies_CalMCS_RelWaitAux</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdestruct3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l&acute;&acute;</span>, (<span class="id" title="var">Hdestruct3</span>, (<span class="id" title="var">Hdestruct9</span>, <span class="id" title="var">get_current_next_property</span>))).<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalPassLockTime"><span class="id" title="definition">CalPassLockTime</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalPassLockLoopTime"><span class="id" title="definition">CalPassLockLoopTime</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#19ab5cfd7e4f60fa14f22b576013bd96"><span class="id" title="notation">&gt;</span></a> 0)%<span class="id" title="var">nat</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> ((<a class="idref" href="mcertikos.objects.CalMCSLock.html#CalPassLockLoopTime"><span class="id" title="definition">CalPassLockLoopTime</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> 0)%<span class="id" title="var">nat</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalPassLockLoopTime"><span class="id" title="definition">CalPassLockLoopTime</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.Natural.Peano.NPeano.html#Nat.succ_pred_pos"><span class="id" title="lemma">NPeano.Nat.succ_pred_pos</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n</span>:= <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalPassLockLoopTime"><span class="id" title="definition">CalPassLockLoopTime</span></a>) <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Transparent</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAux"><span class="id" title="definition">CalMCS_RelWaitAux</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> ×.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Transparent</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalMCSLock"><span class="id" title="definition">CalMCSLock</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">Hdestruct3</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">HcalcWait</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">HcalcWait</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">Hcalctmp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxToPre"><span class="id" title="lemma">CalMCS_RelWaitAuxToPre</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HcalcWait</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.CalMCS_RelWaitAuxStops"><span class="id" title="lemma">CalMCS_RelWaitAuxStops</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct3</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdestruct3</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">K</span> [<span class="id" title="var">Krange</span> [<span class="id" title="var">KPre</span> [<span class="id" title="var">KPost</span> <span class="id" title="var">KPostPre</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Kgt0</span>: (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#989c98e7ddd65d5bf37c334ff2076de8"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">K</span>)%<span class="id" title="var">nat</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">KPost</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Krangelt</span>: (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#432e31800fc09abd260feb634dbbd1af"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">K</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Peano.html#432e31800fc09abd260feb634dbbd1af"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalPassLockLoopTime"><span class="id" title="definition">CalPassLockLoopTime</span></a>)%<span class="id" title="var">nat</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">remember</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">current_next</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Heqcurrent_next</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">gc_next</span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a> <span class="id" title="var">d</span> <span class="id" title="var">z</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">d</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)  (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <span class="id" title="var">d</span>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next"><span class="id" title="definition">get_current_next</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">f_equal</span>; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pass_lock_loop_correct_aux"><span class="id" title="lemma">pass_lock_loop_correct_aux</span></a> <span class="id" title="var">m</span> <span class="id" title="var">_</span> <span class="id" title="var">K</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalPassLockLoopTime"><span class="id" title="definition">CalPassLockLoopTime</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">z</span> <span class="id" title="var">current_next</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H2b</span> <span class="id" title="var">H2a</span> <span class="id" title="var">H3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">cid_range</span> <span class="id" title="var">lock_index_range</span> <span class="id" title="var">Krangelt</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Hdestruct</span> <span class="id" title="var">Heqcurrent_next</span> <span class="id" title="var">Hcalctmp</span> <span class="id" title="var">KPre</span> <span class="id" title="var">KPost</span> <span class="id" title="var">KPostPre</span> <span class="id" title="var">gc_next</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">LP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.clib.LoopProof.html#LoopProofSimpleWhile.termination"><span class="id" title="lemma">LoopProofSimpleWhile.termination</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (<span class="id" title="var">condition</span> := <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#f_mcs_pass_lock_while_condition"><span class="id" title="definition">f_mcs_pass_lock_while_condition</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">body</span> := <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#f_mcs_pass_lock_while_body"><span class="id" title="definition">f_mcs_pass_lock_while_body</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> := <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pass_lock_loop_body_P"><span class="id" title="definition">pass_lock_loop_body_P</span></a> <span class="id" title="var">m</span> <span class="id" title="var">d</span> <span class="id" title="var">l</span> <span class="id" title="var">z</span> <span class="id" title="var">current_next</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Q</span> := <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pass_lock_loop_body_Q"><span class="id" title="definition">pass_lock_loop_body_Q</span></a> <span class="id" title="var">m</span> <span class="id" title="var">d</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#CalPassLockLoopTime"><span class="id" title="definition">CalPassLockLoopTime</span></a> <span class="id" title="var">l</span> <span class="id" title="var">z</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">le0</span> :=  (<span class="id" title="definition">PTree.set</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_current_next"><span class="id" title="definition">_current_next</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_null_var"><span class="id" title="definition">_null_var</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_cas_res"><span class="id" title="definition">_cas_res</span></a> (<span class="id" title="constructor">Vint</span> <span class="id" title="definition">Int.zero</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_cpuid"><span class="id" title="definition">_cpuid</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_lock_index"><span class="id" title="definition">_lock_index</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <span class="id" title="var">z</span>)) <span class="id" title="var">le</span>))))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">m0</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">d</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <span class="id" title="var">z</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <span class="id" title="var">d</span>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">))</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span> <span class="id" title="var">LP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">LP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">while_le&acute;</span>, (<span class="id" title="var">while_m&acute;</span>, (<span class="id" title="var">LP1</span> &amp; <span class="id" title="var">LP2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pass_lock_loop_body_Q"><span class="id" title="definition">pass_lock_loop_body_Q</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">LP2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">LP2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">while_d&acute;</span>, (<span class="id" title="var">while_new&acute;</span>, <span class="id" title="var">LP2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_lock_get_index_spec"><span class="id" title="definition">mcs_lock_get_index_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="definition">Int.repr</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>, <span class="id" title="var">Heqlock_index</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjMultiprocessor.html#get_CPU_ID_spec"><span class="id" title="definition">get_CPU_ID_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="definition">Int.repr</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_cas_tail_spec"><span class="id" title="definition">mcs_cas_tail_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="definition">Int.zero</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.clib.CLemmas.html#repr_zero"><span class="id" title="lemma">repr_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="definition">E0</span> <span class="id" title="keyword">with</span> (<span class="id" title="definition">E0</span> <span class="id" title="notation">**</span> <span class="id" title="definition">E0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="definition">E0</span> <span class="id" title="keyword">with</span> (<span class="id" title="definition">E0</span> <span class="id" title="notation">**</span> <span class="id" title="definition">E0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_get_next_spec"><span class="id" title="definition">mcs_get_next_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ikern_remain"><span class="id" title="lemma">ikern_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ihost_remain"><span class="id" title="lemma">ihost_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.set2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.multi_log_double_update"><span class="id" title="lemma">multi_log_double_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct5</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct3</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; [ | <span class="id" title="tactic">omega</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> <span class="id" title="definition">E0</span> <span class="id" title="keyword">with</span> (<span class="id" title="definition">E0</span> <span class="id" title="notation">**</span> <span class="id" title="definition">E0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">set_opttemp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">idtac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">LP2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">LP21</span> &amp; <span class="id" title="var">LP22</span> &amp; <span class="id" title="var">LP23</span> &amp; <span class="id" title="var">LP24</span> &amp; <span class="id" title="var">LP25</span> &amp; <span class="id" title="var">LP26</span> &amp; <span class="id" title="var">LP27</span> &amp; <span class="id" title="var">LP28</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="var">while_le&acute;</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LP28</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_set_busy_spec"><span class="id" title="definition">mcs_set_busy_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.Calculate_MCSPassLock"><span class="id" title="definition">Calculate_MCSPassLock</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">LP27</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">HcalcWait</span> <span class="id" title="keyword">in</span> <span class="id" title="var">LP27</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LP27</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ikern_remain"><span class="id" title="lemma">ikern_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ihost_remain"><span class="id" title="lemma">ihost_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.multi_log_double_update"><span class="id" title="lemma">multi_log_double_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.set2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct4</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="var">z0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntro.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> (<span class="id" title="var">d</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">multi_log</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#MultiDef"><span class="id" title="constructor">MultiDef</span></a> <span class="id" title="var">l&acute;&acute;</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_log"><span class="id" title="projection">multi_log</span></a> <span class="id" title="var">d</span>)<a class="idref" href="mcertikos.objects.AbstractDataType.html#ba4dfa85527274aa394ee465ead5abd1"><span class="id" title="notation">}</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_CalMCS_RelWaitAuxPre_satisfies_hinv"><span class="id" title="lemma">loop_CalMCS_RelWaitAuxPre_satisfies_hinv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>, <span class="id" title="var">valid_curid</span>, <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>, <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_pool_mcs"><span class="id" title="definition">valid_multi_oracle_pool_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_mcs"><span class="id" title="definition">valid_multi_oracle_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="var">l&acute;&acute;</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">i0</span> := <a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">Hdestruct1</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">in</span> <span class="id" title="var">prop</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct6</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next_prop"><span class="id" title="definition">get_current_next_prop</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">get_current_next_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next_value"><span class="id" title="definition">get_current_next_value</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">get_current_next_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct6</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">clearAllExceptTwo</span> <span class="id" title="var">n0</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.pass_lock_loop_body_P"><span class="id" title="definition">pass_lock_loop_body_P</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Heqcurrent_next</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H4</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct4</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplit</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_lock_get_index_spec"><span class="id" title="definition">mcs_lock_get_index_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="definition">Int.repr</span> <span class="id" title="var">z</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>, <span class="id" title="var">Heqlock_index</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjMultiprocessor.html#get_CPU_ID_spec"><span class="id" title="definition">get_CPU_ID_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="definition">Int.repr</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_cas_tail_spec"><span class="id" title="definition">mcs_cas_tail_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="definition">Int.zero</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.clib.CLemmas.html#repr_zero"><span class="id" title="lemma">repr_zero</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">Int.unsigned_repr</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="definition">E0</span> <span class="id" title="keyword">with</span> (<span class="id" title="definition">E0</span> <span class="id" title="notation">**</span> <span class="id" title="definition">E0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">change</span> <span class="id" title="definition">E0</span> <span class="id" title="keyword">with</span> (<span class="id" title="definition">E0</span> <span class="id" title="notation">**</span> <span class="id" title="definition">E0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_get_next_spec"><span class="id" title="definition">mcs_get_next_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ikern_remain"><span class="id" title="lemma">ikern_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ihost_remain"><span class="id" title="lemma">ihost_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.set2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.multi_log_double_update"><span class="id" title="lemma">multi_log_double_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct5</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct3</span>; <span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= <span class="id" title="definition">Int.repr</span> <span class="id" title="var">z0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="var">z0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">remember</span> (<span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">pre_log</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">Heqpre_log</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">tmp_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_pre_log_term_satisfies_hinv"><span class="id" title="lemma">loop_pre_log_term_satisfies_hinv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_prop</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_prop</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct10</span>; <span class="id" title="tactic">eauto</span>; [ | <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdestruct10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct7</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">change</span> <span class="id" title="definition">E0</span> <span class="id" title="keyword">with</span> (<span class="id" title="definition">E0</span> <span class="id" title="notation">**</span> <span class="id" title="definition">E0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="definition">set_opttemp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="var">z0</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">remember</span> (<span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">pre_log</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">Heqpre_log</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">tmp_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_pre_log_term_satisfies_hinv"><span class="id" title="lemma">loop_pre_log_term_satisfies_hinv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_prop</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_prop</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct1</span>; <span class="id" title="tactic">eauto</span>; [ | <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct7</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">n0</span>; <span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1:= (<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_current_next"><span class="id" title="definition">_current_next</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <span class="id" title="var">z0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_null_var"><span class="id" title="definition">_null_var</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_cas_res"><span class="id" title="definition">_cas_res</span></a> (<span class="id" title="constructor">Vint</span> <span class="id" title="definition">Int.zero</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_cpuid"><span class="id" title="definition">_cpuid</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_lock_index"><span class="id" title="definition">_lock_index</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <span class="id" title="var">z</span>)) <span class="id" title="var">le</span>)))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#f_mcs_pass_lock_while_condition"><span class="id" title="definition">f_mcs_pass_lock_while_condition</span></a>, <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#f_mcs_pass_lock_while_body"><span class="id" title="definition">f_mcs_pass_lock_while_body</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2:= (<span class="id" title="definition">PTree.set</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_current_next"><span class="id" title="definition">_current_next</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <span class="id" title="var">z0</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_null_var"><span class="id" title="definition">_null_var</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_cas_res"><span class="id" title="definition">_cas_res</span></a> (<span class="id" title="constructor">Vint</span> <span class="id" title="definition">Int.zero</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_cpuid"><span class="id" title="definition">_cpuid</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">PTree.set</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#_lock_index"><span class="id" title="definition">_lock_index</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <span class="id" title="var">z</span>)) <span class="id" title="var">le</span>)))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="constructor">ClightBigstep.exec_Sloop_stop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="constructor">exec_Sseq_2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span> <span class="id" title="var">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">contra</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">econstructor</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">vcgen</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.ObjMCSLock.html#mcs_set_busy_spec"><span class="id" title="definition">mcs_set_busy_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ikern_remain"><span class="id" title="lemma">ikern_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.ihost_remain"><span class="id" title="lemma">ihost_remain</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2a</span>, <span class="id" title="var">H2b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.multi_log_double_update"><span class="id" title="lemma">multi_log_double_update</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.set2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct5</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="var">z1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">z1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">set</span> (<span class="id" title="var">pre_log</span> :=  (<span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">pre_log</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CalMCS_RelWait_Prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">pre_log</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">fold</span> <span class="id" title="var">pre_log</span> <span class="id" title="keyword">in</span> <span class="id" title="var">get_current_next_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next_prop"><span class="id" title="definition">get_current_next_prop</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">get_current_next_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.get_current_next_value"><span class="id" title="definition">get_current_next_value</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">get_current_next_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct1</span> <span class="id" title="keyword">in</span> <span class="id" title="var">get_current_next_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct6</span> <span class="id" title="keyword">in</span> <span class="id" title="var">get_current_next_property</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#5dda7752d319ac2ccefb830f12787952"><span class="id" title="notation">≤</span></a> <span class="id" title="var">z1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#5dda7752d319ac2ccefb830f12787952"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">remember</span> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#GET_NEXT"><span class="id" title="constructor">GET_NEXT</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TEVENT"><span class="id" title="constructor">TEVENT</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#TTICKET"><span class="id" title="constructor">TTICKET</span></a> (<a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#CAS_TAIL"><span class="id" title="constructor">CAS_TAIL</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#multi_oracle"><span class="id" title="projection">multi_oracle</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <span class="id" title="var">l</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#5d35a99a6abff1d64bf70538feb70e36"><span class="id" title="notation">++</span></a> <span class="id" title="var">l</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">pre_log</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">Heqpre_log</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">tmp_prop</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.loop_pre_log_satisfies_hinv"><span class="id" title="lemma">loop_pre_log_satisfies_hinv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">tmp_prop</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">tmp_prop</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log_pool"><span class="id" title="definition">valid_MCS_log_pool</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> <span class="id" title="var">lock_index_range</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">lock_index_range&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_log_pool_mcs_inv</span> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range</span>; <span class="id" title="tactic">eauto</span>; [ | <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">reflexivity</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_pool_mcs"><span class="id" title="definition">valid_multi_oracle_pool_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_multi_oracle_mcs"><span class="id" title="definition">valid_multi_oracle_mcs</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">valid_multi_oracle_pool_mcs_inv</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">i0</span> := (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)) <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#valid_MCS_log"><span class="id" title="definition">valid_MCS_log</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#MCSCorrect_range"><span class="id" title="definition">MCSCorrect_range</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">lock_index_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">lock_index_range</span> <span class="id" title="keyword">in</span> <span class="id" title="var">Hdestruct1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hdestruct1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H7</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct6</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">CPU_ID_range</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">CPU_ID_range</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.CalMCSLock.html#NULL"><span class="id" title="definition">NULL</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt_true"><span class="id" title="lemma">zle_lt_true</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.MCSPASSLOCKBODY"><span class="id" title="section">MCSPASSLOCKBODY</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Theorem</span> <a name="MMCSLOCKABSINTROCODEMCSPASSLOCK.mcs_pass_lock_code_correct"><span class="id" title="lemma">mcs_pass_lock_code_correct</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="record">spec_le</span> (<a class="idref" href="mcertikos.layerlib.GlobIdent.html#pass_lock"><span class="id" title="definition">pass_lock</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.mcslock.MCSLockOpGenSpec.html#mcs_pass_lock_spec_low"><span class="id" title="definition">mcs_pass_lock_spec_low</span></a>) (<span class="id" title="notation">〚</span><a class="idref" href="mcertikos.layerlib.GlobIdent.html#pass_lock"><span class="id" title="definition">pass_lock</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#f_mcs_pass_lock"><span class="id" title="definition">f_mcs_pass_lock</span></a> <span class="id" title="notation">〛</span><a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.L"><span class="id" title="variable">L</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">L&acute;</span> := <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK.L"><span class="id" title="variable">L</span></a>) <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">L</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fbigstep_pre</span> <span class="id" title="var">L&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">fbigstep</span> (<a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.mcs_pass_lock_body_correct"><span class="id" title="lemma">mcs_pass_lock_body_correct</span></a> <span class="id" title="var">s</span> (<span class="id" title="definition">Genv.globalenv</span> <span class="id" title="var">p</span>) <span class="id" title="var">makeglobalenv</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">b0</span> <span class="id" title="var">Hb0fs</span> <span class="id" title="var">Hb0fp</span> <span class="id" title="var">b1</span> <span class="id" title="var">Hb1fs</span> <span class="id" title="var">Hb1fp</span> <span class="id" title="var">b2</span> <span class="id" title="var">Hb2fs</span> <span class="id" title="var">Hb2fp</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">b3</span> <span class="id" title="var">Hb3fs</span> <span class="id" title="var">Hb3fp</span> <span class="id" title="var">b4</span> <span class="id" title="var">Hb4fs</span> <span class="id" title="var">Hb4fp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">m&acute;0</span> <span class="id" title="var">labd</span> <span class="id" title="var">labd&acute;</span> (<span class="id" title="definition">PTree.empty</span> <span class="id" title="var">_</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.clib.CDataTypes.html#bind_parameter_temps&acute;"><span class="id" title="definition">bind_parameter_temps&acute;</span></a> (<span class="id" title="projection">fn_params</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#f_mcs_pass_lock"><span class="id" title="definition">f_mcs_pass_lock</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="constructor">Vint</span> <span class="id" title="var">i</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><span class="id" title="constructor">Vint</span> <span class="id" title="var">ofs</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">create_undef_temps</span> (<span class="id" title="projection">fn_temps</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCSource.html#f_mcs_pass_lock"><span class="id" title="definition">f_mcs_pass_lock</span></a>)))) <span class="id" title="var">muval</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives.MCSPASSLOCK"><span class="id" title="section">MCSPASSLOCK</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK.WithPrimitives"><span class="id" title="section">WithPrimitives</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.mcslock.MMCSLockAbsIntroCodeMCSPassLock.html#MMCSLOCKABSINTROCODEMCSPASSLOCK"><span class="id" title="module">MMCSLOCKABSINTROCODEMCSPASSLOCK</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>