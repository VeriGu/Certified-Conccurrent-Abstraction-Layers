<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT</h1>

<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coqlib</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Maps</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#"><span class="id" title="library">AuxStateDataType</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.flatmem.FlatMemory.html#"><span class="id" title="library">FlatMemory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Integers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Values</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.ASTExtra.html#"><span class="id" title="library">ASTExtra</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.Constant.html#"><span class="id" title="library">Constant</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.Constant.html#"><span class="id" title="library">Constant</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#"><span class="id" title="library">GlobIdent</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compat.CompatGenSem</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compat.CompatLayers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.CommonTactic.html#"><span class="id" title="library">CommonTactic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.RefinementTactic.html#"><span class="id" title="library">RefinementTactic</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.RealParams.html#"><span class="id" title="library">RealParams</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealPTPool.html#"><span class="id" title="library">CalRealPTPool</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealPT.html#"><span class="id" title="library">CalRealPT</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealIDPDE.html#"><span class="id" title="library">CalRealIDPDE</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealInitPTE.html#"><span class="id" title="library">CalRealInitPTE</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealSMSPool.html#"><span class="id" title="library">CalRealSMSPool</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealProcModule.html#"><span class="id" title="library">CalRealProcModule</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealIntelModule.html#"><span class="id" title="library">CalRealIntelModule</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptDriver.html#"><span class="id" title="library">ObjInterruptDriver</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.dev.ObjConsole.html#"><span class="id" title="library">ObjConsole</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.dev.OracleInstances.html#"><span class="id" title="library">OracleInstances</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.dev.ObjSerialDriver.html#"><span class="id" title="library">ObjSerialDriver</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.ObjVMMDef.html#"><span class="id" title="library">ObjVMMDef</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.CalTicketLock.html#"><span class="id" title="library">CalTicketLock</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.DeviceStateDataType.html#"><span class="id" title="library">DeviceStateDataType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#"><span class="id" title="library">AbstractDataType</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#"><span class="id" title="library">AuxSingleAbstractDataType</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBFlatMem.html#"><span class="id" title="library">ObjPHBFlatMem</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.conlib.conmtlib.AlgebraicMem.html#"><span class="id" title="library">AlgebraicMem</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracleProp.html#"><span class="id" title="library">GlobalOracleProp</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.conlib.conmtlib.SingleConfiguration.html#"><span class="id" title="library">SingleConfiguration</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.Z64Lemma.html#"><span class="id" title="library">Z64Lemma</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.ObjEPT.html#"><span class="id" title="library">ObjEPT</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#"><span class="id" title="library">ObjVMCS</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#"><span class="id" title="library">ObjVMX</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.BigLogThreadConfigFunction.html#"><span class="id" title="library">BigLogThreadConfigFunction</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="PHBSPECSIntelVirt"><span class="id" title="section">PHBSPECSIntelVirt</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">real_param_ops</span> : <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#RealParamsOps"><span class="id" title="class">RealParamsOps</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">multi_oracle_prop</span>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracleProp.html#MultiOracleProp"><span class="id" title="class">MultiOracleProp</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">threads_conf_ops</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#ThreadsConfigurationOps"><span class="id" title="class">ThreadsConfigurationOps</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="PHBSPECSIntelVirt.SINGLE_VIRT_SPECS"><span class="id" title="section">SINGLE_VIRT_SPECS</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_rdmsr_spec</span> (<span class="id" title="var">r</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <span class="id" title="inductive">Z64</span> :=  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">VZ64</span> 0)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_wrmsr_spec</span> (<span class="id" title="var">r</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">v</span>: <span class="id" title="inductive">Z64</span>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) :=  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Notation</span> <a name="NOT_PROCBASED_INT_WINDOW_EXITING"><span class="id" title="abbreviation">NOT_PROCBASED_INT_WINDOW_EXITING</span></a> := 4294967291 % <span class="id" title="var">Z</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_set_intercept_intwin_spec</span> (<span class="id" title="var">enable</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_PRI_PROC_BASED_CTLS"><span class="id" title="abbreviation">C_VMCS_PRI_PROC_BASED_CTLS</span></a> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">ctrls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#enable"><span class="id" title="variable">enable</span></a> 1 <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.lor"><span class="id" title="definition">Z.lor</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">ctrls</span>) <a class="idref" href="mcertikos.layerlib.Constant.html#PROCBASED_INT_WINDOW_EXITING"><span class="id" title="abbreviation">PROCBASED_INT_WINDOW_EXITING</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">d&acute;</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_PRI_PROC_BASED_CTLS"><span class="id" title="abbreviation">C_VMCS_PRI_PROC_BASED_CTLS</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#res"><span class="id" title="variable">res</span></a>)) <span class="id" title="var">d</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">pv_vmcs</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">)}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">res</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.land"><span class="id" title="definition">Z.land</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">ctrls</span>) <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#NOT_PROCBASED_INT_WINDOW_EXITING"><span class="id" title="abbreviation">NOT_PROCBASED_INT_WINDOW_EXITING</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">d&acute;</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_PRI_PROC_BASED_CTLS"><span class="id" title="abbreviation">C_VMCS_PRI_PROC_BASED_CTLS</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#res"><span class="id" title="variable">res</span></a>)) <span class="id" title="var">d</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">pv_vmcs</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">)}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_set_desc1_spec</span> (<span class="id" title="var">seg</span> <span class="id" title="var">sel</span> <span class="id" title="var">base</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc1_aux"><span class="id" title="definition">vmx_set_desc1_aux</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#seg"><span class="id" title="variable">seg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sel"><span class="id" title="variable">sel</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#base"><span class="id" title="variable">base</span></a> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d&acute;</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">pv_vmcs</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d&acute;</span><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">)}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_set_desc2_spec</span> (<span class="id" title="var">seg</span> <span class="id" title="var">lim</span> <span class="id" title="var">ar</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc2_aux"><span class="id" title="definition">vmx_set_desc2_aux</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#seg"><span class="id" title="variable">seg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#lim"><span class="id" title="variable">lim</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#ar"><span class="id" title="variable">ar</span></a> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">d&acute;</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">pv_vmcs</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d&acute;</span><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">)}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_inject_event_spec</span> (<span class="id" title="var">type</span> <span class="id" title="var">vector</span> <span class="id" title="var">errcode</span> <span class="id" title="var">ev</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_ENTRY_INTR_INFO"><span class="id" title="abbreviation">C_VMCS_ENTRY_INTR_INFO</span></a> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">intr_info</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">i</span> := <span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">intr_info</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">is_invalid</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.land"><span class="id" title="definition">Z.land</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#VMCS_INTERRUPTION_INFO_VALID"><span class="id" title="abbreviation">VMCS_INTERRUPTION_INFO_VALID</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#is_invalid"><span class="id" title="variable">is_invalid</span></a> 0 <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">i1</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.lor"><span class="id" title="definition">Z.lor</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#VMCS_INTERRUPTION_INFO_VALID"><span class="id" title="abbreviation">VMCS_INTERRUPTION_INFO_VALID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#type"><span class="id" title="variable">type</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">i2</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.lor"><span class="id" title="definition">Z.lor</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vector"><span class="id" title="variable">vector</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#ev"><span class="id" title="variable">ev</span></a> 1 <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">i3</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.lor"><span class="id" title="definition">Z.lor</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#i2"><span class="id" title="variable">i2</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#VMCS_INTERRUPTION_INFO_EV"><span class="id" title="abbreviation">VMCS_INTERRUPTION_INFO_EV</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">d1</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_ENTRY_INTR_INFO"><span class="id" title="abbreviation">C_VMCS_ENTRY_INTR_INFO</span></a>  (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#i3"><span class="id" title="variable">i3</span></a>)) <span class="id" title="var">d</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">d2</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_ENTRY_EXCEPTION_ERROR"><span class="id" title="abbreviation">C_VMCS_ENTRY_EXCEPTION_ERROR</span></a> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#errcode"><span class="id" title="variable">errcode</span></a>)) <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#d1"><span class="id" title="variable">d1</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">pv_vmcs</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#d2"><span class="id" title="variable">d2</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">)}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">d1</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_ENTRY_INTR_INFO"><span class="id" title="abbreviation">C_VMCS_ENTRY_INTR_INFO</span></a>  (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#i2"><span class="id" title="variable">i2</span></a>)) <span class="id" title="var">d</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">pv_vmcs</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#d1"><span class="id" title="variable">d1</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">)}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_set_tsc_offset_spec</span> (<span class="id" title="var">tsc_offset</span>: <span class="id" title="inductive">Z64</span>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">pv_vmcs</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> (<a class="idref" href="mcertikos.clib.CalRealIntelModule.html#write64_aux"><span class="id" title="definition">write64_aux</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_TSC_OFFSET"><span class="id" title="abbreviation">C_VMCS_TSC_OFFSET</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#tsc_offset"><span class="id" title="variable">tsc_offset</span></a> <span class="id" title="var">d</span>)<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">)}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_get_tsc_offset_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <span class="id" title="inductive">Z64</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_TSC_OFFSET"><span class="id" title="abbreviation">C_VMCS_TSC_OFFSET</span></a> <span class="id" title="var">d</span>, <span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_TSC_OFFSET"><span class="id" title="abbreviation">C_VMCS_TSC_OFFSET</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> 1) <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v1</span>, <span class="id" title="constructor">Vint</span> <span class="id" title="var">v2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="constructor">VZ64</span> (<a class="idref" href="mcertikos.layerlib.Z64Lemma.html#Z64ofwords"><span class="id" title="definition">Z64ofwords</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v2</span>) (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v1</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> , <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_get_exit_reason_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_EXIT_REASON"><span class="id" title="abbreviation">C_VMCS_EXIT_REASON</span></a> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">r</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.land"><span class="id" title="definition">Z.land</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">r</span>) <a class="idref" href="mcertikos.layerlib.Constant.html#EXIT_REASON_MASK"><span class="id" title="abbreviation">EXIT_REASON_MASK</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_get_exit_fault_addr_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_GUEST_PHYSICAL_ADDRESS"><span class="id" title="abbreviation">C_VMCS_GUEST_PHYSICAL_ADDRESS</span></a> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_get_exit_qualification_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_EXIT_QUALIFICATION&acute;"><span class="id" title="abbreviation">VMX_EXIT_QUALIFICATION&acute;</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>)) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_check_pending_event_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_ENTRY_INTR_INFO"><span class="id" title="abbreviation">C_VMCS_ENTRY_INTR_INFO</span></a> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">ctrls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.land"><span class="id" title="definition">Z.land</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">ctrls</span>) <a class="idref" href="mcertikos.layerlib.Constant.html#VMCS_INTERRUPTION_INFO_VALID"><span class="id" title="abbreviation">VMCS_INTERRUPTION_INFO_VALID</span></a>) 0 <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_check_int_shadow_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_GUEST_INTERRUPTIBILITY"><span class="id" title="abbreviation">C_VMCS_GUEST_INTERRUPTIBILITY</span></a> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">ctrls</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.land"><span class="id" title="definition">Z.land</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">ctrls</span>) <a class="idref" href="mcertikos.layerlib.Constant.html#VMCS_INTERRUPTIBILITY_STI_or_MOVSS_BLOCKING"><span class="id" title="abbreviation">VMCS_INTERRUPTIBILITY_STI_or_MOVSS_BLOCKING</span></a>) 0 <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0 <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_get_reg_spec</span> (<span class="id" title="var">reg</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#Z2reg_type"><span class="id" title="definition">Z2reg_type</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#reg"><span class="id" title="variable">reg</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="mcertikos.objects.ObjVMX.html#TVMX"><span class="id" title="constructor">TVMX</span></a> <span class="id" title="var">z</span>) ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="mcertikos.objects.ObjVMX.html#TVMCS"><span class="id" title="constructor">TVMCS</span></a> <span class="id" title="var">z</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <span class="id" title="var">z</span> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_set_reg_spec</span> (<span class="id" title="var">reg</span> <span class="id" title="var">v</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#Z2reg_type"><span class="id" title="definition">Z2reg_type</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#reg"><span class="id" title="variable">reg</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="mcertikos.objects.ObjVMX.html#TVMX"><span class="id" title="constructor">TVMX</span></a> <span class="id" title="var">z</span>) ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">pv_vmx</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">:</span></a> <span class="id" title="definition">ZMap.set</span> <span class="id" title="var">z</span> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#v"><span class="id" title="variable">v</span></a>)) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>)<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="mcertikos.objects.ObjVMX.html#TVMCS"><span class="id" title="constructor">TVMCS</span></a> <span class="id" title="var">z</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">pv_vmcs</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> (<span class="id" title="definition">ZMap.set</span> <span class="id" title="var">z</span> (<span class="id" title="constructor">Vint</span> (<span class="id" title="definition">Int.repr</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#v"><span class="id" title="variable">v</span></a>)) <span class="id" title="var">d</span>)<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_get_next_eip_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_G_RIP&acute;"><span class="id" title="abbreviation">VMX_G_RIP&acute;</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v1</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_EXIT_INSTRUCTION_LENGTH"><span class="id" title="abbreviation">C_VMCS_EXIT_INSTRUCTION_LENGTH</span></a> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v2</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_get_io_width_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_EXIT_QUALIFICATION&acute;"><span class="id" title="abbreviation">VMX_EXIT_QUALIFICATION&acute;</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">qsize</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.land"><span class="id" title="definition">Z.land</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v</span>) <a class="idref" href="mcertikos.layerlib.Constant.html#EXIT_QUAL_IO_SIZE"><span class="id" title="abbreviation">EXIT_QUAL_IO_SIZE</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#qsize"><span class="id" title="variable">qsize</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#EXIT_QUAL_IO_ONE_BYTE"><span class="id" title="abbreviation">EXIT_QUAL_IO_ONE_BYTE</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#SZ8"><span class="id" title="abbreviation">SZ8</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#qsize"><span class="id" title="variable">qsize</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#EXIT_QUAL_IO_TWO_BYTE"><span class="id" title="abbreviation">EXIT_QUAL_IO_TWO_BYTE</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#SZ16"><span class="id" title="abbreviation">SZ16</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#SZ32"><span class="id" title="abbreviation">SZ32</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_get_io_write_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_EXIT_QUALIFICATION&acute;"><span class="id" title="abbreviation">VMX_EXIT_QUALIFICATION&acute;</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">qdir</span> :=  (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.land"><span class="id" title="definition">Z.land</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.shiftr"><span class="id" title="definition">Z.shiftr</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v</span>) <a class="idref" href="mcertikos.layerlib.Constant.html#EXIT_QUAL_IO_DIR"><span class="id" title="abbreviation">EXIT_QUAL_IO_DIR</span></a>) 1) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#qdir"><span class="id" title="variable">qdir</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#EXIT_QUAL_IO_IN"><span class="id" title="abbreviation">EXIT_QUAL_IO_IN</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 1<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_get_exit_io_rep_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_EXIT_QUALIFICATION&acute;"><span class="id" title="abbreviation">VMX_EXIT_QUALIFICATION&acute;</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">qrep</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.land"><span class="id" title="definition">Z.land</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.shiftr"><span class="id" title="definition">Z.shiftr</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v</span>) <a class="idref" href="mcertikos.layerlib.Constant.html#EXIT_QUAL_IO_REP"><span class="id" title="abbreviation">EXIT_QUAL_IO_REP</span></a>) 1 <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#qrep"><span class="id" title="variable">qrep</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_get_exit_io_str_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_EXIT_QUALIFICATION&acute;"><span class="id" title="abbreviation">VMX_EXIT_QUALIFICATION&acute;</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">qrep</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.land"><span class="id" title="definition">Z.land</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.shiftr"><span class="id" title="definition">Z.shiftr</span></a> (<span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v</span>) <a class="idref" href="mcertikos.layerlib.Constant.html#EXIT_QUAL_IO_STR"><span class="id" title="abbreviation">EXIT_QUAL_IO_STR</span></a>) 1 <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#qrep"><span class="id" title="variable">qrep</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_get_exit_io_port_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span>  <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_EXIT_QUALIFICATION&acute;"><span class="id" title="abbreviation">VMX_EXIT_QUALIFICATION&acute;</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#66073ffd934badf1f6e703023820601f"><span class="id" title="notation">(</span></a><span class="id" title="definition">Int.unsigned</span> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#66073ffd934badf1f6e703023820601f"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#66073ffd934badf1f6e703023820601f"><span class="id" title="notation">/</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#C_EXIT_QUAL_IO_PORT"><span class="id" title="abbreviation">C_EXIT_QUAL_IO_PORT</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>     <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_ept_add_mapping_spec</span> (<span class="id" title="var">gpa</span> <span class="id" title="var">hpa</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">memtype</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#gpa"><span class="id" title="variable">gpa</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#maxpage"><span class="id" title="abbreviation">maxpage</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#hpa"><span class="id" title="variable">hpa</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#maxpage"><span class="id" title="abbreviation">maxpage</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#memtype"><span class="id" title="variable">memtype</span></a> 4096 <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pml4</span> := <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPT_PML4_INDEX"><span class="id" title="definition">EPT_PML4_INDEX</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#gpa"><span class="id" title="variable">gpa</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pdpt</span> := <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPT_PDPT_INDEX"><span class="id" title="definition">EPT_PDPT_INDEX</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#gpa"><span class="id" title="variable">gpa</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pdir</span> := <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPT_PDIR_INDEX"><span class="id" title="definition">EPT_PDIR_INDEX</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#gpa"><span class="id" title="variable">gpa</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ptab</span> := <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPT_PTAB_INDEX"><span class="id" title="definition">EPT_PTAB_INDEX</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#gpa"><span class="id" title="variable">gpa</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pml4"><span class="id" title="variable">pml4</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ept"><span class="id" title="projection">ept</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPML4EValid"><span class="id" title="constructor">EPML4EValid</span></a> <span class="id" title="var">epdpt</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pdpt"><span class="id" title="variable">pdpt</span></a> <span class="id" title="var">epdpt</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPDPTEValid"><span class="id" title="constructor">EPDPTEValid</span></a> <span class="id" title="var">epdt</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pdir"><span class="id" title="variable">pdir</span></a> <span class="id" title="var">epdt</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPDTEValid"><span class="id" title="constructor">EPDTEValid</span></a> <span class="id" title="var">eptab</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">va</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.lor"><span class="id" title="definition">Z.lor</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.lor"><span class="id" title="definition">Z.lor</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.land"><span class="id" title="definition">Z.land</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#hpa"><span class="id" title="variable">hpa</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#EPT_ADDR_MASK"><span class="id" title="abbreviation">EPT_ADDR_MASK</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#EPT_PG_IGNORE_PAT_or_PERM"><span class="id" title="abbreviation">EPT_PG_IGNORE_PAT_or_PERM</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.shiftl"><span class="id" title="definition">Z.shiftl</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#memtype"><span class="id" title="variable">memtype</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#EPT_PG_MEMORY_TYPE"><span class="id" title="abbreviation">EPT_PG_MEMORY_TYPE</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">eptab&acute;</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#ptab"><span class="id" title="variable">ptab</span></a> (<a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPTEValid"><span class="id" title="constructor">EPTEValid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#va"><span class="id" title="variable">va</span></a>) <span class="id" title="var">eptab</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">epdt&acute;</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pdir"><span class="id" title="variable">pdir</span></a> (<a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPDTEValid"><span class="id" title="constructor">EPDTEValid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#eptab&acute;"><span class="id" title="variable">eptab&acute;</span></a>) <span class="id" title="var">epdt</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pdpte&acute;</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pdpt"><span class="id" title="variable">pdpt</span></a> (<a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPDPTEValid"><span class="id" title="constructor">EPDPTEValid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#epdt&acute;"><span class="id" title="variable">epdt&acute;</span></a>) <span class="id" title="var">epdpt</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ept&acute;</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pml4"><span class="id" title="variable">pml4</span></a> (<a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPML4EValid"><span class="id" title="constructor">EPML4EValid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pdpte&acute;"><span class="id" title="variable">pdpte&acute;</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ept"><span class="id" title="projection">ept</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">((</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#0f5b7ffed981ddb436637d474713fdfd"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#0f5b7ffed981ddb436637d474713fdfd"><span class="id" title="notation">pv_ept</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#0f5b7ffed981ddb436637d474713fdfd"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#ept&acute;"><span class="id" title="variable">ept&acute;</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#0f5b7ffed981ddb436637d474713fdfd"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">),</span></a> 0<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_ept_invalidate_mappings_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) := <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_set_mmap_spec</span> (<span class="id" title="var">gpa</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>)  (<span class="id" title="var">hpa</span> : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">mem_type</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#single_ept_add_mapping_spec"><span class="id" title="definition">single_ept_add_mapping_spec</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#gpa"><span class="id" title="variable">gpa</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#hpa"><span class="id" title="variable">hpa</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#mem_type"><span class="id" title="variable">mem_type</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">adt&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">res</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_le"><span class="id" title="definition">zle_le</span></a> 0 <span class="id" title="var">res</span> <span class="id" title="definition">Int.max_unsigned</span> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#mem_type"><span class="id" title="variable">mem_type</span></a> 4096 <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> <span class="id" title="var">res</span> 0 <span class="id" title="keyword">then</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#single_ept_invalidate_mappings_spec"><span class="id" title="definition">single_ept_invalidate_mappings_spec</span></a> <span class="id" title="var">adt&acute;</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">z</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">adt&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">z</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">adt&acute;</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">res</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="single_vm_run_spec"><span class="id" title="definition">single_vm_run_spec</span></a> (<span class="id" title="var">rs</span>: <span class="id" title="definition">regset</span>) (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> (<a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <span class="id" title="definition">regset</span>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_G_RIP&acute;"><span class="id" title="abbreviation">VMX_G_RIP&acute;</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">d&acute;</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_GUEST_RIP"><span class="id" title="abbreviation">C_VMCS_GUEST_RIP</span></a> (<span class="id" title="constructor">Vint</span> <span class="id" title="var">v</span>) <span class="id" title="var">d</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vvmx</span> := (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">rs&acute;</span> := <span class="id" title="notation">(</span><span class="id" title="definition">Pregmap.init</span> <span class="id" title="constructor">Vundef</span><span class="id" title="notation">)</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">#</span> <span class="id" title="constructor">EAX</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_G_RAX&acute;"><span class="id" title="abbreviation">VMX_G_RAX&acute;</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx"><span class="id" title="variable">vvmx</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">#</span> <span class="id" title="constructor">EBX</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_G_RBX&acute;"><span class="id" title="abbreviation">VMX_G_RBX&acute;</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx"><span class="id" title="variable">vvmx</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">#</span> <span class="id" title="constructor">EDX</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_G_RDX&acute;"><span class="id" title="abbreviation">VMX_G_RDX&acute;</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx"><span class="id" title="variable">vvmx</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">#</span> <span class="id" title="constructor">ESI</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_G_RSI&acute;"><span class="id" title="abbreviation">VMX_G_RSI&acute;</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx"><span class="id" title="variable">vvmx</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">#</span> <span class="id" title="constructor">EDI</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_G_RDI&acute;"><span class="id" title="abbreviation">VMX_G_RDI&acute;</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx"><span class="id" title="variable">vvmx</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">#</span> <span class="id" title="constructor">EBP</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_G_RBP&acute;"><span class="id" title="abbreviation">VMX_G_RBP&acute;</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx"><span class="id" title="variable">vvmx</span></a><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">#</span> <span class="id" title="constructor">RA</span> <span class="id" title="notation">&lt;-</span> <span class="id" title="notation">(</span><span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_G_RIP&acute;"><span class="id" title="abbreviation">VMX_G_RIP&acute;</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx"><span class="id" title="variable">vvmx</span></a><span class="id" title="notation">)</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vvmx1</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_HOST_EBP&acute;"><span class="id" title="abbreviation">VMX_HOST_EBP&acute;</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#rs"><span class="id" title="variable">rs</span></a> <span class="id" title="constructor">EBP</span>) <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx"><span class="id" title="variable">vvmx</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vvmx2</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_HOST_EDI&acute;"><span class="id" title="abbreviation">VMX_HOST_EDI&acute;</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#rs"><span class="id" title="variable">rs</span></a> <span class="id" title="constructor">EDI</span>) <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx1"><span class="id" title="variable">vvmx1</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">((</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">pv_vmx</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx2"><span class="id" title="variable">vvmx2</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">}</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">pv_vmcs</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">}</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#15caf7a6f2019a92db94f395aad19b9c"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#15caf7a6f2019a92db94f395aad19b9c"><span class="id" title="notation">pv_ihost</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#15caf7a6f2019a92db94f395aad19b9c"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#15caf7a6f2019a92db94f395aad19b9c"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">),</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#rs&acute;"><span class="id" title="variable">rs&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_return_from_guest_spec</span> (<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSValid"><span class="id" title="constructor">VMCSValid</span></a> <span class="id" title="var">revid</span> <span class="id" title="var">abrtid</span> <span class="id" title="var">d</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vvmx</span> :=  (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_GUEST_RIP"><span class="id" title="abbreviation">C_VMCS_GUEST_RIP</span></a> <span class="id" title="var">d</span>, <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_EXIT_REASON"><span class="id" title="abbreviation">C_VMCS_EXIT_REASON</span></a> <span class="id" title="var">d</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.layerlib.Constant.html#C_VMCS_EXIT_QUALIFICATION"><span class="id" title="abbreviation">C_VMCS_EXIT_QUALIFICATION</span></a> <span class="id" title="var">d</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="constructor">Vint</span> <span class="id" title="var">v1</span>, <span class="id" title="constructor">Vint</span> <span class="id" title="var">v2</span>, <span class="id" title="constructor">Vint</span> <span class="id" title="var">v3</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vvmx1</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_G_RIP&acute;"><span class="id" title="abbreviation">VMX_G_RIP&acute;</span></a> (<span class="id" title="constructor">Vint</span> <span class="id" title="var">v1</span>) <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx"><span class="id" title="variable">vvmx</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vvmx2</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_EXIT_REASON&acute;"><span class="id" title="abbreviation">VMX_EXIT_REASON&acute;</span></a> (<span class="id" title="constructor">Vint</span> <span class="id" title="var">v2</span>) <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx1"><span class="id" title="variable">vvmx1</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vvmx3</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_EXIT_QUALIFICATION&acute;"><span class="id" title="abbreviation">VMX_EXIT_QUALIFICATION&acute;</span></a> (<span class="id" title="constructor">Vint</span> <span class="id" title="var">v3</span>) <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx2"><span class="id" title="variable">vvmx2</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">vvmx4</span> := <span class="id" title="definition">ZMap.set</span> <a class="idref" href="mcertikos.layerlib.Constant.html#VMX_LAUNCHED&acute;"><span class="id" title="abbreviation">VMX_LAUNCHED&acute;</span></a> <span class="id" title="definition">Vone</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx3"><span class="id" title="variable">vvmx3</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#15caf7a6f2019a92db94f395aad19b9c"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#15caf7a6f2019a92db94f395aad19b9c"><span class="id" title="notation">pv_ihost</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#15caf7a6f2019a92db94f395aad19b9c"><span class="id" title="notation">:</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#15caf7a6f2019a92db94f395aad19b9c"><span class="id" title="notation">}</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">pv_vmx</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#vvmx4"><span class="id" title="variable">vvmx4</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>,<span class="id" title="var">_</span>,<span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Function</span> <span class="id" title="var">single_vmx_init_spec</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">pml4ept_b</span> <span class="id" title="var">stack_b</span> <span class="id" title="var">idt_b</span> <span class="id" title="var">msr_bitmap_b</span> <span class="id" title="var">io_bitmap_b</span> <span class="id" title="var">host_rip_b</span>: <span class="id" title="definition">block</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">adt</span>: <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="mcertikos.conlib.conmtlib.SingleAbstractDataType.html#PData"><span class="id" title="definition">PData</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sh_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">pv_adt</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#adt"><span class="id" title="variable">adt</span></a> <span class="id" title="keyword">in</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <span class="id" title="definition">zeq</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.conlib.conmtlib.SingleOracle.html#vm_handling_cid"><span class="id" title="method">vm_handling_cid</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> <span class="id" title="keyword">match</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#init"><span class="id" title="projection">init</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#in_intr"><span class="id" title="projection">in_intr</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ipt"><span class="id" title="projection">ipt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <a class="idref" href="mcertikos.layerlib.Constant.html#NUM_VMS"><span class="id" title="abbreviation">NUM_VMS</span></a> <span class="id" title="keyword">then</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="mcertikos.layerlib.AuxFunctions.html#zle_lt"><span class="id" title="definition">zle_lt</span></a> 0 (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <a class="idref" href="mcertikos.layerlib.Constant.html#num_proc"><span class="id" title="abbreviation">num_proc</span></a> <span class="id" title="keyword">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#0f5b7ffed981ddb436637d474713fdfd"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#0f5b7ffed981ddb436637d474713fdfd"><span class="id" title="notation">pv_ept</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#0f5b7ffed981ddb436637d474713fdfd"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#0f5b7ffed981ddb436637d474713fdfd"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.clib.CalRealIntelModule.html#Calculate_EPDPTE"><span class="id" title="definition">Calculate_EPDPTE</span></a> 3 (<span class="id" title="definition">ZMap.set</span> 0 (<a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPML4EValid"><span class="id" title="constructor">EPML4EValid</span></a> (<span class="id" title="definition">ZMap.init</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#EPDPTEUndef"><span class="id" title="constructor">EPDPTEUndef</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#ept"><span class="id" title="projection">ept</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>))<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#0f5b7ffed981ddb436637d474713fdfd"><span class="id" title="notation">)}</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">pv_vmcs</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.clib.CalRealIntelModule.html#Calculate_VMCS_at_i"><span class="id" title="definition">Calculate_VMCS_at_i</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>) (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#sh_adt"><span class="id" title="variable">sh_adt</span></a>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmcs"><span class="id" title="projection">vmcs</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>)   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#real_vmxinfo"><span class="id" title="method">real_vmxinfo</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pml4ept_b"><span class="id" title="variable">pml4ept_b</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#stack_b"><span class="id" title="variable">stack_b</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#idt_b"><span class="id" title="variable">idt_b</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#msr_bitmap_b"><span class="id" title="variable">msr_bitmap_b</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#io_bitmap_b"><span class="id" title="variable">io_bitmap_b</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#host_rip_b"><span class="id" title="variable">host_rip_b</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">)</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#2fd5bb837f41a5e333ae130abff6edff"><span class="id" title="notation">}</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">{</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">pv_vmx</span></a><a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">:</span></a> <a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.clib.CalRealIntelModule.html#Calculate_VMX_at_i"><span class="id" title="definition">Calculate_VMX_at_i</span></a> (<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#vmx"><span class="id" title="projection">vmx</span></a> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#pv_adt"><span class="id" title="variable">pv_adt</span></a>)<a class="idref" href="mcertikos.multithread.phbthread.AuxSingleAbstractDataType.html#37da964e787fdab33ec674f1b2430f8a"><span class="id" title="notation">)}</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#PHBSPECSIntelVirt.SINGLE_VIRT_SPECS"><span class="id" title="section">SINGLE_VIRT_SPECS</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.multithread.phbthread.ObjPHBThreadINTELVIRT.html#PHBSPECSIntelVirt"><span class="id" title="section">PHBSPECSIntelVirt</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>