<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>mcertikos.proc.PBThread</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library mcertikos.proc.PBThread</h1>

<div class="code">

<br/>
</div>

<div class="doc">
This file defines the abstract data and the primitives for the PThread layer, 
which will introduce the primtives of thread
</div>
<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Coqlib</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Maps</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.ASTExtra.html#"><span class="id" title="library">ASTExtra</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Integers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Floats</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Values</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Memory</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Events</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Stacklayout</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Globalenvs</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">AsmX</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">Smallstep</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#"><span class="id" title="library">AuxStateDataType</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.Constant.html#"><span class="id" title="library">Constant</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#"><span class="id" title="library">GlobIdent</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.flatmem.FlatMemory.html#"><span class="id" title="library">FlatMemory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.CommonTactic.html#"><span class="id" title="library">CommonTactic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.AuxLemma.html#"><span class="id" title="library">AuxLemma</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.RealParams.html#"><span class="id" title="library">RealParams</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#"><span class="id" title="library">PrimSemantics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.LAsm.html#"><span class="id" title="library">LAsm</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.flatmem.LoadStoreSem3.html#"><span class="id" title="library">LoadStoreSem3</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.XOmega.html#"><span class="id" title="library">XOmega</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.logic.PTreeModules</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.logic.LayerLogicImpl</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compat.CompatLayers</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">liblayers.compat.CompatGenSem</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealPTPool.html#"><span class="id" title="library">CalRealPTPool</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealPT.html#"><span class="id" title="library">CalRealPT</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealIDPDE.html#"><span class="id" title="library">CalRealIDPDE</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealInitPTE.html#"><span class="id" title="library">CalRealInitPTE</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealSMSPool.html#"><span class="id" title="library">CalRealSMSPool</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealProcModule.html#"><span class="id" title="library">CalRealProcModule</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.clib.CalRealIntelModule.html#"><span class="id" title="library">CalRealIntelModule</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.invariants.INVLemmaContainer.html#"><span class="id" title="library">INVLemmaContainer</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.invariants.INVLemmaMemory.html#"><span class="id" title="library">INVLemmaMemory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.invariants.INVLemmaThread.html#"><span class="id" title="library">INVLemmaThread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#"><span class="id" title="library">INVLemmaIntel</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#"><span class="id" title="library">INVLemmaProc</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#"><span class="id" title="library">AbstractDataType</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjCPU.html#"><span class="id" title="library">ObjCPU</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjFlatMem.html#"><span class="id" title="library">ObjFlatMem</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjContainer.html#"><span class="id" title="library">ObjContainer</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjVMM.html#"><span class="id" title="library">ObjVMM</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjLMM.html#"><span class="id" title="library">ObjLMM</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjShareMem.html#"><span class="id" title="library">ObjShareMem</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjThread.html#"><span class="id" title="library">ObjThread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjMultiprocessor.html#"><span class="id" title="library">ObjMultiprocessor</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.CalTicketLock.html#"><span class="id" title="library">CalTicketLock</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.invariants.INVLemmaQLock.html#"><span class="id" title="library">INVLemmaQLock</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.invariants.INVLemmaInterrupt.html#"><span class="id" title="library">INVLemmaInterrupt</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.invariants.INVLemmaDriver.html#"><span class="id" title="library">INVLemmaDriver</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.DeviceStateDataType.html#"><span class="id" title="library">DeviceStateDataType</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.FutureTactic.html#"><span class="id" title="library">FutureTactic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjQLock.html#"><span class="id" title="library">ObjQLock</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptManagement.html#"><span class="id" title="library">ObjInterruptManagement</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptController.html#"><span class="id" title="library">ObjInterruptController</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.dev.ObjConsole.html#"><span class="id" title="library">ObjConsole</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.dev.ObjSerialDriver.html#"><span class="id" title="library">ObjSerialDriver</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptDriver.html#"><span class="id" title="library">ObjInterruptDriver</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjQueue.html#"><span class="id" title="library">ObjQueue</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjCV.html#"><span class="id" title="library">ObjCV</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#"><span class="id" title="library">ObjBigThread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjEPT.html#"><span class="id" title="library">ObjEPT</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#"><span class="id" title="library">ObjVMCS</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#"><span class="id" title="library">ObjVMX</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.objects.ObjProc.html#"><span class="id" title="library">ObjProc</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="mcertikos.layerlib.IntelPrimSemantics.html#"><span class="id" title="library">IntelPrimSemantics</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab752"></a><h1 class="section">Abstract Data and Primitives at this layer</h1>

</div>
<div class="code">
<span class="id" title="keyword">Section</span> <a name="WITHMEM"><span class="id" title="section">WITHMEM</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">Z_scope</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">real_params</span>: <a class="idref" href="mcertikos.clib.RealParams.html#RealParams"><span class="id" title="class">RealParams</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">multi_oracle_prop</span>: <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracleProp.html#MultiOracleProp"><span class="id" title="class">MultiOracleProp</span></a>}.<br/>

<br/>
</div>

<div class="doc">
**Definition of the invariants at MPTNew layer <span class="inlinecode">0<span class="id" title="var">th</span></span> <span class="inlinecode"><span class="id" title="var">page</span></span> <span class="inlinecode"><span class="id" title="var">map</span></span> is reserved for the kernel thread
</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Record</span> <a name="high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> (<span class="id" title="var">abd</span>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#RData"><span class="id" title="record">RData</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a name="mkInvariant"><span class="id" title="constructor">mkInvariant</span></a> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_nps"><span class="id" title="projection">valid_nps</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> → <a class="idref" href="mcertikos.layerlib.Constant.html#kern_low"><span class="id" title="abbreviation">kern_low</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#5dda7752d319ac2ccefb830f12787952"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#nps"><span class="id" title="projection">nps</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#5dda7752d319ac2ccefb830f12787952"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#maxpage"><span class="id" title="abbreviation">maxpage</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_kern"><span class="id" title="projection">valid_kern</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#ipt"><span class="id" title="projection">ipt</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> → <a class="idref" href="mcertikos.objects.AbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_iptt"><span class="id" title="projection">valid_iptt</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#ipt"><span class="id" title="projection">ipt</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> → <a class="idref" href="mcertikos.objects.AbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_iptf"><span class="id" title="projection">valid_iptf</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> → <a class="idref" href="mcertikos.objects.AbstractDataType.html#ipt"><span class="id" title="projection">ipt</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_ihost"><span class="id" title="projection">valid_ihost</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> → <a class="idref" href="mcertikos.objects.AbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_container"><span class="id" title="projection">valid_container</span></a>: <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#Container_valid"><span class="id" title="record">Container_valid</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#AC"><span class="id" title="projection">AC</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="init_pperm"><span class="id" title="projection">init_pperm</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#pperm"><span class="id" title="projection">pperm</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="definition">ZMap.init</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#PGUndef"><span class="id" title="constructor">PGUndef</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_PMap"><span class="id" title="projection">valid_PMap</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, 0<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#num_proc"><span class="id" title="abbreviation">num_proc</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#PMap_valid"><span class="id" title="definition">PMap_valid</span></a> (<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#ptpool"><span class="id" title="projection">ptpool</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>)));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_PT_kern"><span class="id" title="projection">valid_PT_kern</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> → <a class="idref" href="mcertikos.objects.AbstractDataType.html#ipt"><span class="id" title="projection">ipt</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#PT"><span class="id" title="projection">PT</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> 0;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_PMap_kern"><span class="id" title="projection">valid_PMap_kern</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> → <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#PMap_kern"><span class="id" title="definition">PMap_kern</span></a> (<span class="id" title="definition">ZMap.get</span> 0 (<a class="idref" href="mcertikos.objects.AbstractDataType.html#ptpool"><span class="id" title="projection">ptpool</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_PT"><span class="id" title="projection">valid_PT</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> → 0<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#PT"><span class="id" title="projection">PT</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#num_proc"><span class="id" title="abbreviation">num_proc</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_dirty"><span class="id" title="projection">valid_dirty</span></a>: <a class="idref" href="mcertikos.flatmem.FlatMemory.html#dirty_ppage&acute;"><span class="id" title="definition">dirty_ppage&acute;</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#pperm"><span class="id" title="projection">pperm</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#HP"><span class="id" title="projection">HP</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>);<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_idpde"><span class="id" title="projection">valid_idpde</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> → <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#IDPDE_init"><span class="id" title="definition">IDPDE_init</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#idpde"><span class="id" title="projection">idpde</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_root"><span class="id" title="projection">valid_root</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> , 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#5dda7752d319ac2ccefb830f12787952"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#5dda7752d319ac2ccefb830f12787952"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a> → <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> → <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#cused"><span class="id" title="projection">cused</span></a> (<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#AC"><span class="id" title="projection">AC</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_cons_buf_rpos"><span class="id" title="projection">valid_cons_buf_rpos</span></a>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.DeviceStateDataType.html#rpos"><span class="id" title="projection">rpos</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#console"><span class="id" title="projection">console</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#CONSOLE_BUFFER_SIZE"><span class="id" title="abbreviation">CONSOLE_BUFFER_SIZE</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_cons_buf_length"><span class="id" title="projection">valid_cons_buf_length</span></a>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.Zcomplements.html#Zlength"><span class="id" title="definition">Zlength</span></a> (<a class="idref" href="mcertikos.layerlib.DeviceStateDataType.html#cons_buf"><span class="id" title="projection">cons_buf</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#console"><span class="id" title="projection">console</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#CONSOLE_BUFFER_SIZE"><span class="id" title="abbreviation">CONSOLE_BUFFER_SIZE</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="CPU_ID_range"><span class="id" title="projection">CPU_ID_range</span></a>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#TOTAL_CPU"><span class="id" title="abbreviation">TOTAL_CPU</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_curid"><span class="id" title="projection">valid_curid</span></a>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#num_proc"><span class="id" title="abbreviation">num_proc</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_CPU_ID_eq"><span class="id" title="projection">valid_CPU_ID_eq</span></a>: <a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracle.html#current_CPU_ID"><span class="id" title="method">current_CPU_ID</span></a>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a name="valid_big_oracle_inv"><span class="id" title="projection">valid_big_oracle_inv</span></a>: <a class="idref" href="mcertikos.objects.BigStepLogReplay.html#valid_big_oracle"><span class="id" title="definition">valid_big_oracle</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#big_oracle"><span class="id" title="projection">big_oracle</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#abd"><span class="id" title="variable">abd</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc">
<a name="lab753"></a><h2 class="section">Definition of the abstract state ops</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="pbthread_data_ops"><span class="id" title="instance">pbthread_data_ops</span></a> : <span class="id" title="class">CompatDataOps</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#RData"><span class="id" title="record">RData</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">empty_data</span> := <a class="idref" href="mcertikos.objects.AbstractDataType.html#init_adt"><span class="id" title="definition">init_adt</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracleProp.html#multi_oracle_init7"><span class="id" title="method">multi_oracle_init7</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">high_level_invariant</span> := <a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">low_level_invariant</span> := <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <span class="id" title="var">adt</span> := <a class="idref" href="mcertikos.objects.AbstractDataType.html#ikern"><span class="id" title="projection">ikern</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ihost"><span class="id" title="projection">ihost</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#adt"><span class="id" title="variable">adt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>

<br/>
</div>

<div class="doc">
<a name="lab754"></a><h2 class="section">Proofs that the initial abstract_data should satisfy the invariants</h2>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.Property_Abstract_Data"><span class="id" title="section">Property_Abstract_Data</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="empty_data_high_level_invariant"><span class="id" title="lemma">empty_data_high_level_invariant</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#init_adt"><span class="id" title="definition">init_adt</span></a> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracleProp.html#multi_oracle_init7"><span class="id" title="method">multi_oracle_init7</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.invariants.INVLemmaContainer.html#empty_container_valid"><span class="id" title="lemma">empty_container_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.flatmem.FlatMemory.html#dirty_ppage&acute;_init"><span class="id" title="lemma">dirty_ppage&acute;_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.oracle_ops"><span class="id" title="variable">oracle_ops</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gi</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.objects.cpulocaldef.GlobalOracleProp.html#valid_big_oracle0"><span class="id" title="method">valid_big_oracle0</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab755"></a><h2 class="section">Definition of the abstract state</h2>

</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="pbthread_data_prf"><span class="id" title="instance">pbthread_data_prf</span></a> : <span class="id" title="class">CompatData</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#RData"><span class="id" title="record">RData</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant_incr"><span class="id" title="lemma">low_level_invariant_incr</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#empty_data_low_level_invariant"><span class="id" title="lemma">empty_data_low_level_invariant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.proc.PBThread.html#empty_data_high_level_invariant"><span class="id" title="lemma">empty_data_high_level_invariant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.Property_Abstract_Data"><span class="id" title="section">Property_Abstract_Data</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hstencil</span>: <span class="id" title="class">Stencil</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hmem</span>: <span class="id" title="class">Mem.MemoryModelX</span>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hmwd</span>: <span class="id" title="class">UseMemWithData</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.mem"><span class="id" title="variable">mem</span></a>}.<br/>

<br/>
</div>

<div class="doc">
<a name="lab756"></a><h1 class="section">Proofs that the primitives satisfies the invariants at this layer</h1>

</div>
<div class="code">
&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV"><span class="id" title="section">INV</span></a>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.RECEIVE"><span class="id" title="section">RECEIVE</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="page_copy_back_high_level_inv"><span class="id" title="lemma">page_copy_back_high_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">chid</span> <span class="id" title="var">cound</span> <span class="id" title="var">addr</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_page_copy_back_spec"><span class="id" title="definition">big_page_copy_back_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#chid"><span class="id" title="variable">chid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#cound"><span class="id" title="variable">cound</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.objects.ObjFlatMem.html#dirty_ppage&acute;_gss_page_copy_back"><span class="id" title="lemma">dirty_ppage&acute;_gss_page_copy_back</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="page_copy_back_low_level_inv"><span class="id" title="lemma">page_copy_back_low_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">chid</span> <span class="id" title="var">cound</span> <span class="id" title="var">addr</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_page_copy_back_spec"><span class="id" title="definition">big_page_copy_back_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#chid"><span class="id" title="variable">chid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#cound"><span class="id" title="variable">cound</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="page_copy_back_kernel_mode"><span class="id" title="lemma">page_copy_back_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">chid</span> <span class="id" title="var">cound</span> <span class="id" title="var">addr</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_page_copy_back_spec"><span class="id" title="definition">big_page_copy_back_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#chid"><span class="id" title="variable">chid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#cound"><span class="id" title="variable">cound</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ipc_receive_body_high_level_inv"><span class="id" title="lemma">ipc_receive_body_high_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">fromid</span> <span class="id" title="var">vaddr</span> <span class="id" title="var">count</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ipc_receive_body_spec"><span class="id" title="definition">big_ipc_receive_body_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#fromid"><span class="id" title="variable">fromid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vaddr"><span class="id" title="variable">vaddr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#count"><span class="id" title="variable">count</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="mcertikos.proc.PBThread.html#page_copy_back_high_level_inv"><span class="id" title="lemma">page_copy_back_high_level_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hh</span>. <span class="id" title="var">inv</span> <span class="id" title="var">Hh</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> 2; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ipc_receive_body_low_level_inv"><span class="id" title="lemma">ipc_receive_body_low_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">fromid</span> <span class="id" title="var">vaddr</span> <span class="id" title="var">count</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">n&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ipc_receive_body_spec"><span class="id" title="definition">big_ipc_receive_body_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#fromid"><span class="id" title="variable">fromid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vaddr"><span class="id" title="variable">vaddr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#count"><span class="id" title="variable">count</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="mcertikos.proc.PBThread.html#page_copy_back_low_level_inv"><span class="id" title="lemma">page_copy_back_low_level_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hh</span>. <span class="id" title="var">inv</span> <span class="id" title="var">Hh</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ipc_receive_body_kernel_mode"><span class="id" title="lemma">ipc_receive_body_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">fromid</span> <span class="id" title="var">vaddr</span> <span class="id" title="var">count</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ipc_receive_body_spec"><span class="id" title="definition">big_ipc_receive_body_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#fromid"><span class="id" title="variable">fromid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vaddr"><span class="id" title="variable">vaddr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#count"><span class="id" title="variable">count</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="mcertikos.proc.PBThread.html#page_copy_back_kernel_mode"><span class="id" title="lemma">page_copy_back_kernel_mode</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="ipc_receive_body_inv"><span class="id" title="instance">ipc_receive_body_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ipc_receive_body_spec"><span class="id" title="definition">big_ipc_receive_body_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ipc_receive_body_low_level_inv"><span class="id" title="lemma">ipc_receive_body_low_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ipc_receive_body_high_level_inv"><span class="id" title="lemma">ipc_receive_body_high_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ipc_receive_body_kernel_mode"><span class="id" title="lemma">ipc_receive_body_kernel_mode</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.RECEIVE"><span class="id" title="section">RECEIVE</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.SEND"><span class="id" title="section">SEND</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="page_copy_high_level_inv"><span class="id" title="lemma">page_copy_high_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">chid</span> <span class="id" title="var">cound</span> <span class="id" title="var">addr</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_page_copy_spec"><span class="id" title="definition">big_page_copy_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#chid"><span class="id" title="variable">chid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#cound"><span class="id" title="variable">cound</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="page_copy_low_level_inv"><span class="id" title="lemma">page_copy_low_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">chid</span> <span class="id" title="var">cound</span> <span class="id" title="var">addr</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_page_copy_spec"><span class="id" title="definition">big_page_copy_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#chid"><span class="id" title="variable">chid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#cound"><span class="id" title="variable">cound</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="page_copy_kernel_mode"><span class="id" title="lemma">page_copy_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">chid</span> <span class="id" title="var">cound</span> <span class="id" title="var">addr</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_page_copy_spec"><span class="id" title="definition">big_page_copy_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#chid"><span class="id" title="variable">chid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#cound"><span class="id" title="variable">cound</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#addr"><span class="id" title="variable">addr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;→ <span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ipc_send_body_high_level_inv"><span class="id" title="lemma">ipc_send_body_high_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">fromid</span> <span class="id" title="var">vaddr</span> <span class="id" title="var">count</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ipc_send_body_spec"><span class="id" title="definition">big_ipc_send_body_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#fromid"><span class="id" title="variable">fromid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vaddr"><span class="id" title="variable">vaddr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#count"><span class="id" title="variable">count</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="mcertikos.proc.PBThread.html#page_copy_high_level_inv"><span class="id" title="lemma">page_copy_high_level_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hh</span>. <span class="id" title="var">inv</span> <span class="id" title="var">Hh</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> 2; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ipc_send_body_low_level_inv"><span class="id" title="lemma">ipc_send_body_low_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">fromid</span> <span class="id" title="var">vaddr</span> <span class="id" title="var">count</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">n&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ipc_send_body_spec"><span class="id" title="definition">big_ipc_send_body_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#fromid"><span class="id" title="variable">fromid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vaddr"><span class="id" title="variable">vaddr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#count"><span class="id" title="variable">count</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="mcertikos.proc.PBThread.html#page_copy_low_level_inv"><span class="id" title="lemma">page_copy_low_level_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hh</span>. <span class="id" title="var">inv</span> <span class="id" title="var">Hh</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ipc_send_body_kernel_mode"><span class="id" title="lemma">ipc_send_body_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">fromid</span> <span class="id" title="var">vaddr</span> <span class="id" title="var">count</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ipc_send_body_spec"><span class="id" title="definition">big_ipc_send_body_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#fromid"><span class="id" title="variable">fromid</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vaddr"><span class="id" title="variable">vaddr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#count"><span class="id" title="variable">count</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="mcertikos.proc.PBThread.html#page_copy_kernel_mode"><span class="id" title="lemma">page_copy_kernel_mode</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="ipc_send_body_inv"><span class="id" title="instance">ipc_send_body_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ipc_send_body_spec"><span class="id" title="definition">big_ipc_send_body_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ipc_send_body_low_level_inv"><span class="id" title="lemma">ipc_send_body_low_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ipc_send_body_high_level_inv"><span class="id" title="lemma">ipc_send_body_high_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ipc_send_body_kernel_mode"><span class="id" title="lemma">ipc_send_body_kernel_mode</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.SEND"><span class="id" title="section">SEND</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="set_sync_chan_busy_inv"><span class="id" title="instance">set_sync_chan_busy_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjCV.html#set_sync_chan_busy_spec"><span class="id" title="definition">set_sync_chan_busy_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="cli_inv"><span class="id" title="instance">cli_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptController.html#cli_spec"><span class="id" title="definition">cli_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_direct</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="sti_inv"><span class="id" title="instance">sti_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptController.html#sti_spec"><span class="id" title="definition">sti_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_direct</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="cons_buf_read_inv"><span class="id" title="instance">cons_buf_read_inv</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.dev.ObjConsole.html#cons_buf_read_spec"><span class="id" title="definition">cons_buf_read_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_nested</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="serial_putc_inv"><span class="id" title="instance">serial_putc_inv</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.dev.ObjSerialDriver.html#serial_putc_spec"><span class="id" title="definition">serial_putc_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="serial_intr_disable_inv"><span class="id" title="instance">serial_intr_disable_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptManagement.html#serial_intr_disable_spec"><span class="id" title="definition">serial_intr_disable_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv_generic_sem</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> 2 <span class="id" title="keyword">with</span> <span class="id" title="var">serial_intr_disable_invariantdb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="mcertikos.invariants.INVLemmaInterrupt.html#serial_intr_disable_preserves_tf"><span class="id" title="lemma">serial_intr_disable_preserves_tf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">tmprw</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">tmprw</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> 2 <span class="id" title="keyword">with</span> <span class="id" title="var">serial_intr_disable_invariantdb</span>; <span class="id" title="var">rest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> 2 <span class="id" title="keyword">with</span> <span class="id" title="var">serial_intr_disable_invariantdb</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="serial_intr_enable_inv"><span class="id" title="instance">serial_intr_enable_inv</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptManagement.html#serial_intr_enable_spec"><span class="id" title="definition">serial_intr_enable_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv_generic_sem</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> 2 <span class="id" title="keyword">with</span> <span class="id" title="var">serial_intr_enable_invariantdb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="mcertikos.invariants.INVLemmaInterrupt.html#serial_intr_enable_preserves_tf"><span class="id" title="lemma">serial_intr_enable_preserves_tf</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H2</span>); <span class="id" title="tactic">intro</span> <span class="id" title="var">tmprw</span>; <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">tmprw</span>; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> 2 <span class="id" title="keyword">with</span> <span class="id" title="var">serial_intr_enable_invariantdb</span>; <span class="id" title="var">rest</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eauto</span> 2 <span class="id" title="keyword">with</span> <span class="id" title="var">serial_intr_enable_invariantdb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.SC_lock"><span class="id" title="section">SC_lock</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="acquire_lock_SC_high_level_inv"><span class="id" title="lemma">acquire_lock_SC_high_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_acquire_lock_SC_spec"><span class="id" title="definition">big_acquire_lock_SC_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_acquire_lock_SC_spec"><span class="id" title="definition">big_acquire_lock_SC_spec</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="acquire_lock_SC_low_level_inv"><span class="id" title="lemma">acquire_lock_SC_low_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_acquire_lock_SC_spec"><span class="id" title="definition">big_acquire_lock_SC_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_acquire_lock_SC_spec"><span class="id" title="definition">big_acquire_lock_SC_spec</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="acquire_lock_SC_kernel_mode"><span class="id" title="lemma">acquire_lock_SC_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_acquire_lock_SC_spec"><span class="id" title="definition">big_acquire_lock_SC_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_acquire_lock_SC_spec"><span class="id" title="definition">big_acquire_lock_SC_spec</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="acquire_lock_SC_inv"><span class="id" title="instance">acquire_lock_SC_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_acquire_lock_SC_spec"><span class="id" title="definition">big_acquire_lock_SC_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#acquire_lock_SC_low_level_inv"><span class="id" title="lemma">acquire_lock_SC_low_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#acquire_lock_SC_high_level_inv"><span class="id" title="lemma">acquire_lock_SC_high_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#acquire_lock_SC_kernel_mode"><span class="id" title="lemma">acquire_lock_SC_kernel_mode</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="release_lock_SC_high_level_inv"><span class="id" title="lemma">release_lock_SC_high_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_release_lock_SC_spec"><span class="id" title="definition">big_release_lock_SC_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_release_lock_SC_spec"><span class="id" title="definition">big_release_lock_SC_spec</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="release_lock_SC_low_level_inv"><span class="id" title="lemma">release_lock_SC_low_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_release_lock_SC_spec"><span class="id" title="definition">big_release_lock_SC_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_release_lock_SC_spec"><span class="id" title="definition">big_release_lock_SC_spec</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="release_lock_SC_kernel_mode"><span class="id" title="lemma">release_lock_SC_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_release_lock_SC_spec"><span class="id" title="definition">big_release_lock_SC_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_release_lock_SC_spec"><span class="id" title="definition">big_release_lock_SC_spec</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="release_lock_SC_inv"><span class="id" title="instance">release_lock_SC_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_release_lock_SC_spec"><span class="id" title="definition">big_release_lock_SC_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#release_lock_SC_low_level_inv"><span class="id" title="lemma">release_lock_SC_low_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#release_lock_SC_high_level_inv"><span class="id" title="lemma">release_lock_SC_high_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#release_lock_SC_kernel_mode"><span class="id" title="lemma">release_lock_SC_kernel_mode</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.SC_lock"><span class="id" title="section">SC_lock</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.PALLOC"><span class="id" title="section">PALLOC</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="palloc_high_level_inv"><span class="id" title="lemma">palloc_high_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_palloc_spec"><span class="id" title="definition">big_palloc_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_palloc_spec"><span class="id" title="definition">big_palloc_spec</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaContainer.html#alloc_container_valid&acute;"><span class="id" title="lemma">alloc_container_valid&acute;</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.objects.ObjFlatMem.html#dirty_ppage&acute;_gso_alloc"><span class="id" title="lemma">dirty_ppage&acute;_gso_alloc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<span class="id" title="var">valid_root0</span> <span class="id" title="var">i0</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i0</span> <span class="id" title="var">i</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="palloc_low_level_inv"><span class="id" title="lemma">palloc_low_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span> <span class="id" title="var">n&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_palloc_spec"><span class="id" title="definition">big_palloc_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_palloc_spec"><span class="id" title="definition">big_palloc_spec</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="palloc_kernel_mode"><span class="id" title="lemma">palloc_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_palloc_spec"><span class="id" title="definition">big_palloc_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_palloc_spec"><span class="id" title="definition">big_palloc_spec</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="palloc_inv"><span class="id" title="instance">palloc_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_palloc_spec"><span class="id" title="definition">big_palloc_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_low_level_inv"><span class="id" title="lemma">palloc_low_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_high_level_inv"><span class="id" title="lemma">palloc_high_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_kernel_mode"><span class="id" title="lemma">palloc_kernel_mode</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.PALLOC"><span class="id" title="section">PALLOC</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="hostin_inv"><span class="id" title="instance">hostin_inv</span></a>: <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#PrimInvariants"><span class="id" title="class">PrimInvariants</span></a> <a class="idref" href="mcertikos.objects.ObjCPU.html#hostin_spec"><span class="id" title="definition">hostin_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PrimInvariants_simpl_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="hostout_inv"><span class="id" title="instance">hostout_inv</span></a>: <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#PrimInvariants"><span class="id" title="class">PrimInvariants</span></a> <a class="idref" href="mcertikos.objects.ObjCPU.html#hostout_spec"><span class="id" title="definition">hostout_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">PrimInvariants_simpl_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="setPT_inv"><span class="id" title="instance">setPT_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjLMM1.html#setPT_spec"><span class="id" title="definition">setPT_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl_auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.PTINSERT"><span class="id" title="section">PTINSERT</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.PTINSERT.PTINSERT_PTE"><span class="id" title="section">PTINSERT_PTE</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptInsertPTE_high_level_inv"><span class="id" title="lemma">ptInsertPTE_high_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">padr</span> <span class="id" title="var">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjLMM0.html#ptInsertPTE0_spec"><span class="id" title="definition">ptInsertPTE0_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#padr"><span class="id" title="variable">padr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">constructor_gso_simpl_tac</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaMemory.html#PMap_valid_gso_valid"><span class="id" title="lemma">PMap_valid_gso_valid</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaMemory.html#PMap_kern_gso"><span class="id" title="lemma">PMap_kern_gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptInsertPTE_low_level_inv"><span class="id" title="lemma">ptInsertPTE_low_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">padr</span> <span class="id" title="var">p</span> <span class="id" title="var">n&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjLMM0.html#ptInsertPTE0_spec"><span class="id" title="definition">ptInsertPTE0_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#padr"><span class="id" title="variable">padr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptInsertPTE_kernel_mode"><span class="id" title="lemma">ptInsertPTE_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">padr</span> <span class="id" title="var">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjLMM0.html#ptInsertPTE0_spec"><span class="id" title="definition">ptInsertPTE0_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#padr"><span class="id" title="variable">padr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.PTINSERT.PTINSERT_PTE"><span class="id" title="section">PTINSERT_PTE</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.PTINSERT.PTPALLOCPDE"><span class="id" title="section">PTPALLOCPDE</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="big_palloc_inv_prop"><span class="id" title="lemma">big_palloc_inv_prop</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">n</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_palloc_spec"><span class="id" title="definition">big_palloc_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#ptpool"><span class="id" title="projection">ptpool</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#ptpool"><span class="id" title="projection">ptpool</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#32263a1c8b01baecdff9deb038955bc9"><span class="id" title="notation">≠</span></a> 0 → <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#pperm"><span class="id" title="projection">pperm</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#PGAlloc"><span class="id" title="constructor">PGAlloc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <span class="id" title="definition">ZMap.get</span> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#LAT"><span class="id" title="projection">LAT</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#LATCValid"><span class="id" title="constructor">LATCValid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#0ae6347154955be5e4fdfa755ff4a025"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#0ae6347154955be5e4fdfa755ff4a025"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#nps"><span class="id" title="projection">nps</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="mcertikos.objects.AbstractDataType.html#pg"><span class="id" title="projection">pg</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_palloc_spec"><span class="id" title="definition">big_palloc_spec</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>. <span class="id" title="var">refine_split&acute;</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a0</span> <span class="id" title="keyword">as</span> (? &amp; ? &amp; ?). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">refine_split&acute;</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">refine_split&acute;</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HF</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">HF</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">refine_split&acute;</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HF</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">HF</span>. <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptAllocPDE_high_level_inv"><span class="id" title="lemma">ptAllocPDE_high_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ptAllocPDE_spec"><span class="id" title="definition">big_ptAllocPDE_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_high_level_inv"><span class="id" title="lemma">palloc_high_level_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exploit</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_high_level_inv"><span class="id" title="lemma">palloc_high_level_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="mcertikos.proc.PBThread.html#big_palloc_inv_prop"><span class="id" title="lemma">big_palloc_inv_prop</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> (<span class="id" title="var">HPT</span> &amp; <span class="id" title="var">Halloc</span> &amp; <span class="id" title="var">Hpg</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HPT</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>; <span class="id" title="var">constructor_gso_simpl_tac</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">congruence</span>); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaMemory.html#PMap_valid_gso_pde_unp"><span class="id" title="lemma">PMap_valid_gso_pde_unp</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.clib.CalRealInitPTE.html#real_init_PTE_defined"><span class="id" title="lemma">real_init_PTE_defined</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaMemory.html#PMap_kern_gso"><span class="id" title="lemma">PMap_kern_gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.flatmem.FlatMemory.html#dirty_ppage&acute;_gss"><span class="id" title="lemma">dirty_ppage&acute;_gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptAllocPDE_low_level_inv"><span class="id" title="lemma">ptAllocPDE_low_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">v</span> <span class="id" title="var">n&acute;</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ptAllocPDE_spec"><span class="id" title="definition">big_ptAllocPDE_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_low_level_inv"><span class="id" title="lemma">palloc_low_level_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exploit</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_low_level_inv"><span class="id" title="lemma">palloc_low_level_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptAllocPDE_kernel_mode"><span class="id" title="lemma">ptAllocPDE_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ptAllocPDE_spec"><span class="id" title="definition">big_ptAllocPDE_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_kernel_mode"><span class="id" title="lemma">palloc_kernel_mode</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">exploit</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_kernel_mode"><span class="id" title="lemma">palloc_kernel_mode</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.PTINSERT.PTPALLOCPDE"><span class="id" title="section">PTPALLOCPDE</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptInsert_high_level_inv"><span class="id" title="lemma">ptInsert_high_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">padr</span> <span class="id" title="var">p</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ptInsert_spec"><span class="id" title="definition">big_ptInsert_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#padr"><span class="id" title="variable">padr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptInsertPTE_high_level_inv"><span class="id" title="lemma">ptInsertPTE_high_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptAllocPDE_high_level_inv"><span class="id" title="lemma">ptAllocPDE_high_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptInsertPTE_high_level_inv"><span class="id" title="lemma">ptInsertPTE_high_level_inv</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptAllocPDE_high_level_inv"><span class="id" title="lemma">ptAllocPDE_high_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptInsert_low_level_inv"><span class="id" title="lemma">ptInsert_low_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">padr</span> <span class="id" title="var">p</span> <span class="id" title="var">n&acute;</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ptInsert_spec"><span class="id" title="definition">big_ptInsert_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#padr"><span class="id" title="variable">padr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptInsertPTE_low_level_inv"><span class="id" title="lemma">ptInsertPTE_low_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptAllocPDE_low_level_inv"><span class="id" title="lemma">ptAllocPDE_low_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptInsertPTE_low_level_inv"><span class="id" title="lemma">ptInsertPTE_low_level_inv</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptAllocPDE_low_level_inv"><span class="id" title="lemma">ptAllocPDE_low_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptInsert_kernel_mode"><span class="id" title="lemma">ptInsert_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">padr</span> <span class="id" title="var">p</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ptInsert_spec"><span class="id" title="definition">big_ptInsert_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#padr"><span class="id" title="variable">padr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptInsertPTE_kernel_mode"><span class="id" title="lemma">ptInsertPTE_kernel_mode</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptAllocPDE_kernel_mode"><span class="id" title="lemma">ptAllocPDE_kernel_mode</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptInsertPTE_kernel_mode"><span class="id" title="lemma">ptInsertPTE_kernel_mode</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptAllocPDE_kernel_mode"><span class="id" title="lemma">ptAllocPDE_kernel_mode</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.PTINSERT"><span class="id" title="section">PTINSERT</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.PTRESV"><span class="id" title="section">PTRESV</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptResv_high_level_inv"><span class="id" title="lemma">ptResv_high_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">p</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ptResv_spec"><span class="id" title="definition">big_ptResv_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_high_level_inv"><span class="id" title="lemma">palloc_high_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptInsert_high_level_inv"><span class="id" title="lemma">ptInsert_high_level_inv</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_high_level_inv"><span class="id" title="lemma">palloc_high_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptResv_low_level_inv"><span class="id" title="lemma">ptResv_low_level_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">p</span> <span class="id" title="var">n&acute;</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ptResv_spec"><span class="id" title="definition">big_ptResv_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n&acute;"><span class="id" title="variable">n&acute;</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_low_level_inv"><span class="id" title="lemma">palloc_low_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptInsert_low_level_inv"><span class="id" title="lemma">ptInsert_low_level_inv</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_low_level_inv"><span class="id" title="lemma">palloc_low_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptResv_kernel_mode"><span class="id" title="lemma">ptResv_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">vadr</span> <span class="id" title="var">p</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ptResv_spec"><span class="id" title="definition">big_ptResv_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#vadr"><span class="id" title="variable">vadr</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_kernel_mode"><span class="id" title="lemma">palloc_kernel_mode</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptInsert_kernel_mode"><span class="id" title="lemma">ptInsert_kernel_mode</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#palloc_kernel_mode"><span class="id" title="lemma">palloc_kernel_mode</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="ptResv_inv"><span class="id" title="instance">ptResv_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ptResv_spec"><span class="id" title="definition">big_ptResv_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptResv_low_level_inv"><span class="id" title="lemma">ptResv_low_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptResv_high_level_inv"><span class="id" title="lemma">ptResv_high_level_inv</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#ptResv_kernel_mode"><span class="id" title="lemma">ptResv_kernel_mode</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.PTRESV"><span class="id" title="section">PTRESV</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="thread_wakeup_inv"><span class="id" title="instance">thread_wakeup_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_thread_wakeup_spec"><span class="id" title="definition">big_thread_wakeup_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">me</span> <span class="id" title="var">l&acute;</span> <span class="id" title="var">l1</span> <span class="id" title="var">to</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span> <span class="id" title="var">me</span> <span class="id" title="var">l&acute;</span> <span class="id" title="var">l1</span> <span class="id" title="var">to</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="big_proc_create_inv"><span class="id" title="instance">big_proc_create_inv</span></a>: <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#PCreateInvariants"><span class="id" title="class">PCreateInvariants</span></a> <a class="idref" href="mcertikos.objects.ObjProc.html#big_proc_create_spec"><span class="id" title="definition">big_proc_create_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjProc.html#big_proc_create_spec"><span class="id" title="definition">big_proc_create_spec</span></a> <span class="id" title="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaThread.html#kctxt_inject_neutral_gss_flatinj&acute;"><span class="id" title="lemma">kctxt_inject_neutral_gss_flatinj&acute;</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaThread.html#kctxt_inject_neutral_gss_flatinj"><span class="id" title="lemma">kctxt_inject_neutral_gss_flatinj</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral_gss"><span class="id" title="lemma">uctxt_inject_neutral_gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral0_gss"><span class="id" title="lemma">uctxt_inject_neutral0_gss</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral0_Vint"><span class="id" title="lemma">uctxt_inject_neutral0_Vint</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral_impl"><span class="id" title="lemma">uctxt_inject_neutral_impl</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral0_Vptr_flat"><span class="id" title="lemma">uctxt_inject_neutral0_Vptr_flat</span></a>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hrdyq</span>: 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">≤</span></a> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#rdy_q_id"><span class="id" title="definition">rdy_q_id</span></a> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#cb2fd1306e4fe5d333fd9fb7e2c4a1d2"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="mcertikos.layerlib.Constant.html#num_chan"><span class="id" title="abbreviation">num_chan</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#rdy_q_id"><span class="id" title="definition">rdy_q_id</span></a>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> 2; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exploit</span> <a class="idref" href="mcertikos.invariants.INVLemmaContainer.html#split_container_valid"><span class="id" title="lemma">split_container_valid</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hdestruct3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">generalize</span> (<span class="id" title="var">valid_root0</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">intros</span> <span class="id" title="var">Htemp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">Htemp</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">valid_idle_cid</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Htemp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#88e34ed7a73f02772126289867960764"><span class="id" title="notation">(</span></a><span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <span class="id" title="var">d</span>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#88e34ed7a73f02772126289867960764"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#88e34ed7a73f02772126289867960764"><span class="id" title="notation">×</span></a> 8 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.ZArith.BinInt.html#Z.of_nat"><span class="id" title="definition">Z.of_nat</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#cchildren"><span class="id" title="projection">cchildren</span></a> (<span class="id" title="definition">ZMap.get</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <span class="id" title="var">d</span>)) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#AC"><span class="id" title="projection">AC</span></a> <span class="id" title="var">d</span>)))))); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i</span> (<span class="id" title="definition">ZMap.get</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>) (<a class="idref" href="mcertikos.objects.AbstractDataType.html#cid"><span class="id" title="projection">cid</span></a> <span class="id" title="var">d</span>))); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="sched_init_inv"><span class="id" title="instance">sched_init_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_sched_init_spec"><span class="id" title="definition">big_sched_init_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.clib.RealParams.html#real_nps_range"><span class="id" title="lemma">real_nps_range</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.invariants.INVLemmaContainer.html#AC_init_container_valid"><span class="id" title="lemma">AC_init_container_valid</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.clib.CalRealPT.html#real_pt_PMap_valid"><span class="id" title="lemma">real_pt_PMap_valid</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.clib.CalRealPT.html#real_pt_PMap_kern"><span class="id" title="lemma">real_pt_PMap_kern</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="mcertikos.clib.CalRealIDPDE.html#real_idpde_init"><span class="id" title="lemma">real_idpde_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#AC_init"><span class="id" title="definition">AC_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#init_real_container"><span class="id" title="definition">init_real_container</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i0</span> 8); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i0</span> 7); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i0</span> 6); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i0</span> 5); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i0</span> 4); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i0</span> 3); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i0</span> 2); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i0</span> 1); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">i0</span> 0); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>; [<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">erewrite</span> <a class="idref" href="mcertikos.clib.CalRealProcModule.html#real_valid_cidpool"><span class="id" title="lemma">real_valid_cidpool</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local</span>&nbsp;<span class="id" title="keyword">Opaque</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Lists.List.html#remove"><span class="id" title="definition">remove</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.YIELD"><span class="id" title="section">YIELD</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="thread_yield_inv"><span class="id" title="instance">thread_yield_inv</span></a>: <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#ThreadScheduleInvariants"><span class="id" title="class">ThreadScheduleInvariants</span></a> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_thread_yield_spec"><span class="id" title="definition">big_thread_yield_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaThread.html#kctxt_inject_neutral_gss_mem"><span class="id" title="lemma">kctxt_inject_neutral_gss_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.YIELD"><span class="id" title="section">YIELD</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="thread_sleep_inv"><span class="id" title="instance">thread_sleep_inv</span></a>: <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#ThreadTransferInvariants"><span class="id" title="class">ThreadTransferInvariants</span></a> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_thread_sleep_spec"><span class="id" title="definition">big_thread_sleep_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaThread.html#kctxt_inject_neutral_gss_mem"><span class="id" title="lemma">kctxt_inject_neutral_gss_mem</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>. <span class="id" title="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="uctx_set_inv"><span class="id" title="instance">uctx_set_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjProc.html#uctx_set_spec"><span class="id" title="definition">uctx_set_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral_gss"><span class="id" title="lemma">uctxt_inject_neutral_gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral0_gss"><span class="id" title="lemma">uctxt_inject_neutral0_gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral0_Vint"><span class="id" title="lemma">uctxt_inject_neutral0_Vint</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="proc_start_user_inv"><span class="id" title="instance">proc_start_user_inv</span></a>: <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#StartUserInvariants"><span class="id" title="class">StartUserInvariants</span></a> <a class="idref" href="mcertikos.objects.ObjProc.html#proc_start_user_spec"><span class="id" title="definition">proc_start_user_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="proc_exit_user_inv"><span class="id" title="instance">proc_exit_user_inv</span></a>: <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#ExitUserInvariants"><span class="id" title="class">ExitUserInvariants</span></a> <a class="idref" href="mcertikos.objects.ObjProc.html#proc_exit_user_spec"><span class="id" title="definition">proc_exit_user_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral_gss"><span class="id" title="lemma">uctxt_inject_neutral_gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral0_gss"><span class="id" title="lemma">uctxt_inject_neutral0_gss</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral0_Vint"><span class="id" title="lemma">uctxt_inject_neutral0_Vint</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral0_init"><span class="id" title="lemma">uctxt_inject_neutral0_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="proc_start_user_inv2"><span class="id" title="instance">proc_start_user_inv2</span></a>: <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#StartUserInvariants2"><span class="id" title="class">StartUserInvariants2</span></a> <a class="idref" href="mcertikos.objects.ObjProc.html#proc_start_user_spec"><span class="id" title="definition">proc_start_user_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="proc_exit_user_inv2"><span class="id" title="instance">proc_exit_user_inv2</span></a>: <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#ExitUserInvariants2"><span class="id" title="class">ExitUserInvariants2</span></a> <a class="idref" href="mcertikos.objects.ObjProc.html#proc_exit_user_spec"><span class="id" title="definition">proc_exit_user_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral_gss"><span class="id" title="lemma">uctxt_inject_neutral_gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral0_gss"><span class="id" title="lemma">uctxt_inject_neutral0_gss</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral0_Vint"><span class="id" title="lemma">uctxt_inject_neutral0_Vint</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaProc.html#uctxt_inject_neutral0_init"><span class="id" title="lemma">uctxt_inject_neutral0_init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="proc_create_postinit_inv"><span class="id" title="instance">proc_create_postinit_inv</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjCPU.html#proc_create_postinit_spec"><span class="id" title="definition">proc_create_postinit_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.INTELVMSUPPORT"><span class="id" title="section">INTELVMSUPPORT</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.INTELVMSUPPORT.INTERCEPT_INTWIN"><span class="id" title="section">INTERCEPT_INTWIN</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_intercept_intwin_high_inv"><span class="id" title="lemma">vmx_set_intercept_intwin_high_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_intercept_intwin_spec"><span class="id" title="definition">vmx_set_intercept_intwin_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_intercept_intwin_low_inv"><span class="id" title="lemma">vmx_set_intercept_intwin_low_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_intercept_intwin_spec"><span class="id" title="definition">vmx_set_intercept_intwin_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSPool_inject_neutral"><span class="id" title="definition">VMCSPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMCS_inject_neutral_gss_Vint"><span class="id" title="lemma">VMCS_inject_neutral_gss_Vint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSPool_inject_neutral"><span class="id" title="definition">VMCSPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMCS_inject_neutral_gss_Vint"><span class="id" title="lemma">VMCS_inject_neutral_gss_Vint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_intercept_intwin_kernel_mode"><span class="id" title="lemma">vmx_set_intercept_intwin_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_intercept_intwin_spec"><span class="id" title="definition">vmx_set_intercept_intwin_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="vmx_set_intercept_intwin_inv"><span class="id" title="instance">vmx_set_intercept_intwin_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_intercept_intwin_spec"><span class="id" title="definition">vmx_set_intercept_intwin_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_intercept_intwin_low_inv"><span class="id" title="lemma">vmx_set_intercept_intwin_low_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_intercept_intwin_high_inv"><span class="id" title="lemma">vmx_set_intercept_intwin_high_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_intercept_intwin_kernel_mode"><span class="id" title="lemma">vmx_set_intercept_intwin_kernel_mode</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.INTELVMSUPPORT.INTERCEPT_INTWIN"><span class="id" title="section">INTERCEPT_INTWIN</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.INTELVMSUPPORT.SET_DESC1"><span class="id" title="section">SET_DESC1</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_desc1_high_inv"><span class="id" title="lemma">vmx_set_desc1_high_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc1_spec"><span class="id" title="definition">vmx_set_desc1_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_desc1_low_inv"><span class="id" title="lemma">vmx_set_desc1_low_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc1_spec"><span class="id" title="definition">vmx_set_desc1_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSPool_inject_neutral"><span class="id" title="definition">VMCSPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMCS_inject_neutral_gss_Vint_same"><span class="id" title="lemma">VMCS_inject_neutral_gss_Vint_same</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSPool_inject_neutral"><span class="id" title="definition">VMCSPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMCS_inject_neutral_gss_Vint_same"><span class="id" title="lemma">VMCS_inject_neutral_gss_Vint_same</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_desc1_kernel_mode"><span class="id" title="lemma">vmx_set_desc1_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc1_spec"><span class="id" title="definition">vmx_set_desc1_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="vmx_set_desc1_inv"><span class="id" title="instance">vmx_set_desc1_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc1_spec"><span class="id" title="definition">vmx_set_desc1_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_desc1_low_inv"><span class="id" title="lemma">vmx_set_desc1_low_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_desc1_high_inv"><span class="id" title="lemma">vmx_set_desc1_high_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_desc1_kernel_mode"><span class="id" title="lemma">vmx_set_desc1_kernel_mode</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.INTELVMSUPPORT.SET_DESC1"><span class="id" title="section">SET_DESC1</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.INTELVMSUPPORT.SET_DESC2"><span class="id" title="section">SET_DESC2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_desc2_high_inv"><span class="id" title="lemma">vmx_set_desc2_high_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc2_spec"><span class="id" title="definition">vmx_set_desc2_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_desc2_low_inv"><span class="id" title="lemma">vmx_set_desc2_low_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc2_spec"><span class="id" title="definition">vmx_set_desc2_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSPool_inject_neutral"><span class="id" title="definition">VMCSPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMCS_inject_neutral_gss_Vint_same"><span class="id" title="lemma">VMCS_inject_neutral_gss_Vint_same</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSPool_inject_neutral"><span class="id" title="definition">VMCSPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMCS_inject_neutral_gss_Vint_same"><span class="id" title="lemma">VMCS_inject_neutral_gss_Vint_same</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_desc2_kernel_mode"><span class="id" title="lemma">vmx_set_desc2_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc2_spec"><span class="id" title="definition">vmx_set_desc2_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="vmx_set_desc2_inv"><span class="id" title="instance">vmx_set_desc2_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc2_spec"><span class="id" title="definition">vmx_set_desc2_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_desc2_low_inv"><span class="id" title="lemma">vmx_set_desc2_low_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_desc2_high_inv"><span class="id" title="lemma">vmx_set_desc2_high_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_desc2_kernel_mode"><span class="id" title="lemma">vmx_set_desc2_kernel_mode</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.INTELVMSUPPORT.SET_DESC2"><span class="id" title="section">SET_DESC2</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.INTELVMSUPPORT.INJECT_EVENT"><span class="id" title="section">INJECT_EVENT</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_inject_event_high_inv"><span class="id" title="lemma">vmx_inject_event_high_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_inject_event_spec"><span class="id" title="definition">vmx_inject_event_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i2"><span class="id" title="variable">i2</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_inject_event_low_inv"><span class="id" title="lemma">vmx_inject_event_low_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_inject_event_spec"><span class="id" title="definition">vmx_inject_event_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i2"><span class="id" title="variable">i2</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSPool_inject_neutral"><span class="id" title="definition">VMCSPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMCS_inject_neutral_gss_Vint_same"><span class="id" title="lemma">VMCS_inject_neutral_gss_Vint_same</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSPool_inject_neutral"><span class="id" title="definition">VMCSPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMCS_inject_neutral_gss_Vint_same"><span class="id" title="lemma">VMCS_inject_neutral_gss_Vint_same</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_inject_event_kernel_mode"><span class="id" title="lemma">vmx_inject_event_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_inject_event_spec"><span class="id" title="definition">vmx_inject_event_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i2"><span class="id" title="variable">i2</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="vmx_inject_event_inv"><span class="id" title="instance">vmx_inject_event_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_inject_event_spec"><span class="id" title="definition">vmx_inject_event_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_inject_event_low_inv"><span class="id" title="lemma">vmx_inject_event_low_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_inject_event_high_inv"><span class="id" title="lemma">vmx_inject_event_high_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_inject_event_kernel_mode"><span class="id" title="lemma">vmx_inject_event_kernel_mode</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.INTELVMSUPPORT.INJECT_EVENT"><span class="id" title="section">INJECT_EVENT</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.INTELVMSUPPORT.SET_TSC_OFFSET"><span class="id" title="section">SET_TSC_OFFSET</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_tsc_offset_high_inv"><span class="id" title="lemma">vmx_set_tsc_offset_high_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_tsc_offset_spec"><span class="id" title="definition">vmx_set_tsc_offset_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_tsc_offset_low_inv"><span class="id" title="lemma">vmx_set_tsc_offset_low_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_tsc_offset_spec"><span class="id" title="definition">vmx_set_tsc_offset_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSPool_inject_neutral"><span class="id" title="definition">VMCSPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMCS_inject_neutral_gss_Vint_same"><span class="id" title="lemma">VMCS_inject_neutral_gss_Vint_same</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_tsc_offset_kernel_mode"><span class="id" title="lemma">vmx_set_tsc_offset_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_tsc_offset_spec"><span class="id" title="definition">vmx_set_tsc_offset_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="vmx_set_tsc_offset_inv"><span class="id" title="instance">vmx_set_tsc_offset_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_tsc_offset_spec"><span class="id" title="definition">vmx_set_tsc_offset_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_tsc_offset_low_inv"><span class="id" title="lemma">vmx_set_tsc_offset_low_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_tsc_offset_high_inv"><span class="id" title="lemma">vmx_set_tsc_offset_high_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_tsc_offset_kernel_mode"><span class="id" title="lemma">vmx_set_tsc_offset_kernel_mode</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.INTELVMSUPPORT.SET_TSC_OFFSET"><span class="id" title="section">SET_TSC_OFFSET</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.INTELVMSUPPORT.SET_REG"><span class="id" title="section">SET_REG</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_reg_high_inv"><span class="id" title="lemma">vmx_set_reg_high_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_set_reg_spec"><span class="id" title="definition">vmx_set_reg_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_reg_low_inv"><span class="id" title="lemma">vmx_set_reg_low_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_set_reg_spec"><span class="id" title="definition">vmx_set_reg_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMXPool_inject_neutral"><span class="id" title="definition">VMXPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMX_inject_neutral_gss_Vint"><span class="id" title="lemma">VMX_inject_neutral_gss_Vint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSPool_inject_neutral"><span class="id" title="definition">VMCSPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMCS_inject_neutral_gss_Vint"><span class="id" title="lemma">VMCS_inject_neutral_gss_Vint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_reg_kernel_mode"><span class="id" title="lemma">vmx_set_reg_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_set_reg_spec"><span class="id" title="definition">vmx_set_reg_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="vmx_set_reg_inv"><span class="id" title="instance">vmx_set_reg_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_set_reg_spec"><span class="id" title="definition">vmx_set_reg_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_reg_low_inv"><span class="id" title="lemma">vmx_set_reg_low_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_reg_high_inv"><span class="id" title="lemma">vmx_set_reg_high_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_reg_kernel_mode"><span class="id" title="lemma">vmx_set_reg_kernel_mode</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.INTELVMSUPPORT.SET_REG"><span class="id" title="section">SET_REG</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Section</span> <a name="WITHMEM.INV.INTELVMSUPPORT.SET_MMAP"><span class="id" title="section">SET_MMAP</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_mmap_high_inv"><span class="id" title="lemma">vmx_set_mmap_high_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_set_mmap_spec"><span class="id" title="definition">vmx_set_mmap_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#high_level_invariant"><span class="id" title="record">high_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_mmap_low_inv"><span class="id" title="lemma">vmx_set_mmap_low_inv</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">n</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_set_mmap_spec"><span class="id" title="definition">vmx_set_mmap_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.AbstractDataType.html#low_level_invariant"><span class="id" title="record">low_level_invariant</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">eauto</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="vmx_set_mmap_kernel_mode"><span class="id" title="lemma">vmx_set_mmap_kernel_mode</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">d</span> <span class="id" title="var">d&acute;</span> <span class="id" title="var">i</span> <span class="id" title="var">i0</span> <span class="id" title="var">i1</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_set_mmap_spec"><span class="id" title="definition">vmx_set_mmap_spec</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i0"><span class="id" title="variable">i0</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#i1"><span class="id" title="variable">i1</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="mcertikos.proc.PBThread.html#v"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>→<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d"><span class="id" title="variable">d</span></a> →<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="method">kernel_mode</span> <a class="idref" href="mcertikos.proc.PBThread.html#d&acute;"><span class="id" title="variable">d&acute;</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="vmx_set_mmap_inv"><span class="id" title="instance">vmx_set_mmap_inv</span></a>: <span class="id" title="class">PreservesInvariants</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_set_mmap_spec"><span class="id" title="definition">vmx_set_mmap_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">preserves_invariants_simpl&acute;</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_mmap_low_inv"><span class="id" title="lemma">vmx_set_mmap_low_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_mmap_high_inv"><span class="id" title="lemma">vmx_set_mmap_high_inv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.proc.PBThread.html#vmx_set_mmap_kernel_mode"><span class="id" title="lemma">vmx_set_mmap_kernel_mode</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.INTELVMSUPPORT.SET_MMAP"><span class="id" title="section">SET_MMAP</span></a>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="vmx_run_inv"><span class="id" title="instance">vmx_run_inv</span></a>: <a class="idref" href="mcertikos.layerlib.IntelPrimSemantics.html#VMXEnterInvariants"><span class="id" title="class">VMXEnterInvariants</span></a> <a class="idref" href="mcertikos.objects.ObjVMX.html#vm_run_spec"><span class="id" title="definition">vm_run_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vm_run_spec"><span class="id" title="definition">vm_run_spec</span></a> <span class="id" title="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMCSPool_inject_neutral"><span class="id" title="definition">VMCSPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMCS_inject_neutral_gss_Vint"><span class="id" title="lemma">VMCS_inject_neutral_gss_Vint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMXPool_inject_neutral"><span class="id" title="definition">VMXPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMX_inject_neutral_gss_enter"><span class="id" title="lemma">VMX_inject_neutral_gss_enter</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> 2; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="vmx_return_from_guest_inv"><span class="id" title="instance">vmx_return_from_guest_inv</span></a>: <a class="idref" href="mcertikos.layerlib.IntelPrimSemantics.html#VMXReturnInvariants"><span class="id" title="class">VMXReturnInvariants</span></a> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_return_from_guest_spec"><span class="id" title="definition">vmx_return_from_guest_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_return_from_guest_spec"><span class="id" title="definition">vmx_return_from_guest_spec</span></a> <span class="id" title="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">subdestruct</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="mcertikos.layerlib.AuxStateDataType.html#VMXPool_inject_neutral"><span class="id" title="definition">VMXPool_inject_neutral</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">case_eq</span> (<span class="id" title="definition">zeq</span> <span class="id" title="var">vmid</span> (<a class="idref" href="mcertikos.objects.AbstractDataType.html#CPU_ID"><span class="id" title="projection">CPU_ID</span></a> <span class="id" title="var">d</span>)); <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gss</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.invariants.INVLemmaIntel.html#VMX_inject_neutral_gss_Vint"><span class="id" title="lemma">VMX_inject_neutral_gss_Vint</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <span class="id" title="lemma">ZMap.gso</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span> 2; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="vmx_init_inv"><span class="id" title="instance">vmx_init_inv</span></a>: <a class="idref" href="mcertikos.layerlib.IntelPrimSemantics.html#VMCSSetDefaultsInvariants"><span class="id" title="class">VMCSSetDefaultsInvariants</span></a> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_init_spec"><span class="id" title="definition">vmx_init_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.clib.CalRealIntelModule.html#real_vmcs_inject_neutral"><span class="id" title="lemma">real_vmcs_inject_neutral</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.clib.CalRealIntelModule.html#real_vmx_inject_neutral"><span class="id" title="lemma">real_vmx_inject_neutral</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV.INTELVMSUPPORT"><span class="id" title="section">INTELVMSUPPORT</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM.INV"><span class="id" title="section">INV</span></a>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="exec_loadex"><span class="id" title="definition">exec_loadex</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} := <a class="idref" href="mcertikos.flatmem.LoadStoreSem3.html#exec_loadex3"><span class="id" title="definition">exec_loadex3</span></a> (<span class="id" title="var">F</span> := <a class="idref" href="mcertikos.proc.PBThread.html#F"><span class="id" title="variable">F</span></a>) (<span class="id" title="var">V</span> := <a class="idref" href="mcertikos.proc.PBThread.html#V"><span class="id" title="variable">V</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="exec_storeex"><span class="id" title="definition">exec_storeex</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} :=  <a class="idref" href="mcertikos.flatmem.LoadStoreSem3.html#exec_storeex3"><span class="id" title="definition">exec_storeex3</span></a> (<span class="id" title="var">flatmem_store</span>:= <a class="idref" href="mcertikos.objects.ObjFlatMem.html#flatmem_store"><span class="id" title="definition">flatmem_store</span></a>) (<span class="id" title="var">F</span> := <a class="idref" href="mcertikos.proc.PBThread.html#F"><span class="id" title="variable">F</span></a>) (<span class="id" title="var">V</span> := <a class="idref" href="mcertikos.proc.PBThread.html#V"><span class="id" title="variable">V</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="flatmem_store_inv"><span class="id" title="instance">flatmem_store_inv</span></a>: <a class="idref" href="mcertikos.flatmem.LoadStoreDef.html#FlatmemStoreInvariant"><span class="id" title="class">FlatmemStoreInvariant</span></a> (<span class="id" title="var">flatmem_store</span>:= <a class="idref" href="mcertikos.objects.ObjFlatMem.html#flatmem_store"><span class="id" title="definition">flatmem_store</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">functional</span> <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="mcertikos.flatmem.FlatMemory.html#dirty_ppage&acute;_store_unmapped&acute;"><span class="id" title="lemma">dirty_ppage&acute;_store_unmapped&acute;</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">eassumption</span>); <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="trapinfo_set_inv"><span class="id" title="instance">trapinfo_set_inv</span></a>: <a class="idref" href="mcertikos.flatmem.LoadStoreDef.html#TrapinfoSetInvariant"><span class="id" title="class">TrapinfoSetInvariant</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">inversion</span> 1; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="pbthread_passthrough"><span class="id" title="definition">pbthread_passthrough</span></a> : <span class="id" title="record">compatlayer</span> (<span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#RData"><span class="id" title="record">RData</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmxinfo_get"><span class="id" title="definition">vmxinfo_get</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjCPU.html#vmxinfo_get_spec"><span class="id" title="definition">vmxinfo_get_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#palloc"><span class="id" title="definition">palloc</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_palloc_spec"><span class="id" title="definition">big_palloc_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#set_pt"><span class="id" title="definition">set_pt</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjLMM1.html#setPT_spec"><span class="id" title="definition">setPT_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#pt_read"><span class="id" title="definition">pt_read</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMMFun.html#ptRead_spec"><span class="id" title="definition">ptRead_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#pt_resv"><span class="id" title="definition">pt_resv</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ptResv_spec"><span class="id" title="definition">big_ptResv_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#thread_wakeup"><span class="id" title="definition">thread_wakeup</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_thread_wakeup_spec"><span class="id" title="definition">big_thread_wakeup_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#thread_yield"><span class="id" title="definition">thread_yield</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#primcall_thread_schedule_compatsem"><span class="id" title="definition">primcall_thread_schedule_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_thread_yield_spec"><span class="id" title="definition">big_thread_yield_spec</span></a> (<span class="id" title="var">prim_ident</span>:= <a class="idref" href="mcertikos.layerlib.GlobIdent.html#thread_yield"><span class="id" title="definition">thread_yield</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#thread_sleep"><span class="id" title="definition">thread_sleep</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#primcall_thread_transfer_compatsem"><span class="id" title="definition">primcall_thread_transfer_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_thread_sleep_spec"><span class="id" title="definition">big_thread_sleep_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#sched_init"><span class="id" title="definition">sched_init</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_sched_init_spec"><span class="id" title="definition">big_sched_init_spec</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#uctx_get"><span class="id" title="definition">uctx_get</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjProc.html#uctx_get_spec"><span class="id" title="definition">uctx_get_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#uctx_set"><span class="id" title="definition">uctx_set</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjProc.html#uctx_set_spec"><span class="id" title="definition">uctx_set_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#proc_create"><span class="id" title="definition">proc_create</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#proc_create_compatsem"><span class="id" title="definition">proc_create_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjProc.html#big_proc_create_spec"><span class="id" title="definition">big_proc_create_spec</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#container_get_nchildren"><span class="id" title="definition">container_get_nchildren</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjContainer.html#container_get_nchildren_spec"><span class="id" title="definition">container_get_nchildren_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#container_get_quota"><span class="id" title="definition">container_get_quota</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjContainer.html#container_get_quota_spec"><span class="id" title="definition">container_get_quota_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#container_get_usage"><span class="id" title="definition">container_get_usage</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjContainer.html#container_get_usage_spec"><span class="id" title="definition">container_get_usage_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#container_can_consume"><span class="id" title="definition">container_can_consume</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjContainer.html#container_can_consume_spec"><span class="id" title="definition">container_can_consume_spec</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#get_CPU_ID"><span class="id" title="definition">get_CPU_ID</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjMultiprocessor.html#get_CPU_ID_spec"><span class="id" title="definition">get_CPU_ID_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#get_curid"><span class="id" title="definition">get_curid</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjMultiprocessor.html#get_curid_spec"><span class="id" title="definition">get_curid_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#acquire_lock_CHAN"><span class="id" title="definition">acquire_lock_CHAN</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_acquire_lock_SC_spec"><span class="id" title="definition">big_acquire_lock_SC_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#release_lock_CHAN"><span class="id" title="definition">release_lock_CHAN</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_release_lock_SC_spec"><span class="id" title="definition">big_release_lock_SC_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#get_sync_chan_busy"><span class="id" title="definition">get_sync_chan_busy</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjCV.html#get_sync_chan_busy_spec"><span class="id" title="definition">get_sync_chan_busy_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#set_sync_chan_busy"><span class="id" title="definition">set_sync_chan_busy</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjCV.html#set_sync_chan_busy_spec"><span class="id" title="definition">set_sync_chan_busy_spec</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#ipc_send_body"><span class="id" title="definition">ipc_send_body</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ipc_send_body_spec"><span class="id" title="definition">big_ipc_send_body_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#ipc_receive_body"><span class="id" title="definition">ipc_receive_body</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjBigThread.html#big_ipc_receive_body_spec"><span class="id" title="definition">big_ipc_receive_body_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#rdmsr"><span class="id" title="definition">rdmsr</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#rdmsr_spec"><span class="id" title="definition">rdmsr_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#wrmsr"><span class="id" title="definition">wrmsr</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#wrmsr_spec"><span class="id" title="definition">wrmsr_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_set_intercept_intwin"><span class="id" title="definition">vmx_set_intercept_intwin</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_intercept_intwin_spec"><span class="id" title="definition">vmx_set_intercept_intwin_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_set_desc1"><span class="id" title="definition">vmx_set_desc1</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc1_spec"><span class="id" title="definition">vmx_set_desc1_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_set_desc2"><span class="id" title="definition">vmx_set_desc2</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_desc2_spec"><span class="id" title="definition">vmx_set_desc2_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_inject_event"><span class="id" title="definition">vmx_inject_event</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_inject_event_spec"><span class="id" title="definition">vmx_inject_event_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_set_tsc_offset"><span class="id" title="definition">vmx_set_tsc_offset</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_set_tsc_offset_spec"><span class="id" title="definition">vmx_set_tsc_offset_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_get_tsc_offset"><span class="id" title="definition">vmx_get_tsc_offset</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_get_tsc_offset_spec"><span class="id" title="definition">vmx_get_tsc_offset_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_get_exit_reason"><span class="id" title="definition">vmx_get_exit_reason</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_get_exit_reason_spec"><span class="id" title="definition">vmx_get_exit_reason_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_get_exit_fault_addr"><span class="id" title="definition">vmx_get_exit_fault_addr</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_get_exit_fault_addr_spec"><span class="id" title="definition">vmx_get_exit_fault_addr_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_get_exit_qualification"><span class="id" title="definition">vmx_get_exit_qualification</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_get_exit_qualification_spec"><span class="id" title="definition">vmx_get_exit_qualification_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_check_pending_event"><span class="id" title="definition">vmx_check_pending_event</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_check_pending_event_spec"><span class="id" title="definition">vmx_check_pending_event_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_check_int_shadow"><span class="id" title="definition">vmx_check_int_shadow</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMCS.html#vmx_check_int_shadow_spec"><span class="id" title="definition">vmx_check_int_shadow_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_get_reg"><span class="id" title="definition">vmx_get_reg</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_get_reg_spec"><span class="id" title="definition">vmx_get_reg_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_set_reg"><span class="id" title="definition">vmx_set_reg</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_set_reg_spec"><span class="id" title="definition">vmx_set_reg_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_get_next_eip"><span class="id" title="definition">vmx_get_next_eip</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_get_next_eip_spec"><span class="id" title="definition">vmx_get_next_eip_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_get_io_width"><span class="id" title="definition">vmx_get_io_width</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_get_io_width_spec"><span class="id" title="definition">vmx_get_io_width_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_get_io_write"><span class="id" title="definition">vmx_get_io_write</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_get_io_write_spec"><span class="id" title="definition">vmx_get_io_write_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_get_exit_io_rep"><span class="id" title="definition">vmx_get_exit_io_rep</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_get_exit_io_rep_spec"><span class="id" title="definition">vmx_get_exit_io_rep_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_get_exit_io_str"><span class="id" title="definition">vmx_get_exit_io_str</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_get_exit_io_str_spec"><span class="id" title="definition">vmx_get_exit_io_str_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_get_exit_io_port"><span class="id" title="definition">vmx_get_exit_io_port</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_get_exit_io_port_spec"><span class="id" title="definition">vmx_get_exit_io_port_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_set_mmap"><span class="id" title="definition">vmx_set_mmap</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_set_mmap_spec"><span class="id" title="definition">vmx_set_mmap_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_run_vm"><span class="id" title="definition">vmx_run_vm</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.IntelPrimSemantics.html#primcall_vmx_enter_compatsem"><span class="id" title="definition">primcall_vmx_enter_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjVMX.html#vm_run_spec"><span class="id" title="definition">vm_run_spec</span></a> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_run_vm"><span class="id" title="definition">vmx_run_vm</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_return_from_guest"><span class="id" title="definition">vmx_return_from_guest</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.IntelPrimSemantics.html#primcall_vmx_return_compatsem"><span class="id" title="definition">primcall_vmx_return_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_return_from_guest_spec"><span class="id" title="definition">vmx_return_from_guest_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#vmx_init"><span class="id" title="definition">vmx_init</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.IntelPrimSemantics.html#vmcs_set_defaults_compatsem"><span class="id" title="definition">vmcs_set_defaults_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjVMX.html#vmx_init_spec"><span class="id" title="definition">vmx_init_spec</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#cli"><span class="id" title="definition">cli</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptController.html#cli_spec"><span class="id" title="definition">cli_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#sti"><span class="id" title="definition">sti</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptController.html#sti_spec"><span class="id" title="definition">sti_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#serial_intr_disable"><span class="id" title="definition">serial_intr_disable</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptManagement.html#serial_intr_disable_spec"><span class="id" title="definition">serial_intr_disable_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#serial_intr_enable"><span class="id" title="definition">serial_intr_enable</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.dev.ObjInterruptManagement.html#serial_intr_enable_spec"><span class="id" title="definition">serial_intr_enable_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#serial_putc"><span class="id" title="definition">serial_putc</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.dev.ObjSerialDriver.html#serial_putc_spec"><span class="id" title="definition">serial_putc_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#cons_buf_read"><span class="id" title="definition">cons_buf_read</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.dev.ObjConsole.html#cons_buf_read_spec"><span class="id" title="definition">cons_buf_read_spec</span></a>      <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#host_in"><span class="id" title="definition">host_in</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#primcall_general_compatsem"><span class="id" title="definition">primcall_general_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjCPU.html#hostin_spec"><span class="id" title="definition">hostin_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#host_out"><span class="id" title="definition">host_out</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#primcall_general_compatsem"><span class="id" title="definition">primcall_general_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjCPU.html#hostout_spec"><span class="id" title="definition">hostout_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#proc_create_postinit"><span class="id" title="definition">proc_create_postinit</span></a> <span class="id" title="notation">↦</span> <span class="id" title="definition">gensem</span> <a class="idref" href="mcertikos.objects.ObjCPU.html#proc_create_postinit_spec"><span class="id" title="definition">proc_create_postinit_spec</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#trap_get"><span class="id" title="definition">trap_get</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#primcall_trap_info_get_compatsem"><span class="id" title="definition">primcall_trap_info_get_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjCPU.html#trap_info_get_spec"><span class="id" title="definition">trap_info_get_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#trap_set"><span class="id" title="definition">trap_set</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#primcall_trap_info_ret_compatsem"><span class="id" title="definition">primcall_trap_info_ret_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjCPU.html#trap_info_ret_spec"><span class="id" title="definition">trap_info_ret_spec</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#proc_start_user"><span class="id" title="definition">proc_start_user</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#primcall_start_user_compatsem"><span class="id" title="definition">primcall_start_user_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjProc.html#proc_start_user_spec"><span class="id" title="definition">proc_start_user_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#proc_exit_user"><span class="id" title="definition">proc_exit_user</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#primcall_exit_user_compatsem"><span class="id" title="definition">primcall_exit_user_compatsem</span></a> <a class="idref" href="mcertikos.objects.ObjProc.html#proc_exit_user_spec"><span class="id" title="definition">proc_exit_user_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#proc_start_user2"><span class="id" title="definition">proc_start_user2</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#primcall_start_user_compatsem2"><span class="id" title="definition">primcall_start_user_compatsem2</span></a> <a class="idref" href="mcertikos.objects.ObjProc.html#proc_start_user_spec"><span class="id" title="definition">proc_start_user_spec</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.layerlib.GlobIdent.html#proc_exit_user2"><span class="id" title="definition">proc_exit_user2</span></a> <span class="id" title="notation">↦</span> <a class="idref" href="mcertikos.layerlib.PrimSemantics.html#primcall_exit_user_compatsem2"><span class="id" title="definition">primcall_exit_user_compatsem2</span></a> <a class="idref" href="mcertikos.objects.ObjProc.html#proc_exit_user_spec"><span class="id" title="definition">proc_exit_user_spec</span></a><br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">⊕</span> <span class="id" title="constructor">accessors</span> <span class="id" title="notation">↦</span> <span class="id" title="notation">{|</span> <span class="id" title="constructor">exec_load</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">@</span><span class="id" title="constructor">exec_loadex</span><span class="id" title="constructor">;</span> <span class="id" title="constructor">exec_store</span> <span class="id" title="constructor">:=</span> <span class="id" title="constructor">@</span><span class="id" title="constructor">exec_storeex</span> <span class="id" title="notation">|}</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="pbthread_fresh"><span class="id" title="definition">pbthread_fresh</span></a> : <span class="id" title="record">compatlayer</span> (<span class="id" title="definition">cdata</span> <a class="idref" href="mcertikos.objects.AbstractDataType.html#RData"><span class="id" title="record">RData</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">∅</span> <span class="id" title="notation">⊕</span> <span class="id" title="notation">∅</span>. 
<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="pbthread"><span class="id" title="definition">pbthread</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="mcertikos.proc.PBThread.html#pbthread_fresh"><span class="id" title="definition">pbthread_fresh</span></a> <span class="id" title="notation">⊕</span> <a class="idref" href="mcertikos.proc.PBThread.html#pbthread_passthrough"><span class="id" title="definition">pbthread_passthrough</span></a>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="mcertikos.proc.PBThread.html#WITHMEM"><span class="id" title="section">WITHMEM</span></a>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>